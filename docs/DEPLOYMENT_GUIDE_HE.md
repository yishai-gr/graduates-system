# מדריך הגדרת תהליך עדכון אוטומטי (Subtree Branch)

לבקשתך, הגדרנו תהליך שבו בכל עדכון, תוכנת GitHub Actions מעתיקה אוטומטית רק את תיקיית ה-`backend` לענף נפרד בשם `release-backend`. השרת בהוסטינגר יוגדר למשוך קוד מהענף הזה, כך שהוא יקבל רק את קבצי השרת בצורה נקייה בתיקייה הראשית.

## איך זה עובד?

1.  אתה דוחף קוד (Push) ל-`master` כרגיל.
2.  פעולה אוטומטית (Action) מזהה שנגעת ב-Backend.
3.  היא לוקחת את תוכן התיקייה `backend` ודוחפת אותו לענף חדש בשם `release-backend`.
4.  הוסטינגר (שתכף נגדיר) מושך את הקוד מהענף הזה.

## שלב 1: הגדרת הוסטינגר

עכשיו עליך להגדיר את הוסטינגר למשוך מהענף הנכון.

1.  היכנס לכלי ה-**Git** ב-Hostinger.
2.  אם קיים מאגר קודם - מחק אותו (בזהירות! וודא שיש לך גיבוי אם יש דברים חשובים). הוסטינגר דורש תיקייה ריקה להתקנה מחדש.
3.  צור מאגר חדש (Create Repository):
    - **Repository URL**: `https://github.com/yishai-gr/graduates-system.git`
    - **Branch**: `release-backend` (שים לב! זהו הענף המיוחד שיצרנו).
    - **Directory**: השאר ריק (כדי להתקין ב-`public_html`).
4.  לחץ **Create**.

**הערה חשובה:** ייתכן שהענף `release-backend` עדיין לא קיים ב-GitHub אם לא הרצת את הפעולה פעם אחת. לכן, ערוך שינוי קטן בקוד ה-Backend, בצע Push, וחכה דקה ש-GitHub ייצור את הענף לפני שתגדיר את Hostinger.

## שלב 2: עדכון אוטומטי (Webhook)

כדי שהוסטינגר יתעדכן אוטומטית כשיש גרסה חדשה ב-`release-backend`:

1.  ב-Hostinger, העתק את ה-**Webhook URL**.
2.  ב-GitHub > Settings > Webhooks.
3.  Add webhook:
    - הדבק את הכתובת.
    - סמן "Just the push event".
4.  וזהו.

## נספח: דרישות השרת (Database) - ללא שינוי

1.  וודא שיצרת מסד נתונים ב-Hostinger.
2.  וודא שיצרת קובץ `.env` בתיקייה הראשית בשרת (כעת ה-Backend הוא הראשי, אז הקובץ יהיה ממש ב-`public_html/.env`).
