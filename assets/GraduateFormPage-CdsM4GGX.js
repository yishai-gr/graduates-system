import{j as p,u as ka,F as lo,n as fo,H as jn,a as Sa,J as Oa,o as pr,K as xa,p as Da,L as Ea}from"./ui-cYaPCmFq.js";import{a as ho,r as w,R as O,i as Ca,u as za}from"./vendor-CxWUHsYF.js";import{o as mo,p as po,q as Ta,i as go,r as vo,h as yo,s as at,j as Te,t as bo,v as Vn,w as Na,x as Fa,y as Ia,z as Pa,E as $a,F as Aa,G as ja,H as Va,I as Wa,J as wo,K as Za,L as Ra,c as D,M as Wt,B as Qe,a as La}from"./index-B82nMEN1.js";import{g as fn}from"./graduatesService-Dd9FJ9M0.js";import{I as me}from"./input-CeRAAvL1.js";import{L as ae}from"./label-yuWOYWhE.js";import{t as R,c as le,g as gr,m as Ya,a as _o,b as Mo,d as Wn,e as Zn,f as Ba,h as Ua,i as Ge,j as ko,l as Ha,k as Ga,n as qa,w as Ja,o as hn,p as ut,q as lt,r as Ka,s as Xa,u as Qa,v as ei,H as K,x as Zt,y as ti}from"./calendar-C1b0yMA8.js";var mn={exports:{}},pn={};var vr;function ni(){if(vr)return pn;vr=1;var e=ho();function t(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function i(l,h){var u=h(),m=r({inst:{value:u,getSnapshot:h}}),v=m[0].inst,g=m[1];return s(function(){v.value=u,v.getSnapshot=h,c(v)&&g({inst:v})},[l,u,h]),o(function(){return c(v)&&g({inst:v}),l(function(){c(v)&&g({inst:v})})},[l]),a(u),u}function c(l){var h=l.getSnapshot;l=l.value;try{var u=h();return!n(l,u)}catch{return!0}}function d(l,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:i;return pn.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,pn}var yr;function ri(){return yr||(yr=1,mn.exports=ni()),mn.exports}var Gt="Popover",[So]=go(Gt,[mo]),wt=mo(),[oi,Ne]=So(Gt),Oo=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,i=wt(t),c=w.useRef(null),[d,f]=w.useState(!1),[l,h]=po({prop:r,defaultProp:o??!1,onChange:s,caller:Gt});return p.jsx(Ta,{...i,children:p.jsx(oi,{scope:t,contentId:vo(),triggerRef:c,open:l,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(u=>!u),[h]),hasCustomAnchor:d,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:a,children:n})})};Oo.displayName=Gt;var xo="PopoverAnchor",si=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(xo,n),s=wt(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return w.useEffect(()=>(a(),()=>i()),[a,i]),p.jsx(bo,{...s,...r,ref:t})});si.displayName=xo;var Do="PopoverTrigger",Eo=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(Do,n),s=wt(n),a=yo(t,o.triggerRef),i=p.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Fo(o.open),...r,ref:a,onClick:Te(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:p.jsx(bo,{asChild:!0,...s,children:i})});Eo.displayName=Do;var Rn="PopoverPortal",[ai,ii]=So(Rn,{forceMount:void 0}),Co=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=Ne(Rn,t);return p.jsx(ai,{scope:t,forceMount:n,children:p.jsx(Vn,{present:n||s.open,children:p.jsx(Na,{asChild:!0,container:o,children:r})})})};Co.displayName=Rn;var rt="PopoverContent",zo=w.forwardRef((e,t)=>{const n=ii(rt,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=Ne(rt,e.__scopePopover);return p.jsx(Vn,{present:r||s.open,children:s.modal?p.jsx(ui,{...o,ref:t}):p.jsx(li,{...o,ref:t})})});zo.displayName=rt;var ci=Pa("PopoverContent.RemoveScroll"),ui=w.forwardRef((e,t)=>{const n=Ne(rt,e.__scopePopover),r=w.useRef(null),o=yo(t,r),s=w.useRef(!1);return w.useEffect(()=>{const a=r.current;if(a)return Fa(a)},[]),p.jsx(Ia,{as:ci,allowPinchZoom:!0,children:p.jsx(To,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Te(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),li=w.forwardRef((e,t)=>{const n=Ne(rt,e.__scopePopover),r=w.useRef(!1),o=w.useRef(!1);return p.jsx(To,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),To=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...l}=e,h=Ne(rt,n),u=wt(n);return $a(),p.jsx(Aa,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(ja,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(Va,{"data-state":Fo(h.open),role:"dialog",id:h.contentId,...u,...l,ref:t,style:{...l.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),No="PopoverClose",di=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(No,n);return p.jsx(at.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>o.onOpenChange(!1))})});di.displayName=No;var fi="PopoverArrow",hi=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=wt(n);return p.jsx(Wa,{...o,...r,ref:t})});hi.displayName=fi;function Fo(e){return e?"open":"closed"}var mi=Oo,pi=Eo,gi=Co,vi=zo,qt="Tabs",[yi]=go(qt,[wo]),Io=wo(),[bi,Ln]=yi(qt),Po=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:a="horizontal",dir:i,activationMode:c="automatic",...d}=e,f=ka(i),[l,h]=po({prop:r,onChange:o,defaultProp:s??"",caller:qt});return p.jsx(bi,{scope:n,baseId:vo(),value:l,onValueChange:h,orientation:a,dir:f,activationMode:c,children:p.jsx(at.div,{dir:f,"data-orientation":a,...d,ref:t})})});Po.displayName=qt;var $o="TabsList",Ao=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Ln($o,n),a=Io(n);return p.jsx(Za,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(at.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Ao.displayName=$o;var jo="TabsTrigger",Vo=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,a=Ln(jo,n),i=Io(n),c=Ro(a.baseId,r),d=Lo(a.baseId,r),f=r===a.value;return p.jsx(Ra,{asChild:!0,...i,focusable:!o,active:f,children:p.jsx(at.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...s,ref:t,onMouseDown:Te(e.onMouseDown,l=>{!o&&l.button===0&&l.ctrlKey===!1?a.onValueChange(r):l.preventDefault()}),onKeyDown:Te(e.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&a.onValueChange(r)}),onFocus:Te(e.onFocus,()=>{const l=a.activationMode!=="manual";!f&&!o&&l&&a.onValueChange(r)})})})});Vo.displayName=jo;var Wo="TabsContent",Zo=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...a}=e,i=Ln(Wo,n),c=Ro(i.baseId,r),d=Lo(i.baseId,r),f=r===i.value,l=w.useRef(f);return w.useEffect(()=>{const h=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(Vn,{present:o||f,children:({present:h})=>p.jsx(at.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:l.current?"0s":void 0},children:h&&s})})});Zo.displayName=Wo;function Ro(e,t){return`${e}-trigger-${t}`}function Lo(e,t){return`${e}-content-${t}`}var wi=Po,_i=Ao,Mi=Vo,ki=Zo,gn={exports:{}},vn={};var br;function Si(){if(br)return vn;br=1;var e=ho(),t=ri();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,i=e.useMemo,c=e.useDebugValue;return vn.useSyncExternalStoreWithSelector=function(d,f,l,h,u){var m=s(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=i(function(){function y(_){if(!x){if(x=!0,M=_,_=h(_),u!==void 0&&v.hasValue){var C=v.value;if(u(C,_))return k=C}return k=_}if(C=k,r(M,_))return C;var F=h(_);return u!==void 0&&u(C,F)?(M=_,C):(M=_,k=F)}var x=!1,M,k,S=l===void 0?null:l;return[function(){return y(f())},S===null?void 0:function(){return y(S())}]},[f,l,h,u]);var g=o(d,m[0],m[1]);return a(function(){v.hasValue=!0,v.value=g},[g]),c(g),g},vn}var wr;function Oi(){return wr||(wr=1,gn.exports=Si()),gn.exports}var xi=Oi();function Yo(e,t,n){const r=R(e,n?.in);if(isNaN(t))return le(e,NaN);if(!t)return r;const o=r.getDate(),s=le(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return o>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function it(e,...t){const n=le.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function gt(e,t){const n=R(e,t?.in);return n.setHours(0,0,0,0),n}function Yn(e,t,n){const[r,o]=it(n?.in,e,t),s=gt(r),a=gt(o),i=+s-gr(s),c=+a-gr(a);return Math.round((i-c)/Ya)}function Di(e,t,n){return _o(e,t*7,n)}function Ei(e,t,n){return Yo(e,t*12,n)}function Ci(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=le.bind(null,o));const s=R(o,r);(!n||n<s||isNaN(+s))&&(n=s)}),le(r,n||NaN)}function zi(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=le.bind(null,o));const s=R(o,r);(!n||n>s||isNaN(+s))&&(n=s)}),le(r,n||NaN)}function Ti(e,t,n){const[r,o]=it(n?.in,e,t);return+gt(r)==+gt(o)}function Bo(e,t,n){const[r,o]=it(n?.in,e,t),s=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth();return s*12+a}function Ni(e,t){const n=R(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Uo(e,t){const[n,r]=it(e,t.start,t.end);return{start:n,end:r}}function Fi(e,t){const{start:n,end:r}=Uo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setDate(1);let i=1;const c=[];for(;+a<=s;)c.push(le(n,a)),a.setMonth(a.getMonth()+i);return o?c.reverse():c}function Ii(e,t){const n=R(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Pi(e,t){const n=R(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Ho(e,t){const n=R(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $i(e,t){const{start:n,end:r}=Uo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let i=1;const c=[];for(;+a<=s;)c.push(le(n,a)),a.setFullYear(a.getFullYear()+i);return o?c.reverse():c}function Go(e,t){const n=Mo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=R(e,t?.in),s=o.getDay(),a=(s<r?-7:0)+6-(s-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function Ai(e,t){return Go(e,{...t,weekStartsOn:1})}function ji(e,t){const n=R(e,t?.in);return Yn(n,Ho(n))+1}function V(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ee={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return V(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):V(n+1,2)},d(e,t){return V(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return V(e.getHours()%12||12,t.length)},H(e,t){return V(e.getHours(),t.length)},m(e,t){return V(e.getMinutes(),t.length)},s(e,t){return V(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return V(o,t.length)}},Ue={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_r={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Ee.y(e,t)},Y:function(e,t,n,r){const o=Ua(e,r),s=o>0?o:1-o;if(t==="YY"){const a=s%100;return V(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):V(s,t.length)},R:function(e,t){const n=Ba(e);return V(n,t.length)},u:function(e,t){const n=e.getFullYear();return V(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return V(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return V(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ee.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return V(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Zn(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):V(o,t.length)},I:function(e,t,n){const r=Wn(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):V(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ee.d(e,t)},D:function(e,t,n){const r=ji(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):V(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return V(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return V(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return V(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Ue.noon:r===0?o=Ue.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Ue.evening:r>=12?o=Ue.afternoon:r>=4?o=Ue.morning:o=Ue.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ee.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ee.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ee.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ee.s(e,t)},S:function(e,t){return Ee.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return kr(r);case"XXXX":case"XX":return Pe(r);default:return Pe(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kr(r);case"xxxx":case"xx":return Pe(r);default:return Pe(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Mr(r,":");default:return"GMT"+Pe(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Mr(r,":");default:return"GMT"+Pe(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return V(r,t.length)},T:function(e,t,n){return V(+e,t.length)}};function Mr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+V(s,2)}function kr(e,t){return e%60===0?(e>0?"-":"+")+V(Math.abs(e)/60,2):Pe(e,t)}function Pe(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=V(Math.trunc(r/60),2),s=V(r%60,2);return n+o+t+s}const Vi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zi=/^'([^]*?)'?$/,Ri=/''/g,Li=/[a-zA-Z]/;function $e(e,t,n){const r=Mo(),o=n?.locale??r.locale??Ge,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=R(e,n?.in);if(!ko(i))throw new RangeError("Invalid time value");let c=t.match(Wi).map(f=>{const l=f[0];if(l==="p"||l==="P"){const h=Ha[l];return h(f,o.formatLong)}return f}).join("").match(Vi).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const l=f[0];if(l==="'")return{isToken:!1,value:Yi(f)};if(_r[l])return{isToken:!0,value:f};if(l.match(Li))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(c=o.localize.preprocessor(i,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:o};return c.map(f=>{if(!f.isToken)return f.value;const l=f.value;(!n?.useAdditionalWeekYearTokens&&Ga(l)||!n?.useAdditionalDayOfYearTokens&&qa(l))&&Ja(l,t,String(e));const h=_r[l[0]];return h(i,l,o.localize,d)}).join("")}function Yi(e){const t=e.match(Zi);return t?t[1].replace(Ri,"'"):e}function Bi(e,t){const n=R(e,t?.in),r=n.getFullYear(),o=n.getMonth(),s=le(n,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function Ui(e,t){return R(e,t?.in).getMonth()}function Hi(e,t){return R(e,t?.in).getFullYear()}function Gi(e,t){return+R(e)>+R(t)}function qi(e,t){return+R(e)<+R(t)}function Ji(e,t,n){const[r,o]=it(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Ki(e,t,n){const[r,o]=it(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Xi(e,t,n){const r=R(e,n?.in),o=r.getFullYear(),s=r.getDate(),a=le(e,0);a.setFullYear(o,t,15),a.setHours(0,0,0,0);const i=Bi(a);return r.setMonth(t,Math.min(s,i)),r}function Qi(e,t,n){const r=R(e,n?.in);return isNaN(+r)?le(e,NaN):(r.setFullYear(t),r)}function ec(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const tc={},ft={};function Ae(e,t){try{const r=(tc[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in ft?ft[r]:Sr(r,r.split(":"))}catch{if(e in ft)return ft[e];const n=e?.match(nc);return n?Sr(e,n.slice(1)):NaN}}const nc=/([+-]\d\d):?(\d\d)?/;function Sr(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return ft[e]=n*60+r>0?n*60+r+o:n*60-r-o}class be extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ae(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),qo(this),On(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new be(...n,t):new be(Date.now(),t)}withTimeZone(t){return new be(+this,t)}getTimezoneOffset(){const t=-Ae(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),On(this),+this}[Symbol.for("constructDateFrom")](t){return new be(+new Date(t),this.timeZone)}}const Or=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Or.test(e))return;const t=e.replace(Or,"$1UTC");be.prototype[t]&&(e.startsWith("get")?be.prototype[e]=function(){return this.internal[t]()}:(be.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),rc(this),+this},be.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),On(this),+this}))});function On(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Ae(e.timeZone,e)*60))}function rc(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),qo(e)}function qo(e){const t=Ae(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),a=o-s,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=o-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const d=new Date(+e);d.setUTCSeconds(0);const f=o>0?d.getSeconds():(d.getSeconds()-60)%60,l=Math.round(-(Ae(e.timeZone,e)*60))%60;(l||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+l),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+l+f));const h=Ae(e.timeZone,e),u=h>0?Math.floor(h):Math.ceil(h),v=-new Date(+e).getTimezoneOffset()-u,g=u!==n,y=v-c;if(g&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const x=Ae(e.timeZone,e),M=x>0?Math.floor(x):Math.ceil(x),k=u-M;k&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+k))}}class ee extends be{static tz(t,...n){return n.length?new ee(...n,t):new ee(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${ec(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new ee(+this,t)}[Symbol.for("constructDateFrom")](t){return new ee(+new Date(t),this.timeZone)}}const xr=5,oc=4;function sc(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),s=t.addDays(o,xr*7-1);return t.getMonth(e)===t.getMonth(s)?xr:oc}function Jo(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function ac(e,t){const n=Jo(e,t),r=sc(e,t);return t.addDays(n,r*7-1)}const ic={lessThanXSeconds:{one:"פחות משנייה",two:"פחות משתי שניות",other:"פחות מ־{{count}} שניות"},xSeconds:{one:"שנייה",two:"שתי שניות",other:"{{count}} שניות"},halfAMinute:"חצי דקה",lessThanXMinutes:{one:"פחות מדקה",two:"פחות משתי דקות",other:"פחות מ־{{count}} דקות"},xMinutes:{one:"דקה",two:"שתי דקות",other:"{{count}} דקות"},aboutXHours:{one:"כשעה",two:"כשעתיים",other:"כ־{{count}} שעות"},xHours:{one:"שעה",two:"שעתיים",other:"{{count}} שעות"},xDays:{one:"יום",two:"יומיים",other:"{{count}} ימים"},aboutXWeeks:{one:"כשבוע",two:"כשבועיים",other:"כ־{{count}} שבועות"},xWeeks:{one:"שבוע",two:"שבועיים",other:"{{count}} שבועות"},aboutXMonths:{one:"כחודש",two:"כחודשיים",other:"כ־{{count}} חודשים"},xMonths:{one:"חודש",two:"חודשיים",other:"{{count}} חודשים"},aboutXYears:{one:"כשנה",two:"כשנתיים",other:"כ־{{count}} שנים"},xYears:{one:"שנה",two:"שנתיים",other:"{{count}} שנים"},overXYears:{one:"יותר משנה",two:"יותר משנתיים",other:"יותר מ־{{count}} שנים"},almostXYears:{one:"כמעט שנה",two:"כמעט שנתיים",other:"כמעט {{count}} שנים"}},cc=(e,t,n)=>{if(e==="xDays"&&n?.addSuffix&&t<=2)return n.comparison&&n.comparison>0?t===1?"מחר":"מחרתיים":t===1?"אתמול":"שלשום";let r;const o=ic[e];return typeof o=="string"?r=o:t===1?r=o.one:t===2?r=o.two:r=o.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"בעוד "+r:"לפני "+r:r},uc={full:"EEEE, d בMMMM y",long:"d בMMMM y",medium:"d בMMM y",short:"d.M.y"},lc={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},dc={full:"{{date}} 'בשעה' {{time}}",long:"{{date}} 'בשעה' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fc={date:hn({formats:uc,defaultWidth:"full"}),time:hn({formats:lc,defaultWidth:"full"}),dateTime:hn({formats:dc,defaultWidth:"full"})},hc={lastWeek:"eeee 'שעבר בשעה' p",yesterday:"'אתמול בשעה' p",today:"'היום בשעה' p",tomorrow:"'מחר בשעה' p",nextWeek:"eeee 'בשעה' p",other:"P"},mc=(e,t,n,r)=>hc[e],pc={narrow:["לפנה״ס","לספירה"],abbreviated:["לפנה״ס","לספירה"],wide:["לפני הספירה","לספירה"]},gc={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"]},vc={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],wide:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},yc={narrow:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],short:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],abbreviated:["יום א׳","יום ב׳","יום ג׳","יום ד׳","יום ה׳","יום ו׳","שבת"],wide:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"]},bc={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"}},wc={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"בצהריים",evening:"בערב",night:"בלילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"}},_c=(e,t)=>{const n=Number(e);if(n<=0||n>10)return String(n);const r=String(t?.unit),o=["year","hour","minute","second"].indexOf(r)>=0,s=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שביעי","שמיני","תשיעי","עשירי"],a=["ראשונה","שנייה","שלישית","רביעית","חמישית","שישית","שביעית","שמינית","תשיעית","עשירית"],i=n-1;return o?a[i]:s[i]},Mc={ordinalNumber:_c,era:ut({values:pc,defaultWidth:"wide"}),quarter:ut({values:gc,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ut({values:vc,defaultWidth:"wide"}),day:ut({values:yc,defaultWidth:"wide"}),dayPeriod:ut({values:bc,defaultWidth:"wide",formattingValues:wc,defaultFormattingWidth:"wide"})},kc=/^(\d+|(ראשון|שני|שלישי|רביעי|חמישי|שישי|שביעי|שמיני|תשיעי|עשירי|ראשונה|שנייה|שלישית|רביעית|חמישית|שישית|שביעית|שמינית|תשיעית|עשירית))/i,Sc=/^(\d+|רא|שנ|של|רב|ח|שי|שב|שמ|ת|ע)/i,Oc={narrow:/^ל(ספירה|פנה״ס)/i,abbreviated:/^ל(ספירה|פנה״ס)/i,wide:/^ל(פני ה)?ספירה/i},xc={any:[/^לפ/i,/^לס/i]},Dc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^רבעון [1234]/i},Ec={any:[/1/i,/2/i,/3/i,/4/i]},Cc={narrow:/^\d+/i,abbreviated:/^(ינו|פבר|מרץ|אפר|מאי|יוני|יולי|אוג|ספט|אוק|נוב|דצמ)׳?/i,wide:/^(ינואר|פברואר|מרץ|אפריל|מאי|יוני|יולי|אוגוסט|ספטמבר|אוקטובר|נובמבר|דצמבר)/i},zc={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^ינ/i,/^פ/i,/^מר/i,/^אפ/i,/^מא/i,/^יונ/i,/^יול/i,/^אוג/i,/^ס/i,/^אוק/i,/^נ/i,/^ד/i]},Tc={narrow:/^[אבגדהוש]׳/i,short:/^[אבגדהוש]׳/i,abbreviated:/^(שבת|יום (א|ב|ג|ד|ה|ו)׳)/i,wide:/^יום (ראשון|שני|שלישי|רביעי|חמישי|שישי|שבת)/i},Nc={abbreviated:[/א׳$/i,/ב׳$/i,/ג׳$/i,/ד׳$/i,/ה׳$/i,/ו׳$/i,/^ש/i],wide:[/ן$/i,/ני$/i,/לישי$/i,/עי$/i,/מישי$/i,/שישי$/i,/ת$/i],any:[/^א/i,/^ב/i,/^ג/i,/^ד/i,/^ה/i,/^ו/i,/^ש/i]},Fc={any:/^(אחר ה|ב)?(חצות|צהריים|בוקר|ערב|לילה|אחה״צ|לפנה״צ)/i},Ic={any:{am:/^לפ/i,pm:/^אחה/i,midnight:/^ח/i,noon:/^צ/i,morning:/בוקר/i,afternoon:/בצ|אחר/i,evening:/ערב/i,night:/לילה/i}},Pc=["רא","שנ","של","רב","ח","שי","שב","שמ","ת","ע"],$c={ordinalNumber:Ka({matchPattern:kc,parsePattern:Sc,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?Pc.indexOf(e)+1:t}}),era:lt({matchPatterns:Oc,defaultMatchWidth:"wide",parsePatterns:xc,defaultParseWidth:"any"}),quarter:lt({matchPatterns:Dc,defaultMatchWidth:"wide",parsePatterns:Ec,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lt({matchPatterns:Cc,defaultMatchWidth:"wide",parsePatterns:zc,defaultParseWidth:"any"}),day:lt({matchPatterns:Tc,defaultMatchWidth:"wide",parsePatterns:Nc,defaultParseWidth:"any"}),dayPeriod:lt({matchPatterns:Fc,defaultMatchWidth:"any",parsePatterns:Ic,defaultParseWidth:"any"})},Ko={code:"he",formatDistance:cc,formatLong:fc,formatRelative:mc,localize:Mc,match:$c,options:{weekStartsOn:0,firstWeekContainsDate:1}},Xo={...Ge,labels:{labelDayButton:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>$e(a,i,{locale:Ge,...n});let s=o(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>$e(o,s,{locale:Ge,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>$e(a,i,{locale:Ge,...n});let s=o(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>$e(o,s,{locale:Ge,...t}),r(e,"cccc")}}};class J{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ee.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,s)=>this.overrides?.newDate?this.overrides.newDate(r,o,s):this.options.timeZone?new ee(r,o,s,this.options.timeZone):new Date(r,o,s),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):_o(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):Yo(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):Di(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):Ei(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):Yn(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):Bo(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):Fi(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):$i(r),s=new Set(o.map(i=>this.getYear(i)));if(s.size===o.length)return o;const a=[];return s.forEach(i=>{a.push(new Date(i,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):ac(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Ai(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Ni(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):Go(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):Pi(r),this.format=(r,o,s)=>{const a=this.overrides?.format?this.overrides.format(r,o,this.options):$e(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Wn(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Ui(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Hi(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Zn(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):Gi(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):qi(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Xa(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):Ti(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):Ji(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):Ki(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):Ci(r),this.min=r=>this.overrides?.min?this.overrides.min(r):zi(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):Xi(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):Qi(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Jo(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):gt(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Qa(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):Ii(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):ei(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Ho(r),this.options={locale:Xo,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&J.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,s=n?.code;if(s&&J.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}J.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const we=new J;class Qo{constructor(t,n,r=we){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ac{constructor(t,n){this.date=t,this.weeks=n}}class jc{constructor(t,n){this.days=n,this.weekNumber=t}}function Vc(e){return O.createElement("button",{...e})}function Wc(e){return O.createElement("span",{...e})}function Zc(e){const{size:t=24,orientation:n="left",className:r}=e;return O.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&O.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&O.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&O.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&O.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Rc(e){const{day:t,modifiers:n,...r}=e;return O.createElement("td",{...r})}function Lc(e){const{day:t,modifiers:n,...r}=e,o=O.useRef(null);return O.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),O.createElement("button",{ref:o,...r})}var E;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(E||(E={}));var Y;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Y||(Y={}));var ge;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ge||(ge={}));var se;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(se||(se={}));function Yc(e){const{options:t,className:n,components:r,classNames:o,...s}=e,a=[o[E.Dropdown],n].join(" "),i=t?.find(({value:c})=>c===s.value);return O.createElement("span",{"data-disabled":s.disabled,className:o[E.DropdownRoot]},O.createElement(r.Select,{className:a,...s},t?.map(({value:c,label:d,disabled:f})=>O.createElement(r.Option,{key:c,value:c,disabled:f},d))),O.createElement("span",{className:o[E.CaptionLabel],"aria-hidden":!0},i?.label,O.createElement(r.Chevron,{orientation:"down",size:18,className:o[E.Chevron]})))}function Bc(e){return O.createElement("div",{...e})}function Uc(e){return O.createElement("div",{...e})}function Hc(e){const{calendarMonth:t,displayIndex:n,...r}=e;return O.createElement("div",{...r},e.children)}function Gc(e){const{calendarMonth:t,displayIndex:n,...r}=e;return O.createElement("div",{...r})}function qc(e){return O.createElement("table",{...e})}function Jc(e){return O.createElement("div",{...e})}const es=w.createContext(void 0);function Le(){const e=w.useContext(es);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Kc(e){const{components:t}=Le();return O.createElement(t.Dropdown,{...e})}function Xc(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...s}=e,{components:a,classNames:i,labels:{labelPrevious:c,labelNext:d}}=Le(),f=w.useCallback(h=>{o&&n?.(h)},[o,n]),l=w.useCallback(h=>{r&&t?.(h)},[r,t]);return O.createElement("nav",{...s},O.createElement(a.PreviousMonthButton,{type:"button",className:i[E.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:l},O.createElement(a.Chevron,{disabled:r?void 0:!0,className:i[E.Chevron],orientation:"left"})),O.createElement(a.NextMonthButton,{type:"button",className:i[E.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":d(o),onClick:f},O.createElement(a.Chevron,{disabled:o?void 0:!0,orientation:"right",className:i[E.Chevron]})))}function Qc(e){const{components:t}=Le();return O.createElement(t.Button,{...e})}function eu(e){return O.createElement("option",{...e})}function tu(e){const{components:t}=Le();return O.createElement(t.Button,{...e})}function nu(e){const{rootRef:t,...n}=e;return O.createElement("div",{...n,ref:t})}function ru(e){return O.createElement("select",{...e})}function ou(e){const{week:t,...n}=e;return O.createElement("tr",{...n})}function su(e){return O.createElement("th",{...e})}function au(e){return O.createElement("thead",{"aria-hidden":!0},O.createElement("tr",{...e}))}function iu(e){const{week:t,...n}=e;return O.createElement("th",{...n})}function cu(e){return O.createElement("th",{...e})}function uu(e){return O.createElement("tbody",{...e})}function lu(e){const{components:t}=Le();return O.createElement(t.Dropdown,{...e})}const du=Object.freeze(Object.defineProperty({__proto__:null,Button:Vc,CaptionLabel:Wc,Chevron:Zc,Day:Rc,DayButton:Lc,Dropdown:Yc,DropdownNav:Bc,Footer:Uc,Month:Hc,MonthCaption:Gc,MonthGrid:qc,Months:Jc,MonthsDropdown:Kc,Nav:Xc,NextMonthButton:Qc,Option:eu,PreviousMonthButton:tu,Root:nu,Select:ru,Week:ou,WeekNumber:iu,WeekNumberHeader:cu,Weekday:su,Weekdays:au,Weeks:uu,YearsDropdown:lu},Symbol.toStringTag,{value:"Module"}));function Oe(e,t,n=!1,r=we){let{from:o,to:s}=e;const{differenceInCalendarDays:a,isSameDay:i}=r;return o&&s?(a(s,o)<0&&([o,s]=[s,o]),a(t,o)>=(n?1:0)&&a(s,t)>=(n?1:0)):!n&&s?i(s,t):!n&&o?i(o,t):!1}function Bn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Jt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Un(e){return!!(e&&typeof e=="object"&&"after"in e)}function Hn(e){return!!(e&&typeof e=="object"&&"before"in e)}function ts(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ns(e,t){return Array.isArray(e)&&e.every(t.isDate)}function xe(e,t,n=we){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:s,isAfter:a}=n;return r.some(i=>{if(typeof i=="boolean")return i;if(n.isDate(i))return o(e,i);if(ns(i,n))return i.some(c=>o(e,c));if(Jt(i))return Oe(i,e,!1,n);if(ts(i))return Array.isArray(i.dayOfWeek)?i.dayOfWeek.includes(e.getDay()):i.dayOfWeek===e.getDay();if(Bn(i)){const c=s(i.before,e),d=s(i.after,e),f=c>0,l=d<0;return a(i.before,i.after)?l&&f:f||l}return Un(i)?s(e,i.after)>0:Hn(i)?s(i.before,e)>0:typeof i=="function"?i(e):!1})}function fu(e,t,n,r,o){const{disabled:s,hidden:a,modifiers:i,showOutsideDays:c,broadcastCalendar:d,today:f=o.today()}=t,{isSameDay:l,isSameMonth:h,startOfMonth:u,isBefore:m,endOfMonth:v,isAfter:g}=o,y=n&&u(n),x=r&&v(r),M={[Y.focused]:[],[Y.outside]:[],[Y.disabled]:[],[Y.hidden]:[],[Y.today]:[]},k={};for(const S of e){const{date:_,displayMonth:C}=S,F=!!(C&&!h(_,C)),$=!!(y&&m(_,y)),Z=!!(x&&g(_,x)),Q=!!(s&&xe(_,s,o)),ke=!!(a&&xe(_,a,o))||$||Z||!d&&!c&&F||d&&c===!1&&F,I=l(_,f);F&&M.outside.push(S),Q&&M.disabled.push(S),ke&&M.hidden.push(S),I&&M.today.push(S),i&&Object.keys(i).forEach(H=>{const Be=i?.[H];Be&&xe(_,Be,o)&&(k[H]?k[H].push(S):k[H]=[S])})}return S=>{const _={[Y.focused]:!1,[Y.disabled]:!1,[Y.hidden]:!1,[Y.outside]:!1,[Y.today]:!1},C={};for(const F in M){const $=M[F];_[F]=$.some(Z=>Z===S)}for(const F in k)C[F]=k[F].some($=>$===S);return{..._,...C}}}function hu(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[s])=>(n[s]?o.push(n[s]):t[Y[s]]?o.push(t[Y[s]]):t[ge[s]]&&o.push(t[ge[s]]),o),[t[E.Day]])}function mu(e){return{...du,...e}}function pu(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function _t(){const e={};for(const t in E)e[E[t]]=`rdp-${E[t]}`;for(const t in Y)e[Y[t]]=`rdp-${Y[t]}`;for(const t in ge)e[ge[t]]=`rdp-${ge[t]}`;for(const t in se)e[se[t]]=`rdp-${se[t]}`;return e}function rs(e,t,n){return(n??new J(t)).formatMonthYear(e)}const gu=rs;function vu(e,t,n){return(n??new J(t)).format(e,"d")}function yu(e,t=we){return t.format(e,"LLLL")}function bu(e,t,n){return(n??new J(t)).format(e,"cccccc")}function wu(e,t=we){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function _u(){return""}function os(e,t=we){return t.format(e,"yyyy")}const Mu=os,ku=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:rs,formatDay:vu,formatMonthCaption:gu,formatMonthDropdown:yu,formatWeekNumber:wu,formatWeekNumberHeader:_u,formatWeekdayName:bu,formatYearCaption:Mu,formatYearDropdown:os},Symbol.toStringTag,{value:"Module"}));function Su(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...ku,...e}}function Gn(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const Ou=Gn;function qn(e,t,n){return(n??new J(t)).formatMonthYear(e)}const xu=qn;function ss(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function as(e){return"Choose the Month"}function is(){return""}const Du="Go to the Next Month";function cs(e,t){return Du}function us(e){return"Go to the Previous Month"}function ls(e,t,n){return(n??new J(t)).format(e,"cccc")}function ds(e,t){return`Week ${e}`}function fs(e){return"Week Number"}function hs(e){return"Choose the Year"}const Eu=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:xu,labelDay:Ou,labelDayButton:Gn,labelGrid:qn,labelGridcell:ss,labelMonthDropdown:as,labelNav:is,labelNext:cs,labelPrevious:us,labelWeekNumber:ds,labelWeekNumberHeader:fs,labelWeekday:ls,labelYearDropdown:hs},Symbol.toStringTag,{value:"Module"})),pe=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function Cu(e,t){const n=t.locale?.labels??{};return{...Eu,...e??{},labelDayButton:pe(Gn,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:pe(as,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pe(cs,e?.labelNext,n.labelNext),labelPrevious:pe(us,e?.labelPrevious,n.labelPrevious),labelWeekNumber:pe(ds,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pe(hs,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:pe(qn,e?.labelGrid,n.labelGrid),labelGridcell:pe(ss,e?.labelGridcell,n.labelGridcell),labelNav:pe(is,e?.labelNav,n.labelNav),labelWeekNumberHeader:pe(fs,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pe(ls,e?.labelWeekday,n.labelWeekday)}}function zu(e,t,n,r,o){const{startOfMonth:s,startOfYear:a,endOfYear:i,eachMonthOfInterval:c,getMonth:d}=o;return c({start:a(e),end:i(e)}).map(h=>{const u=r.formatMonthDropdown(h,o),m=d(h),v=t&&h<s(t)||n&&h>s(n)||!1;return{value:m,label:u,disabled:v}})}function Tu(e,t={},n={}){let r={...t?.[E.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function Nu(e,t,n,r){const o=r??e.today(),s=n?e.startOfBroadcastWeek(o,e):t?e.startOfISOWeek(o):e.startOfWeek(o),a=[];for(let i=0;i<7;i++){const c=e.addDays(s,i);a.push(c)}return a}function Fu(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:a,eachYearOfInterval:i,getYear:c}=r,d=s(e),f=a(t),l=i({start:d,end:f});return o&&l.reverse(),l.map(h=>{const u=n.formatYearDropdown(h,r);return{value:c(h),label:u,disabled:!1}})}function Iu(e,t={}){const{weekStartsOn:n,locale:r}=t,o=n??r?.options?.weekStartsOn??0,s=i=>{const c=typeof i=="number"||typeof i=="string"?new Date(i):i;return new ee(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,e)},a=i=>{const c=s(i);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>s(ee.tz(e)),newDate:(i,c,d)=>new ee(i,c,d,12,0,0,e),startOfDay:i=>s(i),startOfWeek:(i,c)=>{const d=s(i),f=c?.weekStartsOn??o,l=(d.getDay()-f+7)%7;return d.setDate(d.getDate()-l),d},startOfISOWeek:i=>{const c=s(i),d=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-d),c},startOfMonth:i=>{const c=s(i);return c.setDate(1),c},startOfYear:i=>{const c=s(i);return c.setMonth(0,1),c},endOfWeek:(i,c)=>{const d=s(i),h=(((c?.weekStartsOn??o)+6)%7-d.getDay()+7)%7;return d.setDate(d.getDate()+h),d},endOfISOWeek:i=>{const c=s(i),d=(7-c.getDay())%7;return c.setDate(c.getDate()+d),c},endOfMonth:i=>{const c=s(i);return c.setMonth(c.getMonth()+1,0),c},endOfYear:i=>{const c=s(i);return c.setMonth(11,31),c},eachMonthOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],l=new ee(c.getFullYear(),c.getMonth(),1,12,0,0,e),h=d.getFullYear()*12+d.getMonth();for(;l.getFullYear()*12+l.getMonth()<=h;)f.push(new ee(l,e)),l.setMonth(l.getMonth()+1,1);return f},addDays:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c),d},addWeeks:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c*7),d},addMonths:(i,c)=>{const d=s(i);return d.setMonth(d.getMonth()+c),d},addYears:(i,c)=>{const d=s(i);return d.setFullYear(d.getFullYear()+c),d},eachYearOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],l=new ee(c.getFullYear(),0,1,12,0,0,e);for(;l.getFullYear()<=d.getFullYear();)f.push(new ee(l,e)),l.setFullYear(l.getFullYear()+1,0,1);return f},getWeek:(i,c)=>{const d=a(i);return Zn(d,{weekStartsOn:c?.weekStartsOn??o,firstWeekContainsDate:c?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:i=>{const c=a(i);return Wn(c)},differenceInCalendarDays:(i,c)=>{const d=a(i),f=a(c);return Yn(d,f)},differenceInCalendarMonths:(i,c)=>{const d=a(i),f=a(c);return Bo(d,f)}}}const Mt=e=>e instanceof HTMLElement?e:null,yn=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Pu=e=>Mt(e.querySelector("[data-animated-month]")),bn=e=>Mt(e.querySelector("[data-animated-caption]")),wn=e=>Mt(e.querySelector("[data-animated-weeks]")),$u=e=>Mt(e.querySelector("[data-animated-nav]")),Au=e=>Mt(e.querySelector("[data-animated-weekdays]"));function ju(e,t,{classNames:n,months:r,focused:o,dateLib:s}){const a=w.useRef(null),i=w.useRef(r),c=w.useRef(!1);w.useLayoutEffect(()=>{const d=i.current;if(i.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const f=s.isSameMonth(r[0].date,d[0].date),l=s.isAfter(r[0].date,d[0].date),h=l?n[se.caption_after_enter]:n[se.caption_before_enter],u=l?n[se.weeks_after_enter]:n[se.weeks_before_enter],m=a.current,v=e.current.cloneNode(!0);if(v instanceof HTMLElement?(yn(v).forEach(M=>{if(!(M instanceof HTMLElement))return;const k=Pu(M);k&&M.contains(k)&&M.removeChild(k);const S=bn(M);S&&S.classList.remove(h);const _=wn(M);_&&_.classList.remove(u)}),a.current=v):a.current=null,c.current||f||o)return;const g=m instanceof HTMLElement?yn(m):[],y=yn(e.current);if(y?.every(x=>x instanceof HTMLElement)&&g&&g.every(x=>x instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const x=$u(e.current);x&&(x.style.zIndex="1"),y.forEach((M,k)=>{const S=g[k];if(!S)return;M.style.position="relative",M.style.overflow="hidden";const _=bn(M);_&&_.classList.add(h);const C=wn(M);C&&C.classList.add(u);const F=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),x&&(x.style.zIndex=""),_&&_.classList.remove(h),C&&C.classList.remove(u),M.style.position="",M.style.overflow="",M.contains(S)&&M.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const $=Au(S);$&&($.style.opacity="0");const Z=bn(S);Z&&(Z.classList.add(l?n[se.caption_before_exit]:n[se.caption_after_exit]),Z.addEventListener("animationend",F));const Q=wn(S);Q&&Q.classList.add(l?n[se.weeks_before_exit]:n[se.weeks_after_exit]),M.insertBefore(S,M.firstChild)})}})}function Vu(e,t,n,r){const o=e[0],s=e[e.length-1],{ISOWeek:a,fixedWeeks:i,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:f,differenceInCalendarMonths:l,endOfBroadcastWeek:h,endOfISOWeek:u,endOfMonth:m,endOfWeek:v,isAfter:g,startOfBroadcastWeek:y,startOfISOWeek:x,startOfWeek:M}=r,k=c?y(o,r):a?x(o):M(o),S=c?h(s):a?u(m(s)):v(m(s)),_=t&&(c?h(t):a?u(t):v(t)),C=_&&g(S,_)?_:S,F=f(C,k),$=l(s,o)+1,Z=[];for(let I=0;I<=F;I++){const H=d(k,I);Z.push(H)}const ke=(c?35:42)*$;if(i&&Z.length<ke){const I=ke-Z.length;for(let H=0;H<I;H++){const Be=d(Z[Z.length-1],1);Z.push(Be)}}return Z}function Wu(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((s,a)=>s.concat(a.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function Zu(e,t,n,r){const{numberOfMonths:o=1}=n,s=[];for(let a=0;a<o;a++){const i=r.addMonths(e,a);if(t&&i>t)break;s.push(i)}return s}function Dr(e,t,n,r){const{month:o,defaultMonth:s,today:a=r.today(),numberOfMonths:i=1}=e;let c=o||s||a;const{differenceInCalendarMonths:d,addMonths:f,startOfMonth:l}=r;if(n&&d(n,c)<i-1){const h=-1*(i-1);c=f(n,h)}return t&&d(c,t)<0&&(c=t),l(c)}function Ru(e,t,n,r){const{addDays:o,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:i,endOfWeek:c,getISOWeek:d,getWeek:f,startOfBroadcastWeek:l,startOfISOWeek:h,startOfWeek:u}=r,m=e.reduce((v,g)=>{const y=n.broadcastCalendar?l(g,r):n.ISOWeek?h(g):u(g),x=n.broadcastCalendar?s(g):n.ISOWeek?a(i(g)):c(i(g)),M=t.filter(C=>C>=y&&C<=x),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&M.length<k){const C=t.filter(F=>{const $=k-M.length;return F>x&&F<=o(x,$)});M.push(...C)}const S=M.reduce((C,F)=>{const $=n.ISOWeek?d(F):f(F),Z=C.find(ke=>ke.weekNumber===$),Q=new Qo(F,g,r);return Z?Z.days.push(Q):C.push(new jc($,[Q])),C},[]),_=new Ac(g,S);return v.push(_),v},[]);return n.reverseMonths?m.reverse():m}function Lu(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:s,startOfMonth:a,endOfMonth:i,addYears:c,endOfYear:d,newDate:f,today:l}=t,{fromYear:h,toYear:u,fromMonth:m,toMonth:v}=e;!n&&m&&(n=m),!n&&h&&(n=t.newDate(h,0,1)),!r&&v&&(r=v),!r&&u&&(r=f(u,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):h?n=f(h,0,1):!n&&g&&(n=o(c(e.today??l(),-100))),r?r=i(r):u?r=f(u,11,31):!r&&g&&(r=d(e.today??l())),[n&&s(n),r&&s(r)]}function Yu(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s=1}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s:1,f=a(e);if(!t)return i(f,d);if(!(c(t,e)<s))return i(f,d)}function Bu(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s??1:1,f=a(e);if(!t)return i(f,-d);if(!(c(f,t)<=0))return i(f,-d)}function Uu(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function Kt(e,t){const[n,r]=w.useState(e);return[t===void 0?n:t,r]}function Hu(e,t){const[n,r]=Lu(e,t),{startOfMonth:o,endOfMonth:s}=t,a=Dr(e,n,r,t),[i,c]=Kt(a,e.month?a:void 0);w.useEffect(()=>{const k=Dr(e,n,r,t);c(k)},[e.timeZone]);const{months:d,weeks:f,days:l,previousMonth:h,nextMonth:u}=w.useMemo(()=>{const k=Zu(i,r,{numberOfMonths:e.numberOfMonths},t),S=Vu(k,e.endMonth?s(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),_=Ru(k,S,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),C=Uu(_),F=Wu(_),$=Bu(i,n,e,t),Z=Yu(i,r,e,t);return{months:_,weeks:C,days:F,previousMonth:$,nextMonth:Z}},[t,i.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:m,onMonthChange:v}=e,g=k=>f.some(S=>S.days.some(_=>_.isEqualTo(k))),y=k=>{if(m)return;let S=o(k);n&&S<o(n)&&(S=o(n)),r&&S>o(r)&&(S=o(r)),c(S),v?.(S)};return{months:d,weeks:f,days:l,navStart:n,navEnd:r,previousMonth:h,nextMonth:u,goToMonth:y,goToDay:k=>{g(k)||y(k.date)}}}var ye;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ye||(ye={}));function Er(e){return!e[Y.disabled]&&!e[Y.hidden]&&!e[Y.outside]}function Gu(e,t,n,r){let o,s=-1;for(const a of e){const i=t(a);Er(i)&&(i[Y.focused]&&s<ye.FocusedModifier?(o=a,s=ye.FocusedModifier):r?.isEqualTo(a)&&s<ye.LastFocused?(o=a,s=ye.LastFocused):n(a.date)&&s<ye.Selected?(o=a,s=ye.Selected):i[Y.today]&&s<ye.Today&&(o=a,s=ye.Today))}return o||(o=e.find(a=>Er(t(a)))),o}function qu(e,t,n,r,o,s,a){const{ISOWeek:i,broadcastCalendar:c}=s,{addDays:d,addMonths:f,addWeeks:l,addYears:h,endOfBroadcastWeek:u,endOfISOWeek:m,endOfWeek:v,max:g,min:y,startOfBroadcastWeek:x,startOfISOWeek:M,startOfWeek:k}=a;let _={day:d,week:l,month:f,year:h,startOfWeek:C=>c?x(C,a):i?M(C):k(C),endOfWeek:C=>c?u(C):i?m(C):v(C)}[e](n,t==="after"?1:-1);return t==="before"&&r?_=g([r,_]):t==="after"&&o&&(_=y([o,_])),_}function ms(e,t,n,r,o,s,a,i=0){if(i>365)return;const c=qu(e,t,n.date,r,o,s,a),d=!!(s.disabled&&xe(c,s.disabled,a)),f=!!(s.hidden&&xe(c,s.hidden,a)),l=c,h=new Qo(c,l,a);return!d&&!f?h:ms(e,t,h,r,o,s,a,i+1)}function Ju(e,t,n,r,o){const{autoFocus:s}=e,[a,i]=w.useState(),c=Gu(t.days,n,r||(()=>!1),a),[d,f]=w.useState(s?c:void 0);return{isFocusTarget:v=>!!c?.isEqualTo(v),setFocused:f,focused:d,blur:()=>{i(d),f(void 0)},moveFocus:(v,g)=>{if(!d)return;const y=ms(v,g,d,t.navStart,t.navEnd,e,o);y&&(e.disableNavigation&&!t.days.some(M=>M.isEqualTo(y))||(t.goToDay(y),f(y)))}}}function Ku(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Kt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t,d=u=>i?.some(m=>c(m,u))??!1,{min:f,max:l}=e;return{selected:i,select:(u,m,v)=>{let g=[...i??[]];if(d(u)){if(i?.length===f||r&&i?.length===1)return;g=i?.filter(y=>!c(y,u))}else i?.length===l?g=[u]:g=[...g,u];return o||a(g),o?.(g,u,m,v),g},isSelected:d}}function Xu(e,t,n=0,r=0,o=!1,s=we){const{from:a,to:i}=t||{},{isSameDay:c,isAfter:d,isBefore:f}=s;let l;if(!a&&!i)l={from:e,to:n>0?void 0:e};else if(a&&!i)c(a,e)?n===0?l={from:a,to:e}:o?l={from:a,to:void 0}:l=void 0:f(e,a)?l={from:e,to:a}:l={from:a,to:e};else if(a&&i)if(c(a,e)&&c(i,e))o?l={from:a,to:i}:l=void 0;else if(c(a,e))l={from:a,to:n>0?void 0:e};else if(c(i,e))l={from:e,to:n>0?void 0:e};else if(f(e,a))l={from:e,to:i};else if(d(e,a))l={from:a,to:e};else if(d(e,i))l={from:a,to:e};else throw new Error("Invalid range");if(l?.from&&l?.to){const h=s.differenceInCalendarDays(l.to,l.from);r>0&&h>r?l={from:e,to:void 0}:n>1&&h<n&&(l={from:e,to:void 0})}return l}function Qu(e,t,n=we){const r=Array.isArray(t)?t:[t];let o=e.from;const s=n.differenceInCalendarDays(e.to,e.from),a=Math.min(s,6);for(let i=0;i<=a;i++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function Cr(e,t,n=we){return Oe(e,t.from,!1,n)||Oe(e,t.to,!1,n)||Oe(t,e.from,!1,n)||Oe(t,e.to,!1,n)}function el(e,t,n=we){const r=Array.isArray(t)?t:[t];if(r.filter(i=>typeof i!="function").some(i=>typeof i=="boolean"?i:n.isDate(i)?Oe(e,i,!1,n):ns(i,n)?i.some(c=>Oe(e,c,!1,n)):Jt(i)?i.from&&i.to?Cr(e,{from:i.from,to:i.to},n):!1:ts(i)?Qu(e,i.dayOfWeek,n):Bn(i)?n.isAfter(i.before,i.after)?Cr(e,{from:n.addDays(i.after,1),to:n.addDays(i.before,-1)},n):xe(e.from,i,n)||xe(e.to,i,n):Un(i)||Hn(i)?xe(e.from,i,n)||xe(e.to,i,n):!1))return!0;const a=r.filter(i=>typeof i=="function");if(a.length){let i=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(a.some(f=>f(i)))return!0;i=n.addDays(i,1)}}return!1}function tl(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:s,onSelect:a}=e,[i,c]=Kt(o,a?o:void 0),d=a?o:i;return{selected:d,select:(h,u,m)=>{const{min:v,max:g}=e,y=h?Xu(h,d,v,g,s,t):void 0;return r&&n&&y?.from&&y.to&&el({from:y.from,to:y.to},n,t)&&(y.from=h,y.to=void 0),a||c(y),a?.(y,h,u,m),y},isSelected:h=>d&&Oe(d,h,!1,t)}}function nl(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Kt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t;return{selected:i,select:(l,h,u)=>{let m=l;return!r&&i&&i&&c(l,i)&&(m=void 0),o||a(m),o?.(m,l,h,u),m},isSelected:l=>i?c(i,l):!1}}function rl(e,t){const n=nl(e,t),r=Ku(e,t),o=tl(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function ue(e,t){return e instanceof ee&&e.timeZone===t?e:new ee(e,t)}function He(e,t,n){return ue(e,t)}function zr(e,t,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?He(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?He(r,t):r):Jt(e)?{...e,from:e.from?ue(e.from,t):e.from,to:e.to?ue(e.to,t):e.to}:Bn(e)?{before:He(e.before,t),after:He(e.after,t)}:Un(e)?{after:He(e.after,t)}:Hn(e)?{before:He(e.before,t)}:e}function _n(e,t,n){return e&&(Array.isArray(e)?e.map(r=>zr(r,t)):zr(e,t))}function ps(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=ue(t.today,n)),t.month&&(t.month=ue(t.month,n)),t.defaultMonth&&(t.defaultMonth=ue(t.defaultMonth,n)),t.startMonth&&(t.startMonth=ue(t.startMonth,n)),t.endMonth&&(t.endMonth=ue(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=ue(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(N=>ue(N,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?ue(t.selected.from,n):t.selected.from,to:t.selected.to?ue(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=_n(t.disabled,n)),t.hidden!==void 0&&(t.hidden=_n(t.hidden,n)),t.modifiers)){const N={};Object.keys(t.modifiers).forEach(j=>{N[j]=_n(t.modifiers?.[j],n)}),t.modifiers=N}const{components:r,formatters:o,labels:s,dateLib:a,locale:i,classNames:c}=w.useMemo(()=>{const N={...Xo,...t.locale},j=t.broadcastCalendar?1:t.weekStartsOn,T=t.noonSafe&&t.timeZone?Iu(t.timeZone,{weekStartsOn:j,locale:N}):void 0,A=t.dateLib&&T?{...T,...t.dateLib}:t.dateLib??T,oe=new J({locale:N,weekStartsOn:j,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},A);return{dateLib:oe,components:mu(t.components),formatters:Su(t.formatters),labels:Cu(t.labels,oe.options),locale:N,classNames:{..._t(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:a.today()});const{captionLayout:d,mode:f,navLayout:l,numberOfMonths:h=1,onDayBlur:u,onDayClick:m,onDayFocus:v,onDayKeyDown:g,onDayMouseEnter:y,onDayMouseLeave:x,onNextClick:M,onPrevClick:k,showWeekNumber:S,styles:_}=t,{formatCaption:C,formatDay:F,formatMonthDropdown:$,formatWeekNumber:Z,formatWeekNumberHeader:Q,formatWeekdayName:ke,formatYearDropdown:I}=o,H=Hu(t,a),{days:Be,months:St,navStart:nn,navEnd:rn,previousMonth:fe,nextMonth:he,goToMonth:Se}=H,on=fu(Be,t,nn,rn,a),{isSelected:sn,select:an,selected:Ot}=rl(t,a)??{},{blur:ur,focused:lr,isFocusTarget:Js,moveFocus:dr,setFocused:xt}=Ju(t,H,on,sn??(()=>!1),a),{labelDayButton:Ks,labelGridcell:Xs,labelGrid:Qs,labelMonthDropdown:ea,labelNav:fr,labelPrevious:ta,labelNext:na,labelWeekday:ra,labelWeekNumber:oa,labelWeekNumberHeader:sa,labelYearDropdown:aa}=s,ia=w.useMemo(()=>Nu(a,t.ISOWeek,t.broadcastCalendar,t.today),[a,t.ISOWeek,t.broadcastCalendar,t.today]),hr=f!==void 0||m!==void 0,cn=w.useCallback(()=>{fe&&(Se(fe),k?.(fe))},[fe,Se,k]),un=w.useCallback(()=>{he&&(Se(he),M?.(he))},[Se,he,M]),ca=w.useCallback((N,j)=>T=>{T.preventDefault(),T.stopPropagation(),xt(N),!j.disabled&&(an?.(N.date,j,T),m?.(N.date,j,T))},[an,m,xt]),ua=w.useCallback((N,j)=>T=>{xt(N),v?.(N.date,j,T)},[v,xt]),la=w.useCallback((N,j)=>T=>{ur(),u?.(N.date,j,T)},[ur,u]),da=w.useCallback((N,j)=>T=>{const A={ArrowLeft:[T.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[T.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[T.shiftKey?"year":"week","after"],ArrowUp:[T.shiftKey?"year":"week","before"],PageUp:[T.shiftKey?"year":"month","before"],PageDown:[T.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(A[T.key]){T.preventDefault(),T.stopPropagation();const[oe,P]=A[T.key];dr(oe,P)}g?.(N.date,j,T)},[dr,g,t.dir]),fa=w.useCallback((N,j)=>T=>{y?.(N.date,j,T)},[y]),ha=w.useCallback((N,j)=>T=>{x?.(N.date,j,T)},[x]),ma=w.useCallback(N=>j=>{const T=Number(j.target.value),A=a.setMonth(a.startOfMonth(N),T);Se(A)},[a,Se]),pa=w.useCallback(N=>j=>{const T=Number(j.target.value),A=a.setYear(a.startOfMonth(N),T);Se(A)},[a,Se]),{className:ga,style:va}=w.useMemo(()=>({className:[c[E.Root],t.className].filter(Boolean).join(" "),style:{..._?.[E.Root],...t.style}}),[c,t.className,t.style,_]),ya=pu(t),mr=w.useRef(null);ju(mr,!!t.animate,{classNames:c,months:St,focused:lr,dateLib:a});const ba={dayPickerProps:t,selected:Ot,select:an,isSelected:sn,months:St,nextMonth:he,previousMonth:fe,goToMonth:Se,getModifiers:on,components:r,classNames:c,styles:_,labels:s,formatters:o};return O.createElement(es.Provider,{value:ba},O.createElement(r.Root,{rootRef:t.animate?mr:void 0,className:ga,style:va,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...ya},O.createElement(r.Months,{className:c[E.Months],style:_?.[E.Months]},!t.hideNavigation&&!l&&O.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:_?.[E.Nav],"aria-label":fr(),onPreviousClick:cn,onNextClick:un,previousMonth:fe,nextMonth:he}),St.map((N,j)=>O.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[E.Month],style:_?.[E.Month],key:j,displayIndex:j,calendarMonth:N},l==="around"&&!t.hideNavigation&&j===0&&O.createElement(r.PreviousMonthButton,{type:"button",className:c[E.PreviousMonthButton],tabIndex:fe?void 0:-1,"aria-disabled":fe?void 0:!0,"aria-label":ta(fe),onClick:cn,"data-animated-button":t.animate?"true":void 0},O.createElement(r.Chevron,{disabled:fe?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"right":"left"})),O.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[E.MonthCaption],style:_?.[E.MonthCaption],calendarMonth:N,displayIndex:j},d?.startsWith("dropdown")?O.createElement(r.DropdownNav,{className:c[E.Dropdowns],style:_?.[E.Dropdowns]},(()=>{const T=d==="dropdown"||d==="dropdown-months"?O.createElement(r.MonthsDropdown,{key:"month",className:c[E.MonthsDropdown],"aria-label":ea(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:ma(N.date),options:zu(N.date,nn,rn,o,a),style:_?.[E.Dropdown],value:a.getMonth(N.date)}):O.createElement("span",{key:"month"},$(N.date,a)),A=d==="dropdown"||d==="dropdown-years"?O.createElement(r.YearsDropdown,{key:"year",className:c[E.YearsDropdown],"aria-label":aa(a.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:pa(N.date),options:Fu(nn,rn,o,a,!!t.reverseYears),style:_?.[E.Dropdown],value:a.getYear(N.date)}):O.createElement("span",{key:"year"},I(N.date,a));return a.getMonthYearOrder()==="year-first"?[A,T]:[T,A]})(),O.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(N.date,a.options,a))):O.createElement(r.CaptionLabel,{className:c[E.CaptionLabel],role:"status","aria-live":"polite"},C(N.date,a.options,a))),l==="around"&&!t.hideNavigation&&j===h-1&&O.createElement(r.NextMonthButton,{type:"button",className:c[E.NextMonthButton],tabIndex:he?void 0:-1,"aria-disabled":he?void 0:!0,"aria-label":na(he),onClick:un,"data-animated-button":t.animate?"true":void 0},O.createElement(r.Chevron,{disabled:he?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"left":"right"})),j===h-1&&l==="after"&&!t.hideNavigation&&O.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:_?.[E.Nav],"aria-label":fr(),onPreviousClick:cn,onNextClick:un,previousMonth:fe,nextMonth:he}),O.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":Qs(N.date,a.options,a)||void 0,className:c[E.MonthGrid],style:_?.[E.MonthGrid]},!t.hideWeekdays&&O.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[E.Weekdays],style:_?.[E.Weekdays]},S&&O.createElement(r.WeekNumberHeader,{"aria-label":sa(a.options),className:c[E.WeekNumberHeader],style:_?.[E.WeekNumberHeader],scope:"col"},Q()),ia.map(T=>O.createElement(r.Weekday,{"aria-label":ra(T,a.options,a),className:c[E.Weekday],key:String(T),style:_?.[E.Weekday],scope:"col"},ke(T,a.options,a)))),O.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[E.Weeks],style:_?.[E.Weeks]},N.weeks.map(T=>O.createElement(r.Week,{className:c[E.Week],key:T.weekNumber,style:_?.[E.Week],week:T},S&&O.createElement(r.WeekNumber,{week:T,style:_?.[E.WeekNumber],"aria-label":oa(T.weekNumber,{locale:i}),className:c[E.WeekNumber],scope:"row",role:"rowheader"},Z(T.weekNumber,a)),T.days.map(A=>{const{date:oe}=A,P=on(A);if(P[Y.focused]=!P.hidden&&!!lr?.isEqualTo(A),P[ge.selected]=sn?.(oe)||P.selected,Jt(Ot)){const{from:ln,to:dn}=Ot;P[ge.range_start]=!!(ln&&dn&&a.isSameDay(oe,ln)),P[ge.range_end]=!!(ln&&dn&&a.isSameDay(oe,dn)),P[ge.range_middle]=Oe(Ot,oe,!0,a)}const wa=Tu(P,_,t.modifiersStyles),_a=hu(P,c,t.modifiersClassNames),Ma=!hr&&!P.hidden?Xs(oe,P,a.options,a):void 0;return O.createElement(r.Day,{key:`${A.isoDate}_${A.displayMonthId}`,day:A,modifiers:P,className:_a.join(" "),style:wa,role:"gridcell","aria-selected":P.selected||void 0,"aria-label":Ma,"data-day":A.isoDate,"data-month":A.outside?A.dateMonthId:void 0,"data-selected":P.selected||void 0,"data-disabled":P.disabled||void 0,"data-hidden":P.hidden||void 0,"data-outside":A.outside||void 0,"data-focused":P.focused||void 0,"data-today":P.today||void 0},!P.hidden&&hr?O.createElement(r.DayButton,{className:c[E.DayButton],style:_?.[E.DayButton],type:"button",day:A,modifiers:P,disabled:!P.focused&&P.disabled||void 0,"aria-disabled":P.focused&&P.disabled||void 0,tabIndex:Js(A)?0:-1,"aria-label":Ks(oe,P,a.options,a),onClick:ca(A,P),onBlur:la(A,P),onFocus:ua(A,P),onKeyDown:da(A,P),onMouseEnter:fa(A,P),onMouseLeave:ha(A,P)},F(oe,a.options,a)):!P.hidden&&F(A.date,a.options,a))})))))))),t.footer&&O.createElement(r.Footer,{className:c[E.Footer],style:_?.[E.Footer],role:"status","aria-live":"polite"},t.footer)))}function ol({calendarMonth:e,startYear:t,endYear:n}){const{goToMonth:r}=Le(),o=e.date,s=o.getFullYear(),a=o.getMonth(),i=w.useMemo(()=>{const l=t??s-100,h=n??s+10,u=[];for(let m=l;m<=h;m++)u.push(m);return u},[t,n,s]),c=w.useMemo(()=>{const l=[];for(let h=0;h<12;h++){const u=new Date(2e3,h,1);l.push(u.toLocaleString("he-IL",{month:"long"}))}return l},[]),d=l=>{const h=parseInt(l.target.value,10),u=new Date(h,a,1);r(u)},f=l=>{const h=parseInt(l.target.value,10),u=new Date(s,h,1);r(u)};return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:f,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:c.map((l,h)=>p.jsx("option",{value:h,children:l},h))}),p.jsx("select",{value:s,onChange:d,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:i.map(l=>p.jsx("option",{value:l,children:l},l))})]})}function sl({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",buttonVariant:o="ghost",formatters:s,components:a,startYear:i,endYear:c,...d}){const f=_t();return p.jsx(ps,{locale:Ko,showOutsideDays:n,className:D("p-2 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:l=>l.toLocaleString("default",{month:"short"}),...s},classNames:{root:D("w-fit",f.root),months:D("flex gap-4 flex-col md:flex-row relative",f.months),month:D("flex flex-col w-full gap-4",f.month),nav:D("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:D(Wt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:D(Wt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:D("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:D("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:D("relative cn-calendar-dropdown-root rounded-(--cell-radius)",f.dropdown_root),dropdown:D("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:D("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:D("flex",f.weekdays),weekday:D("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:D("flex w-full mt-2",f.week),week_number_header:D("select-none w-(--cell-size)",f.week_number_header),week_number:D("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:D("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",d.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",f.day),range_start:D("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",f.range_start),range_middle:D("rounded-none",f.range_middle),range_end:D("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",f.range_end),today:D("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",f.today),outside:D("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:D("text-muted-foreground opacity-50",f.disabled),hidden:D("invisible",f.hidden),...t},components:{Root:({className:l,rootRef:h,...u})=>p.jsx("div",{"data-slot":"calendar",ref:h,className:D(l),...u}),Chevron:({className:l,orientation:h,...u})=>h==="left"?p.jsx(lo,{className:D("size-4",l),...u}):h==="right"?p.jsx(fo,{className:D("size-4",l),...u}):p.jsx(jn,{className:D("size-4",l),...u}),DayButton:al,WeekNumber:({children:l,...h})=>p.jsx("td",{...h,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:l})}),MonthCaption:l=>p.jsx(ol,{...l,startYear:i,endYear:c}),...a},...d})}function al({className:e,day:t,modifiers:n,...r}){const o=_t(),s=w.useRef(null);return w.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(Qe,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:D("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const il={...Ko,labels:{labelDayButton:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t.today&&(s=`היום, ${s}`),t.selected&&(s=`${s}, נבחר`),s},labelMonthDropdown:"בחר את החודש",labelNext:"עבור לחודש הבא",labelPrevious:"עבור לחודש הקודם",labelWeekNumber:e=>`שבוע ${e}`,labelYearDropdown:"בחר את השנה",labelGrid:(e,t,n)=>(n??new J(t)).formatMonthYear(e),labelGridcell:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t?.today&&(s=`היום, ${s}`),s},labelNav:"סרגל ניווט",labelWeekNumberHeader:"מספר שבוע",labelWeekday:(e,t,n)=>(n??new J(t)).format(e,"cccc")}},Jn=1440*60*1e3,Kn=Date.UTC(1,0,1),cl=-2067381,ul=["tishrei","cheshvan","kislev","tevet","shevat","adar","nisan","iyar","sivan","tamuz","av","elul"],ll=["tishrei","cheshvan","kislev","tevet","shevat","adarI","adar","nisan","iyar","sivan","tamuz","av","elul"],xn=235,Tr=new Map,Nr=new Map;function qe(e,t){return(e%t+t)%t}function vt(e){return qe(7*e+1,19)<7}function dl(e){return Math.floor((235*e-234)/19)}function fl(e){const t=dl(e),n=204+793*qe(t,1080),r=5+12*t+793*Math.floor(t/1080),o=1+29*t+Math.floor(r/24),s=qe(r,24)*1080+n;let a=o;const i=vt(e),c=vt(e-1);(s>=19440||qe(a,7)===2&&s>=9924&&!i||qe(a,7)===1&&s>=16789&&c)&&(a+=1);const d=qe(a,7);return(d===0||d===3||d===5)&&(a+=1),a}function et(e){const t=Tr.get(e);if(t!==void 0)return t;const n=cl+fl(e);return Tr.set(e,n),n}function hl(e){const t=Nr.get(e);if(t!==void 0)return t;const n=et(e+1)-et(e);return Nr.set(e,n),n}function ml(e){const t=hl(e);return vt(e)?t===383?"deficient":t===384?"regular":"complete":t===353?"deficient":t===354?"regular":"complete"}function gs(e){return vt(e)?ll:ul}function vs(e,t){const n=gs(e);if(t<0||t>=n.length)throw new RangeError(`Invalid month index ${t} for year ${e}`);return n[t]}function We(e){return gs(e).length}function kt(e,t){const n=vs(e,t),r=ml(e);switch(n){case"tishrei":return 30;case"cheshvan":return r==="complete"?30:29;case"kislev":return r==="deficient"?29:30;case"tevet":return 29;case"shevat":return 30;case"adarI":return 30;case"adar":return 29;case"nisan":return 30;case"iyar":return 29;case"sivan":return 30;case"tamuz":return 29;case"av":return 30;case"elul":return 29;default:return 0}}function Xn(e,t){return vs(e,t)}function pl(e){const t=e.getFullYear()<100,n=t?e.getUTCFullYear():e.getFullYear(),r=t?e.getUTCMonth():e.getMonth(),o=t?e.getUTCDate():e.getDate(),s=new Date(0);return s.setUTCFullYear(n,r,o),s.setUTCHours(0,0,0,0),Math.floor((s.getTime()-Kn)/Jn)+1}function gl(e){const t=new Date(Kn+(e-1)*Jn),n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(0,0,0,0),n}function vl({year:e,monthIndex:t,day:n}){let r=n-1;for(let o=0;o<t;o+=1)r+=kt(e,o);return et(e)+r}function yl(e){const t=new Date(Kn+(e-1)*Jn);let n=t.getUTCFullYear()+3760;for(t.getUTCMonth()>=8&&(n+=1);e>=et(n+1);)n+=1;for(;e<et(n);)n-=1;let r=e-et(n);const o=We(n);let s=0;for(;s<o;){const a=kt(n,s);if(r<a)break;r-=a,s+=1}return{year:n,monthIndex:s,day:r+1}}function B(e){return yl(pl(e))}function _e(e){return gl(vl(e))}function bl(e){if(e<=1)return 0;const t=Math.floor((e-1)/19);let n=t*xn,r=t*19+1;for(;r<e;)n+=We(r),r+=1;return n}function ot({year:e,monthIndex:t}){return bl(e)+t}function wl(e){let t=e,n=1;if(t>=0){const r=Math.floor(t/xn);for(n+=r*19,t-=r*xn;;){const o=We(n);if(t<o)break;t-=o,n+=1}return{year:n,month:t}}for(;t<0;){n-=1;const r=We(n);t+=r}return{year:n,month:t}}function Qn(e,t,n){const r=kt(e,t);return Math.min(n,r)}function er(e,t){const{year:n,month:r}=wl(e);return{year:n,monthIndex:r,day:Qn(n,r,t)}}function _l(e){return e+1}function Ml(e,t){if(t===0)return new Date(e.getTime());const n=B(e),r=ot(n)+t,o=er(r,n.day),s=Qn(o.year,o.monthIndex,o.day);return _e({...o,day:s})}function Mn(e,t){const n=We(e);for(let r=0;r<n;r+=1)if(Xn(e,r)===t)return r;return-1}function ys(e,t){const n=B(e),r=t,o=Xn(n.year,n.monthIndex);let s=Mn(r,o);if(s===-1)if(o==="adarI")s=Mn(r,"adar");else if(o==="adar"&&!vt(r))s=Mn(r,"adar");else{const i=We(r);s=Math.min(n.monthIndex,i-1)}const a=Qn(r,s,n.day);return _e({year:r,monthIndex:s,day:a})}function kl(e,t){if(t===0)return new Date(e.getTime());const n=B(e);return ys(e,n.year+t)}function Sl(e,t){const n=B(e),r=B(t);return ot(n)-ot(r)}function Ol(e){const t=R(e.start),n=R(e.end);if(n.getTime()<t.getTime())return[];const r=B(t),o=B(n),s=ot(r),a=ot(o),i=[];for(let c=s;c<=a;c+=1){const d=er(c,1);i.push(_e(d))}return i}function xl(e){const t=R(e.start),n=R(e.end);if(n.getTime()<t.getTime())return[];const r=B(t).year,o=B(n).year,s=[];for(let a=r;a<=o;a+=1)s.push(_e({year:a,monthIndex:0,day:1}));return s}function Dl(e){const t=B(e),n=kt(t.year,t.monthIndex);return _e({...t,day:n})}function El(e){const t=B(e),n=We(t.year)-1,r=kt(t.year,n);return _e({year:t.year,monthIndex:n,day:r})}const Fr={tishrei:{en:"Tishrei",he:"תשרי"},cheshvan:{en:"Cheshvan",he:"חשוון"},kislev:{en:"Kislev",he:"כסלו"},tevet:{en:"Tevet",he:"טבת"},shevat:{en:"Shevat",he:"שבט"},adarI:{en:"Adar I",he:"אדר א׳"},adar:{en:"Adar",he:"אדר"},nisan:{en:"Nisan",he:"ניסן"},iyar:{en:"Iyar",he:"אייר"},sivan:{en:"Sivan",he:"סיוון"},tamuz:{en:"Tammuz",he:"תמוז"},av:{en:"Av",he:"אב"},elul:{en:"Elul",he:"אלול"}},Ir={long:{en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","שבת"]},narrow:{en:["S","M","T","W","T","F","S"],he:["א","ב","ג","ד","ה","ו","ש"]}},Cl=e=>e?.locale?.code??"he",zl=e=>{const t=B(e);return Xn(t.year,t.monthIndex)},Dn=(e,t)=>{try{return new Intl.DateTimeFormat(t,{month:"long",calendar:"hebrew"}).format(e)}catch{const n=zl(e);return t.startsWith("he")?Fr[n].he:Fr[n].en}},En=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{weekday:n,calendar:"hebrew"}).format(e)}catch{const r=e.getDay();return t.startsWith("he")?Ir[n].he[r]:Ir[n].en[r]}},Pr=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{dateStyle:n,calendar:"hebrew"}).format(e)}catch{const r=B(e),o=Dn(e,t);return n==="full"?`${En(e,t,"long")}, ${o} ${r.day}, ${r.year}`:`${o} ${r.day}, ${r.year}`}},ne=e=>e.toString(),Tl=(e,t,n)=>{const r=n.includes("a");return new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:r}).format(e)};function Nl(e,t,n){const o=Cl(n),s=B(e),a=_l(s.monthIndex);switch(t){case"LLLL y":case"LLLL yyyy":return`${Dn(e,o)} ${ne(s.year)}`;case"LLLL":return Dn(e,o);case"PPP":return Pr(e,o,"long");case"PPPP":return Pr(e,o,"full");case"cccc":return En(e,o,"long");case"cccccc":return En(e,o,"narrow");case"yyyy":case"y":return ne(s.year);case"yyyy-MM":return`${ne(s.year)}-${ne(a).padStart(2,"0")}`;case"yyyy-MM-dd":return`${ne(s.year)}-${ne(a).padStart(2,"0")}-${ne(s.day).padStart(2,"0")}`;case"MM":return ne(a).padStart(2,"0");case"M":return ne(a);case"dd":return ne(s.day).padStart(2,"0");case"d":return ne(s.day);default:return/[Hh]/.test(t)&&/m/.test(t)?Tl(e,o,t):`${ne(s.day)}/${ne(a)}/${ne(s.year)}`}}function Fl(e){return B(e).monthIndex}function Il(e){return B(e).year}function Pl(e,t){const n=B(e),r=B(t);return n.year===r.year&&n.monthIndex===r.monthIndex}function $l(e,t){return B(e).year===B(t).year}function Al(e,t,n){return _e({year:e,monthIndex:t,day:n})}function jl(e,t){const n=B(e),o=ot({year:n.year,monthIndex:0})+t,s=er(o,n.day);return _e(s)}function Vl(e){const t=B(e);return _e({...t,day:1})}function Wl(e){const t=B(e);return _e({year:t.year,monthIndex:0,day:1})}const Zl=Object.freeze(Object.defineProperty({__proto__:null,addMonths:Ml,addYears:kl,differenceInCalendarMonths:Sl,eachMonthOfInterval:Ol,eachYearOfInterval:xl,endOfMonth:Dl,endOfYear:El,format:Nl,getMonth:Fl,getYear:Il,isSameMonth:Pl,isSameYear:$l,newDate:Al,setMonth:jl,setYear:ys,startOfMonth:Vl,startOfYear:Wl},Symbol.toStringTag,{value:"Module"}));function Rl(e){const t=Ll({locale:e.locale,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone});return O.createElement(ps,{...e,locale:e.locale??il,numerals:e.numerals??"latn",dir:e.dir??"rtl",dateLib:t})}const Ll=e=>new J(e,Zl);function Yl({calendarMonth:e}){const{goToMonth:t,dayPickerProps:n}=Le(),r=e.date,o=w.useMemo(()=>new K(r),[r]),s=o.getFullYear(),a=o.getMonthName(),{startMonth:i,endMonth:c}=n,d=w.useMemo(()=>{const m=i?new K(i).getFullYear():s-10,v=c?new K(c).getFullYear():s+10,g=[];for(let y=m;y<=v;y++)g.push(y);return g},[i,c,s]),f=w.useMemo(()=>(new K(1,"Tishrei",s).isLeapYear()?["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar I","Adar II","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]:["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]).map(g=>{const x=new K(1,g,s).greg().toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return{value:g,label:x}}),[s]),l=w.useMemo(()=>d.map(m=>({value:m,label:Zt(m)})),[d]),h=w.useCallback(m=>{const v=parseInt(m.target.value,10);let g=a;const y=new K(1,"Tishrei",v).isLeapYear();g==="Adar II"&&!y||g==="Adar I"&&!y?g="Adar":g==="Adar"&&y&&(g="Adar II");try{t(new K(1,g,v).greg())}catch{t(new K(1,"Tishrei",v).greg())}},[a,t]),u=w.useCallback(m=>{const v=m.target.value;t(new K(1,v,s).greg())},[s,t]);return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:u,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:f.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))}),p.jsx("select",{value:s,onChange:h,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:l.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))})]})}function Bl({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",startMonth:o,endMonth:s,startYear:a,endYear:i,buttonVariant:c="ghost",formatters:d,components:f,...l}){const h=_t(),{startMonth:u,endMonth:m}=w.useMemo(()=>{const g=new K().getFullYear();return{startMonth:a?new K(1,"Tishrei",a).greg():o||new K(1,"Tishrei",g-120).greg(),endMonth:i?new K(29,"Elul",i).greg():s||new K(29,"Elul",g+20).greg()}},[o,s,a,i]),v=w.useMemo(()=>({formatDay:g=>Zt(new K(g).getDate()),...d}),[d]);return p.jsx(Rl,{dir:"rtl",showOutsideDays:n,className:D("p-3 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,startMonth:u,endMonth:m,formatters:v,classNames:{root:D("w-fit",h.root),months:D("flex gap-4 flex-col md:flex-row relative",h.months),month:D("flex flex-col w-full gap-4",h.month),nav:D("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",h.nav),button_previous:D(Wt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",h.button_previous),button_next:D(Wt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",h.button_next),month_caption:D("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",h.month_caption),dropdowns:D("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-2 z-20"),caption_label:D("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:D("flex",h.weekdays),weekday:D("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",h.weekday),week:D("flex w-full mt-2",h.week),week_number_header:D("select-none w-(--cell-size)",h.week_number_header),week_number:D("text-[0.8rem] select-none text-muted-foreground",h.week_number),day:D("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",l.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",h.day),range_start:D("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",h.range_start),range_middle:D("rounded-none",h.range_middle),range_end:D("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",h.range_end),today:D("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",h.today),outside:D("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:D("text-muted-foreground opacity-50",h.disabled),hidden:D("invisible",h.hidden),...t},components:{Root:({className:g,rootRef:y,...x})=>p.jsx("div",{"data-slot":"calendar",ref:y,className:D(g),...x}),Chevron:({className:g,orientation:y,...x})=>y==="left"?p.jsx(lo,{className:D("size-4",g),...x}):y==="right"?p.jsx(fo,{className:D("size-4",g),...x}):p.jsx(jn,{className:D("size-4",g),...x}),DayButton:Ul,WeekNumber:({children:g,...y})=>p.jsx("td",{...y,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:g})}),MonthCaption:Yl,...f},...l})}function Ul({className:e,day:t,modifiers:n,...r}){const o=_t(),s=w.useRef(null);return w.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(Qe,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:D("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}function Hl({...e}){return p.jsx(mi,{"data-slot":"popover",...e})}function Gl({...e}){return p.jsx(pi,{"data-slot":"popover-trigger",...e})}function ql({className:e,align:t="center",sideOffset:n=4,...r}){return p.jsx(gi,{children:p.jsx(vi,{"data-slot":"popover-content",align:t,sideOffset:n,className:D("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 flex flex-col gap-4 rounded-md p-4 text-sm shadow-md ring-1 duration-100 z-50 w-72 origin-(--radix-popover-content-transform-origin) outline-hidden",e),...r})})}function Jl({className:e,orientation:t="horizontal",...n}){return p.jsx(wi,{"data-slot":"tabs","data-orientation":t,className:D("gap-2 group/tabs flex data-[orientation=horizontal]:flex-col",e),...n})}const Kl=Sa("rounded-lg p-[3px] group-data-horizontal/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function Xl({className:e,variant:t="default",...n}){return p.jsx(_i,{"data-slot":"tabs-list","data-variant":t,className:D(Kl({variant:t}),e),...n})}function $r({className:e,...t}){return p.jsx(Mi,{"data-slot":"tabs-trigger",className:D("gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium group-data-[variant=default]/tabs-list:data-active:shadow-sm group-data-[variant=line]/tabs-list:data-active:shadow-none [&_svg:not([class*='size-'])]:size-4 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-active:bg-transparent dark:group-data-[variant=line]/tabs-list:data-active:border-transparent dark:group-data-[variant=line]/tabs-list:data-active:bg-transparent","data-active:bg-background dark:data-active:text-foreground dark:data-active:border-input dark:data-active:bg-input/30 data-active:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-active:after:opacity-100",e),...t})}function Ar({className:e,...t}){return p.jsx(ki,{"data-slot":"tabs-content",className:D("text-sm flex-1 outline-none",e),...t})}function Ql({value:e,onChange:t,disabled:n,maxDate:r,minDate:o}){const[s,a]=w.useState("gregorian"),[i,c]=w.useState(!1),d=r??new Date,f=w.useMemo(()=>{if(!e)return;const g=ti(e,"yyyy-MM-dd",new Date);return ko(g)?g:void 0},[e]),l=g=>{g&&(t($e(g,"yyyy-MM-dd")),c(!1))},h=w.useMemo(()=>{if(!f)return null;if(s==="hebrew"){const g=new K(f),y=f.toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return`${Zt(g.getDate())} ${y} ${Zt(g.getFullYear())}`}else return $e(f,"dd/MM/yyyy")},[f,s]),u=w.useMemo(()=>new K().getFullYear(),[]),m=o?o.getFullYear():new Date().getFullYear()-100,v=d.getFullYear();return p.jsxs(Hl,{open:i,onOpenChange:c,children:[p.jsx(Gl,{asChild:!0,children:p.jsxs(Qe,{variant:"outline",className:D("w-full justify-start text-right font-normal",!e&&"text-muted-foreground"),disabled:n,children:[p.jsx(Oa,{className:"ml-2 h-4 w-4 shrink-0"}),h||p.jsx("span",{children:"בחר תאריך..."})]})}),p.jsx(ql,{className:"w-auto p-0",align:"start",children:p.jsxs(Jl,{value:s,onValueChange:g=>a(g),className:"w-full min-w-[280px] max-w-[300px]",children:[p.jsxs(Xl,{className:"grid w-full grid-cols-2",children:[p.jsx($r,{value:"gregorian",children:"לועזי"}),p.jsx($r,{value:"hebrew",children:"עברי"})]}),p.jsx(Ar,{value:"gregorian",className:"p-0",children:p.jsx(sl,{mode:"single",selected:f,onSelect:l,defaultMonth:f,toDate:d,fromDate:o,startYear:m,endYear:v})}),p.jsxs(Ar,{value:"hebrew",className:"p-0",children:[p.jsx("div",{className:"text-xs text-muted-foreground px-3 pt-2 pb-1 text-center",children:"הגריד מבוסס על מבנה לועזי, התאריכים העבריים אינם מדויקים"}),p.jsx(Bl,{mode:"single",selected:f,autoFocus:!0,onSelect:l,defaultMonth:f,endYear:u,startYear:u-120})]})]})})]})}function ed(e){if(e.length!==9){if(e.length>9||e.length===0)return!1;e=e.padStart(9,"0")}let t=0;for(let n=0;n<9;n++){const r=parseInt(e.charAt(n),10);if(isNaN(r))return!1;let o=r*(n%2+1);o>9&&(o-=9),t+=o}return t%10===0}function Cn(e){return e.replace(/\D/g,"")}function jr(e){const t=Cn(e);return!!/^0\d{8,9}$/.test(t)}const tt=new WeakMap,At=new WeakMap,Rt={current:[]};let kn=!1,pt=0;const ht=new Set,Dt=new Map;function bs(e){const t=Array.from(e).sort((n,r)=>n instanceof De&&n.options.deps.includes(r)?1:r instanceof De&&r.options.deps.includes(n)?-1:0);for(const n of t){if(Rt.current.includes(n))continue;Rt.current.push(n),n.recompute();const r=At.get(n);if(r)for(const o of r){const s=tt.get(o);s&&bs(s)}}}function td(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function nd(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function ws(e){if(pt>0&&!Dt.has(e)&&Dt.set(e,e.prevState),ht.add(e),!(pt>0)&&!kn)try{for(kn=!0;ht.size>0;){const t=Array.from(ht);ht.clear();for(const n of t){const r=Dt.get(n)??n.prevState;n.prevState=r,td(n)}for(const n of t){const r=tt.get(n);r&&(Rt.current.push(n),bs(r))}for(const n of t){const r=tt.get(n);if(r)for(const o of r)nd(o)}}}finally{kn=!1,Rt.current=[],Dt.clear()}}function ve(e){pt++;try{e()}finally{if(pt--,pt===0){const t=ht.values().next().value;t&&ws(t)}}}function rd(e){return typeof e=="function"}class zn{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var o,s;this.listeners.add(r);const a=(s=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:s.call(o,r,this);return()=>{this.listeners.delete(r),a?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,o;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):rd(t)?this.state=t(this.prevState):this.state=t,(o=(r=this.options)==null?void 0:r.onUpdate)==null||o.call(r),ws(this)}}class De{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,r=new Array(n),o=new Array(n);for(let s=0;s<n;s++){const a=this.options.deps[s];r[s]=a.prevState,o[s]=a.state}return this.lastSeenDepValues=o,{prevDepVals:r,currDepVals:o,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const o=this.getDepVals();this.state=this.options.fn(o),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof De&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let s=0;s<o.length;s++)if(o[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,o;this.listeners.add(n);const s=(o=(r=this.options).onSubscribe)==null?void 0:o.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof De)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof zn){let r=tt.get(n);r||(r=new Set,tt.set(n,r)),r.add(this);let o=At.get(this);o||(o=new Set,At.set(this,o)),o.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof De)this.unregisterFromGraph(n.options.deps);else if(n instanceof zn){const r=tt.get(n);r&&r.delete(this);const o=At.get(this);o&&o.delete(n)}}}var od=class{constructor(e,t){this.fn=e,this.options=t,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...n)=>{const r=Date.now()-this.lastExecutionTime;if(this.options.leading&&r>=this.options.wait)this.execute(...n);else if(this.lastArgs=n,!this.timeoutId&&this.options.trailing){const o=this.options.wait-r;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},o)}},this.execute=(...n)=>{this.fn(...n),this.options.onExecute?.(n,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function sd(e,t){return new od(e,t).maybeExecute}class ad{#s=!0;#t;#e;#d;#n;#i;#r;#c;#f=0;#m=5;#a=!1;#u=!1;#o=null;#h=()=>{this.debugLog("Connected to event bus"),this.#i=!0,this.#a=!1,this.debugLog("Emitting queued events",this.#n),this.#n.forEach(t=>this.emitEventToBus(t)),this.#n=[],this.stopConnectLoop(),this.#e().removeEventListener("tanstack-connect-success",this.#h)};#l=()=>{if(this.#f<this.#m){this.#f++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#e().removeEventListener("tanstack-connect",this.#l),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#a||(this.#a=!0,this.#e().addEventListener("tanstack-connect-success",this.#h),this.#l())};constructor({pluginId:t,debug:n=!1,enabled:r=!0,reconnectEveryMs:o=300}){this.#t=t,this.#s=r,this.#e=this.getGlobalTarget,this.#d=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#n=[],this.#i=!1,this.#u=!1,this.#r=null,this.#c=o}startConnectLoop(){this.#r!==null||this.#i||(this.debugLog(`Starting connect loop (every ${this.#c}ms)`),this.#r=setInterval(this.#l,this.#c))}stopConnectLoop(){this.#a=!1,this.#r!==null&&(clearInterval(this.#r),this.#r=null,this.#n=[],this.debugLog("Stopped connect loop"))}debugLog(...t){this.#d&&console.log(`🌴 [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#t}dispatchCustomEventShim(t,n){try{const r=new Event(t,{detail:n});this.#e().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{this.#e().dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${this.#t}:${t}`,payload:n,pluginId:this.#t}}emit(t,n){if(!this.#s){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(this.#o&&(this.debugLog("Emitting event to internal event target",t,n),this.#o.dispatchEvent(new CustomEvent(`${this.#t}:${t}`,{detail:this.createEventPayload(t,n)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#i){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#n.push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!this.#a&&(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,r){const o=r?.withEventTarget??!1,s=`${this.#t}:${t}`;if(o&&(this.#o||(this.#o=new EventTarget),this.#o.addEventListener(s,i=>{n(i.detail)})),!this.#s)return this.debugLog("Event bus client is disabled, not registering event",s),()=>{};const a=i=>{this.debugLog("Received event from bus",i.detail),n(i.detail)};return this.#e().addEventListener(s,a),this.debugLog("Registered event to bus",s),()=>{o&&this.#o?.removeEventListener(s,a),this.#e().removeEventListener(s,a)}}onAll(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;this.#t&&o.pluginId!==this.#t||t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}}class id extends ad{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const ce=new id;function Xt(e,t){return typeof e=="function"?e(t):e}function Et(e,t){return tr(t).reduce((r,o)=>{if(r===null)return null;if(typeof r<"u")return r[o]},e)}function Ct(e,t,n){const r=tr(t);function o(s){if(!r.length)return Xt(n,s);const a=r.shift();if(typeof a=="string"||typeof a=="number"&&!Array.isArray(s))return typeof s=="object"?(s===null&&(s={}),{...s,[a]:o(s[a])}):{[a]:o()};if(Array.isArray(s)&&typeof a=="number"){const i=s.slice(0,a);return[...i.length?i:new Array(a),o(s[a]),...s.slice(a+1)]}return[...new Array(a),o()]}return o(e)}function cd(e,t){const n=tr(t);function r(o){if(!o)return;if(n.length===1){const a=n[0];if(Array.isArray(o)&&typeof a=="number")return o.filter((d,f)=>f!==a);const{[a]:i,...c}=o;return c}const s=n.shift();if((typeof s=="string"||typeof s=="number"&&!Array.isArray(o))&&typeof o=="object")return{...o,[s]:r(o[s])};if(typeof s=="number"&&Array.isArray(o)){if(s>=o.length)return o;const a=o.slice(0,s);return[...a.length?a:new Array(s),r(o[s]),...o.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const ud=/^(\d+)$/gm,ld=/\.(\d+)(?=\.)/gm,dd=/^(\d+)\./gm,fd=/\.(\d+$)/gm,hd=/\.{2,}/gm,Tn="__int__",zt=`${Tn}$1`;function tr(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(ud,zt).replace(ld,`.${zt}.`).replace(dd,`${zt}.`).replace(fd,`.${zt}`).replace(hd,".").split(".").map(t=>{if(t.startsWith(Tn)){const n=t.substring(Tn.length),r=parseInt(n,10);return String(r)===n?r:n}return t})}function md(e){return!(Array.isArray(e)&&e.length===0)}function Nn(e,t){const n=r=>r.validators.filter(Boolean).map(o=>({cause:o.cause,validate:o.fn}));return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:n})}function Fn(e,t){const{asyncDebounceMs:n}=t,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:o,onDynamicAsyncDebounceMs:s}=t.validators||{},a=n??0,i=c=>c.validators.filter(Boolean).map(d=>{const f=d?.cause||e;let l=a;switch(f){case"change":l=o??a;break;case"blur":l=r??a;break;case"dynamic":l=s??a;break;case"submit":l=0;break}return e==="submit"&&(l=0),{cause:f,validate:d.fn,debounceMs:l}});return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:i})}const In=e=>!!e&&typeof e=="object"&&"fields"in e;function ze(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!t.has(o)||!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!r.includes(o)||!ze(e[o],t[o]))return!1;return!0}const Vr=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},Wr=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function re(e,t){return e==null?t:{...e,...t}}let je=256;const jt=[];let Tt;for(;je--;)jt[je]=(je+256).toString(16).substring(1);function _s(){let e=0,t,n="";if(!Tt||je+16>256){for(Tt=new Array(256),e=256;e--;)Tt[e]=256*Math.random()|0;e=0,je=0}for(;e<16;e++)t=Tt[je+e],e===6?n+=jt[t&15|64]:e===8?n+=jt[t&63|128]:n+=jt[t],e&1&&e>1&&e<11&&(n+="-");return je++,n}const pd=sd(e=>ce.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),Je=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const t=e.event.async,n=t?void 0:{fn:e.validators.onMount,cause:"mount"},r={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},o={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},s={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},a=t?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[n],form:e.form});case"submit":return e.runValidation({validators:[r,o,s,a],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[o,a],form:e.form});case"change":return e.runValidation({validators:[r,a],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function gd(e,t){const n=new Map;for(const r of e){const o=r.path??[];let s=t,a="";for(let i=0;i<o.length;i++){const c=o[i];if(c===void 0)continue;const d=typeof c=="object"?c.key:c,f=Number(d);Array.isArray(s)&&!Number.isNaN(f)?a+=`[${f}]`:a+=(i>0?".":"")+String(d),typeof s=="object"&&s!==null?s=s[d]:s=void 0}n.set(a,(n.get(a)??[]).concat(r))}return Object.fromEntries(n)}const Zr=(e,t)=>{const n=gd(e,t);return{form:n,fields:n}},Ve={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:Zr(r.issues,e)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:Zr(r.issues,e)}},Ms=e=>!!e&&"~standard"in e,Ke={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Nt(e){function t(f,l,h){const u=a(f,l,"move",h),m=Math.min(l,h),v=Math.max(l,h);for(let y=m;y<=v;y++)u.push(s(f,y));const g=Object.keys(e.fieldInfo).reduce((y,x)=>(x.startsWith(s(f,l))&&y.set(x,e.getFieldMeta(x)),y),new Map);c(u,l<h?"up":"down"),Object.keys(e.fieldInfo).filter(y=>y.startsWith(s(f,h))).forEach(y=>{const x=y.replace(s(f,h),s(f,l)),M=g.get(x);M&&e.setFieldMeta(y,M)})}function n(f,l){const h=a(f,l,"remove");c(h,"up")}function r(f,l,h){a(f,l,"swap",h).forEach(m=>{if(!m.toString().startsWith(s(f,l)))return;const v=m.toString().replace(s(f,l),s(f,h)),[g,y]=[e.getFieldMeta(m),e.getFieldMeta(v)];g&&e.setFieldMeta(v,g),y&&e.setFieldMeta(m,y)})}function o(f,l){const h=a(f,l,"insert");c(h,"down"),h.forEach(u=>{u.toString().startsWith(s(f,l))&&e.setFieldMeta(u,d())})}function s(f,l){return`${f}[${l}]`}function a(f,l,h,u){const m=[s(f,l)];switch(h){case"swap":m.push(s(f,u));break;case"move":{const[v,g]=[Math.min(l,u),Math.max(l,u)];for(let y=v;y<=g;y++)m.push(s(f,y));break}default:{const v=e.getFieldValue(f),g=Array.isArray(v)?v.length:0;for(let y=l+1;y<g;y++)m.push(s(f,y));break}}return Object.keys(e.fieldInfo).filter(v=>m.some(g=>v.startsWith(g)))}function i(f,l){return f.replace(/\[(\d+)\]/,(h,u)=>{const m=parseInt(u,10);return`[${l==="up"?m+1:Math.max(0,m-1)}]`})}function c(f,l){(l==="up"?f:[...f].reverse()).forEach(u=>{const m=i(u.toString(),l),v=e.getFieldMeta(m);v?e.setFieldMeta(u,v):e.setFieldMeta(u,d())})}const d=()=>Ke;return{handleArrayMove:t,handleArrayRemove:n,handleArraySwap:r,handleArrayInsert:o}}function Sn(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class Rr{constructor(t){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const n=this.fieldMetaDerived.mount(),r=this.store.mount(),o=this.store.subscribe(()=>{pd(this)}),s=ce.on("request-form-state",f=>{f.payload.id===this._formId&&ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),a=ce.on("request-form-reset",f=>{f.payload.id===this._formId&&this.reset()}),i=ce.on("request-form-force-submit",f=>{f.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),c=()=>{i(),a(),s(),o(),n(),r(),ce.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:d}=this.options.validators||{};return ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),d&&this.validateSync("mount"),c},this.update=n=>{if(!n)return;const r=this.options;this.options=n;const o=!!n.transform?.deps?.some((i,c)=>i!==this.prevTransformArray[c]),s=n.defaultValues&&!ze(n.defaultValues,r.defaultValues)&&!this.state.isTouched,a=!ze(n.defaultState,r.defaultState)&&!this.state.isTouched;!s&&!a&&!o||(ve(()=>{this.baseStore.setState(()=>Sn(Object.assign({},this.state,a?n.defaultState:{},s?{values:n.defaultValues}:{},o?{_force_re_eval:!this.state._force_re_eval}:{})))}),ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(n,r)=>{const{fieldMeta:o}=this.state,s=this.resetFieldMeta(o);n&&!r?.keepDefaultValues&&(this.options={...this.options,defaultValues:n}),this.baseStore.setState(()=>Sn({...this.options.defaultState,values:n??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:s}))},this.validateAllFields=async n=>{const r=[];return ve(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const a=s.instance;r.push(Promise.resolve().then(()=>a.validate(n,{skipFormValidation:!0}))),s.instance.state.meta.isTouched||s.instance.setMeta(i=>({...i,isTouched:!0}))})}),(await Promise.all(r)).flat()},this.validateArrayFieldsStartingFrom=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null,i=[`${n}[${r}]`];for(let l=r+1;l<=(a??0);l++)i.push(`${n}[${l}]`);const c=Object.keys(this.fieldInfo).filter(l=>i.some(h=>l.startsWith(h))),d=[];return ve(()=>{c.forEach(l=>{d.push(Promise.resolve().then(()=>this.validateField(l,o)))})}),(await Promise.all(d)).flat()},this.validateField=(n,r)=>{const o=this.fieldInfo[n]?.instance;return o?(o.state.meta.isTouched||o.setMeta(s=>({...s,isTouched:!0})),o.validate(r)):[]},this.validateSync=n=>{const r=Nn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Je});let o=!1;const s={};return ve(()=>{for(const c of r){if(!c.validate)continue;const d=this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:f,fieldErrors:l}=Vt(d),h=dt(c.cause),u=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(l||{})]);for(const m of u){if(this.baseStore.state.fieldMetaBase[m]===void 0&&!l?.[m])continue;const v=this.getFieldMeta(m)??Ke,{errorMap:g,errorSourceMap:y}=v,x=l?.[m],{newErrorValue:M,newSource:k}=Vr({newFormValidatorError:x,isPreviousErrorFromFormValidator:y?.[h]==="form",previousErrorValue:g?.[h]});k==="form"&&(s[m]={...s[m],[h]:x}),g?.[h]!==M&&this.setFieldMeta(m,(S=Ke)=>({...S,errorMap:{...S.errorMap,[h]:M},errorSourceMap:{...S.errorSourceMap,[h]:k}}))}this.state.errorMap?.[h]!==f&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[h]:f}})),(f||l)&&(o=!0)}const a=dt("submit");this.state.errorMap?.[a]&&n!=="submit"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[a]:void 0}}));const i=dt("server");this.state.errorMap?.[i]&&n!=="server"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[i]:void 0}}))}),{hasErrored:o,fieldsErrorMap:s}},this.validateAsync=async n=>{const r=Fn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Je});this.state.isFormValidating||this.baseStore.setState(c=>({...c,isFormValidating:!0}));const o=[];let s;for(const c of r){if(!c.validate)continue;const d=dt(c.cause);this.state.validationMetaMap[d]?.lastAbortController.abort();const l=new AbortController;this.state.validationMetaMap[d]={lastAbortController:l},o.push(new Promise(async h=>{let u;try{u=await new Promise((y,x)=>{setTimeout(async()=>{if(l.signal.aborted)return y(void 0);try{y(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:l.signal},type:"validateAsync"}))}catch(M){x(M)}},c.debounceMs)})}catch(y){u=y}const{formError:m,fieldErrors:v}=Vt(u);v&&(s=s?{...s,...v}:v);const g=dt(c.cause);for(const y of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[y]===void 0)continue;const x=this.getFieldMeta(y);if(!x)continue;const{errorMap:M,errorSourceMap:k}=x,S=s?.[y],{newErrorValue:_,newSource:C}=Vr({newFormValidatorError:S,isPreviousErrorFromFormValidator:k?.[g]==="form",previousErrorValue:M?.[g]});M?.[g]!==_&&this.setFieldMeta(y,F=>({...F,errorMap:{...F.errorMap,[g]:_},errorSourceMap:{...F.errorSourceMap,[g]:C}}))}this.baseStore.setState(y=>({...y,errorMap:{...y.errorMap,[g]:m}})),h(s?{fieldErrors:s,errorMapKey:g}:void 0)}))}let a=[];const i={};if(o.length){a=await Promise.all(o);for(const c of a)if(c?.fieldErrors){const{errorMapKey:d}=c;for(const[f,l]of Object.entries(c.fieldErrors)){const u={...i[f]||{},[d]:l};i[f]=u}}}return this.baseStore.setState(c=>({...c,isFormValidating:!1})),i},this.validate=n=>{const{hasErrored:r,fieldsErrorMap:o}=this.validateSync(n);return r&&!this.options.asyncAlways?o:this.validateAsync(n)},this._handleSubmit=async n=>{this.baseStore.setState(s=>({...s,isSubmitted:!1,submissionAttempts:s.submissionAttempts+1,isSubmitSuccessful:!1})),ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance&&(s.instance.state.meta.isTouched||s.instance.setMeta(a=>({...a,isTouched:!0})))})});const r=n??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r});return}this.baseStore.setState(s=>({...s,isSubmitting:!0}));const o=()=>{this.baseStore.setState(s=>({...s,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(s=>s.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance?.options.listeners?.onSubmit?.({value:s.instance.state.value,fieldApi:s.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:r});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:r}),ve(()=>{this.baseStore.setState(s=>({...s,isSubmitted:!0,isSubmitSuccessful:!0})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),o()})}catch(s){throw this.baseStore.setState(a=>({...a,isSubmitSuccessful:!1})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:s}),o(),s}},this.getFieldValue=n=>Et(this.state.values,n),this.getFieldMeta=n=>this.state.fieldMeta[n],this.getFieldInfo=n=>this.fieldInfo[n]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(n,r)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[n]:Xt(r,o.fieldMetaBase[n])}}))},this.resetFieldMeta=n=>Object.keys(n).reduce((r,o)=>{const s=o;return r[s]=Ke,r},{}),this.setFieldValue=(n,r,o)=>{const s=o?.dontUpdateMeta??!1,a=o?.dontRunListeners??!1,i=o?.dontValidate??!1;ve(()=>{s||this.setFieldMeta(n,c=>({...c,isTouched:!0,isDirty:!0,errorMap:{...c?.errorMap,onMount:void 0}})),this.baseStore.setState(c=>({...c,values:Ct(c.values,n,r)}))}),a||this.getFieldInfo(n).instance?.triggerOnChangeListener(),i||this.validateField(n,"change")},this.deleteField=n=>{const o=[...Object.keys(this.fieldInfo).filter(s=>{const a=n.toString();return s!==a&&s.startsWith(a)}),n];this.baseStore.setState(s=>{const a={...s};return o.forEach(i=>{a.values=cd(a.values,i),delete this.fieldInfo[i],delete a.fieldMetaBase[i]}),a})},this.pushFieldValue=(n,r,o)=>{this.setFieldValue(n,s=>[...Array.isArray(s)?s:[],r],o)},this.insertFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>[...i.slice(0,r),o,...i.slice(r)],re(s,{dontValidate:!0}));const a=s?.dontValidate??!1;a||await this.validateField(n,"change"),Nt(this).handleArrayInsert(n,r),a||await this.validateArrayFieldsStartingFrom(n,r,"change")},this.replaceFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>i.map((c,d)=>d===r?o:c),re(s,{dontValidate:!0})),(s?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.removeFieldValue=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(n,c=>c.filter((d,f)=>f!==r),re(o,{dontValidate:!0})),Nt(this).handleArrayRemove(n,r),a!==null){const c=`${n}[${a}]`;this.deleteField(c)}(o?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.swapFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=i[r],d=i[o];return Ct(Ct(i,`${r}`,d),`${o}`,c)},re(s,{dontValidate:!0})),Nt(this).handleArraySwap(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.moveFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=[...i];return c.splice(o,0,c.splice(r,1)[0]),c},re(s,{dontValidate:!0})),Nt(this).handleArrayMove(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.clearFieldValues=(n,r)=>{const o=this.getFieldValue(n),s=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(n,[],re(r,{dontValidate:!0})),s!==null)for(let i=0;i<=s;i++){const c=`${n}[${i}]`;this.deleteField(c)}(r?.dontValidate??!1)||this.validateField(n,"change")},this.resetField=n=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[n]:Ke},values:this.options.defaultValues?Ct(r.values,n,Et(this.options.defaultValues,n)):r.values}))},this.setErrorMap=n=>{ve(()=>{Object.entries(n).forEach(([r,o])=>{const s=r;if(In(o)){const{formError:a,fieldErrors:i}=Vt(o);for(const c of Object.keys(this.fieldInfo))this.getFieldMeta(c)&&this.setFieldMeta(c,f=>({...f,errorMap:{...f.errorMap,[s]:i?.[c]},errorSourceMap:{...f.errorSourceMap,[s]:"form"}}));this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[s]:a}}))}else this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:o}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((n,[r,o])=>(Object.keys(o).length&&o.errors.length&&(n[r]={errors:o.errors,errorMap:o.errorMap}),n),{})}),this.parseValuesWithSchema=n=>Ve.validate({value:this.state.values,validationSource:"form"},n),this.parseValuesWithSchemaAsync=n=>Ve.validateAsync({value:this.state.values,validationSource:"form"},n),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??_s(),this._devtoolsSubmissionOverride=!1,this.baseStore=new zn(Sn({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values})),this.fieldMetaDerived=new De({deps:[this.baseStore],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0];let c=0;const d={};for(const f of Object.keys(i.fieldMetaBase)){const l=i.fieldMetaBase[f],h=a?.fieldMetaBase[f],u=s?.[f],m=Et(i.values,f);let v=u?.errors;if(!h||l.errorMap!==h.errorMap){v=Object.values(l.errorMap??{}).filter(k=>k!==void 0);const M=this.getFieldInfo(f)?.instance;M&&!M.options.disableErrorFlat&&(v=v.flat(1))}const g=!md(v),y=!l.isDirty,x=ze(m,Et(this.options.defaultValues,f))||ze(m,this.getFieldInfo(f)?.instance?.options.defaultValue);if(u&&u.isPristine===y&&u.isValid===g&&u.isDefaultValue===x&&u.errors===v&&l===h){d[f]=u,c++;continue}d[f]={...l,errors:v??[],isPristine:y,isValid:g,isDefaultValue:x}}return Object.keys(i.fieldMetaBase).length&&s&&c===Object.keys(i.fieldMetaBase).length?s:d}}),this.store=new De({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0],c=r[1],d=Object.values(c).filter(Boolean),f=d.some(I=>I.isValidating),l=d.every(I=>I.isValid),h=d.some(I=>I.isTouched),u=d.some(I=>I.isBlurred),m=d.every(I=>I.isDefaultValue),v=h&&i.errorMap?.onMount,g=d.some(I=>I.isDirty),y=!g,x=!!(i.errorMap?.onMount||d.some(I=>I?.errorMap?.onMount)),M=!!f;let k=s?.errors??[];(!a||i.errorMap!==a.errorMap)&&(k=Object.values(i.errorMap).reduce((I,H)=>H===void 0?I:H&&In(H)?(I.push(H.form),I):(I.push(H),I),[]));const S=k.length===0,_=l&&S,C=this.options.canSubmitWhenInvalid??!1,F=i.submissionAttempts===0&&!h&&!x||!M&&!i.isSubmitting&&_||C;let $=i.errorMap;if(v&&(k=k.filter(I=>I!==i.errorMap.onMount),$=Object.assign($,{onMount:void 0})),s&&a&&s.errorMap===$&&s.fieldMeta===this.fieldMetaDerived.state&&s.errors===k&&s.isFieldsValidating===f&&s.isFieldsValid===l&&s.isFormValid===S&&s.isValid===_&&s.canSubmit===F&&s.isTouched===h&&s.isBlurred===u&&s.isPristine===y&&s.isDefaultValue===m&&s.isDirty===g&&ze(a,i))return s;let Z={...i,errorMap:$,fieldMeta:this.fieldMetaDerived.state,errors:k,isFieldsValidating:f,isFieldsValid:l,isFormValid:S,isValid:_,canSubmit:F,isTouched:h,isBlurred:u,isPristine:y,isDefaultValue:m,isDirty:g};const Q=this.options.transform?.deps??[];if(Q.length!==this.prevTransformArray.length||Q.some((I,H)=>I!==this.prevTransformArray[H])){const I=Object.assign({},this,{state:Z});this.options.transform?.fn(I),Z=I.state,this.prevTransformArray=Q}return Z}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return Ms(t.validate)?Ve[t.type](t.value,t.validate):t.validate(t.value)}handleSubmit(t){return this._handleSubmit(t)}}function Vt(e){if(e){if(In(e)){const t=Vt(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function dt(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Lr{constructor(t){this.options={},this.mount=()=>{const n=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const s=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});s&&this.setMeta(a=>({...a,errorMap:{...a?.errorMap,onMount:s},errorSourceMap:{...a?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),n},this.update=n=>{if(this.options=n,this.name=n.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const r=this.form.getFieldValue(this.name);ze(r,n.defaultValue)||this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,re(r,{dontRunListeners:!0,dontValidate:!0})),r?.dontRunListeners||this.triggerOnChangeListener(),r?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(n,r,o)=>{this.form.insertFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(n,r,o)=>{this.form.replaceFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(n,r,o)=>{this.form.swapFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(n,r,o)=>{this.form.moveFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,re(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),o=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:a,onBlurListenTo:i}=s.instance.options.validators||{};n==="change"&&a?.includes(this.name)&&o.push(s.instance),n==="blur"&&i?.includes(this.name)&&o.push(s.instance)}return o},this.validateSync=(n,r)=>{const o=Nn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Je}),a=this.getLinkedFields(n).reduce((d,f)=>{const l=Nn(n,{...f.options,form:f.form,validationLogic:f.form.options.validationLogic||Je});return l.forEach(h=>{h.field=f}),d.concat(l)},[]);let i=!1;ve(()=>{const d=(f,l)=>{const h=Ft(l.cause),u=l.validate?Yr(f.runValidator({validate:l.validate,value:{value:f.store.state.value,validationSource:"field",fieldApi:f},type:"validate"})):void 0,m=r[h],{newErrorValue:v,newSource:g}=Wr({formLevelError:m,fieldLevelError:u});f.state.meta.errorMap?.[h]!==v&&f.setMeta(y=>({...y,errorMap:{...y.errorMap,[h]:v},errorSourceMap:{...y.errorSourceMap,[h]:g}})),v&&(i=!0)};for(const f of o)d(this,f);for(const f of a)f.validate&&d(f.field,f)});const c=Ft("submit");return this.state.meta.errorMap?.[c]&&n!=="submit"&&!i&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[c]:void 0},errorSourceMap:{...d.errorSourceMap,[c]:void 0}})),{hasErrored:i}},this.validateAsync=async(n,r)=>{const o=Fn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Je}),s=await r,a=this.getLinkedFields(n),i=a.reduce((u,m)=>{const v=Fn(n,{...m.options,form:m.form,validationLogic:m.form.options.validationLogic||Je});return v.forEach(g=>{g.field=m}),u.concat(v)},[]),c=[],d=[],f=o.some(u=>u.validate)||i.some(u=>u.validate);if(f){this.state.meta.isValidating||this.setMeta(u=>({...u,isValidating:!0}));for(const u of a)u.setMeta(m=>({...m,isValidating:!0}))}const l=(u,m,v)=>{const g=Ft(m.cause);u.getInfo().validationMetaMap[g]?.lastAbortController.abort();const x=new AbortController;this.getInfo().validationMetaMap[g]={lastAbortController:x},v.push(new Promise(async M=>{let k;try{k=await new Promise(($,Z)=>{this.timeoutIds.validations[m.cause]&&clearTimeout(this.timeoutIds.validations[m.cause]),this.timeoutIds.validations[m.cause]=setTimeout(async()=>{if(x.signal.aborted)return $(void 0);try{$(await this.runValidator({validate:m.validate,value:{value:u.store.state.value,fieldApi:u,signal:x.signal,validationSource:"field"},type:"validateAsync"}))}catch(Q){Z(Q)}},m.debounceMs)})}catch($){k=$}if(x.signal.aborted)return M(void 0);const S=Yr(k),_=s[this.name]?.[g],{newErrorValue:C,newSource:F}=Wr({formLevelError:_,fieldLevelError:S});u.setMeta($=>({...$,errorMap:{...$?.errorMap,[g]:C},errorSourceMap:{...$.errorSourceMap,[g]:F}})),M(C)}))};for(const u of o)u.validate&&l(this,u,c);for(const u of i)u.validate&&l(u.field,u,d);let h=[];if((c.length||d.length)&&(h=await Promise.all(c),await Promise.all(d)),f){this.setMeta(u=>({...u,isValidating:!1}));for(const u of a)u.setMeta(m=>({...m,isValidating:!1}))}return h.filter(Boolean)},this.validate=(n,r)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:s}=this.validateSync(n,o[this.name]??{});if(s&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[Ft(n)]?.lastAbortController.abort(),this.state.meta.errors;const a=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=n=>{this.setMeta(r=>({...r,errorMap:{...r.errorMap,...n}}))},this.parseValueWithSchema=n=>Ve.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>Ve.validateAsync({value:this.state.value,validationSource:"field"},n),this.triggerOnChangeListener=()=>{const n=this.form.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const r=this.options.listeners?.onChangeDebounceMs;r&&r>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},r)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.options=t,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new De({deps:[this.form.store],fn:({prevVal:n})=>{const r=n,o=this.form.getFieldMeta(this.name)??{...Ke,...t.defaultMeta};let s=this.form.getFieldValue(this.name);return!o.isTouched&&s===void 0&&this.options.defaultValue!==void 0&&!ze(s,this.options.defaultValue)&&(s=this.options.defaultValue),r&&r.value===s&&r.meta===o?r:{value:s,meta:o}}})}get state(){return this.store.state}runValidator(t){return Ms(t.validate)?Ve[t.type](t.value,t.validate):t.validate(t.value)}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function Yr(e){if(e)return e}function Ft(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}function Ce(e,t=r=>r,n={}){const r=n.equal??vd;return xi.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function vd(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!t.has(r)||!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Br(e);if(n.length!==Br(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Br(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const Lt=typeof window<"u"?w.useLayoutEffect:w.useEffect;function yd(e){const[t,n]=w.useState(()=>({form:e.form,name:e.name})),[r,o]=w.useState(()=>new Lr({...e}));(t.form!==e.form||t.name!==e.name)&&(o(new Lr({...e})),n({form:e.form,name:e.name}));const s=Ce(r.store,e.mode==="array"?u=>Object.keys(u.value??[]).length:u=>u.value),a=Ce(r.store,u=>u.meta.isTouched),i=Ce(r.store,u=>u.meta.isBlurred),c=Ce(r.store,u=>u.meta.isDirty),d=Ce(r.store,u=>u.meta.errorMap),f=Ce(r.store,u=>u.meta.errorSourceMap),l=Ce(r.store,u=>u.meta.isValidating),h=w.useMemo(()=>{const m={...r,get state(){return{value:e.mode==="array"?r.state.value:s,get meta(){return{...r.state.meta,isTouched:a,isBlurred:i,isDirty:c,errorMap:d,errorSourceMap:f,isValidating:l}}}}};return m.Field=ks,m},[r,e.mode,s,a,i,c,d,f,l]);return Lt(r.mount,[r]),Lt(()=>{r.update(e)}),h}const ks=(({children:e,...t})=>{const n=yd(t),r=w.useMemo(()=>Xt(e,n),[e,n]);return p.jsx(p.Fragment,{children:r})});function bd(){return w.useState(()=>_s())[0]}const wd=w.version.split(".")[0]==="17"?bd:w.useId;function _d({form:e,selector:t,children:n}){const r=Ce(e.store,t);return p.jsx(p.Fragment,{children:Xt(n,r)})}function Md(e){const t=wd(),[n,r]=w.useState(e?.formId),[o,s]=w.useState(()=>new Rr({...e,formId:e?.formId??t}));if(n!==e?.formId){const i=e?.formId??t;s(new Rr({...e,formId:i})),r(i)}const a=w.useMemo(()=>{const i={...o,handleSubmit:((...c)=>o._handleSubmit(...c)),get formId(){return o._formId},get state(){return o.store.state}};return i.Field=function(d){return p.jsx(ks,{...d,form:o})},i.Subscribe=function(d){return p.jsx(_d,{form:o,selector:d.selector,children:d.children})},i},[o]);return Lt(o.mount,[]),Lt(()=>{o.update(e)}),a}function b(e,t,n){function r(i,c){if(i._zod||Object.defineProperty(i,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),i._zod.traits.has(e))return;i._zod.traits.add(e),t(i,c);const d=a.prototype,f=Object.keys(d);for(let l=0;l<f.length;l++){const h=f[l];h in i||(i[h]=d[h].bind(i))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function a(i){var c;const d=n?.Parent?new s:this;r(d,i),(c=d._zod).deferred??(c.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:i=>n?.Parent&&i instanceof n.Parent?!0:i?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class nt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ss extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Os={};function Ze(e){return Os}function xs(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Pn(e,t){return typeof t=="bigint"?t.toString():t}function nr(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function rr(e){return e==null}function or(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Ur=Symbol("evaluating");function W(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Ur)return r===void 0&&(r=Ur,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Ye(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Fe(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Hr(e){return JSON.stringify(e)}function kd(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ds="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Yt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Sd=nr(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function yt(e){if(Yt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Yt(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Es(e){return yt(e)?{...e}:Array.isArray(e)?[...e]:e}const Od=new Set(["string","number","symbol"]);function st(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ie(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function xd(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function Dd(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Fe(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=n.shape[i])}return Ye(this,"shape",a),a},checks:[]});return Ie(e,s)}function Ed(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Fe(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return Ye(this,"shape",a),a},checks:[]});return Ie(e,s)}function Cd(e,t){if(!yt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=Fe(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ye(this,"shape",s),s}});return Ie(e,o)}function zd(e,t){if(!yt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Fe(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Ye(this,"shape",r),r}});return Ie(e,n)}function Td(e,t){const n=Fe(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ye(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Ie(e,n)}function Nd(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Fe(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const d in n){if(!(d in i))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(c[d]=e?new e({type:"optional",innerType:i[d]}):i[d])}else for(const d in i)c[d]=e?new e({type:"optional",innerType:i[d]}):i[d];return Ye(this,"shape",c),c},checks:[]});return Ie(t,a)}function Fd(e,t,n){const r=Fe(t._zod.def,{get shape(){const o=t._zod.def.shape,s={...o};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:o[a]}))}else for(const a in o)s[a]=new e({type:"nonoptional",innerType:o[a]});return Ye(this,"shape",s),s}});return Ie(t,r)}function Xe(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Cs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function It(e){return typeof e=="string"?e:e?.message}function Re(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=It(e.inst?._zod.def?.error?.(e))??It(t?.error?.(e))??It(n.customError?.(e))??It(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function sr(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function bt(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const zs=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Pn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ts=b("$ZodError",zs),Ns=b("$ZodError",zs,{Parent:Error});function Id(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function Pd(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,i=0;for(;i<s.path.length;){const c=s.path[i];i===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(s))):a[c]=a[c]||{_errors:[]},a=a[c],i++}}};return r(e),n}const ar=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new nt;if(a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Re(c,s,Ze())));throw Ds(i,o?.callee),i}return a.value},ir=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Re(c,s,Ze())));throw Ds(i,o?.callee),i}return a.value},Qt=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new nt;return s.issues.length?{success:!1,error:new(e??Ts)(s.issues.map(a=>Re(a,o,Ze())))}:{success:!0,data:s.value}},$d=Qt(Ns),en=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>Re(a,o,Ze())))}:{success:!0,data:s.value}},Ad=en(Ns),jd=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ar(e)(t,n,o)},Vd=e=>(t,n,r)=>ar(e)(t,n,r),Wd=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ir(e)(t,n,o)},Zd=e=>async(t,n,r)=>ir(e)(t,n,r),Rd=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qt(e)(t,n,o)},Ld=e=>(t,n,r)=>Qt(e)(t,n,r),Yd=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return en(e)(t,n,o)},Bd=e=>async(t,n,r)=>en(e)(t,n,r),Ud=/^[cC][^\s-]{8,}$/,Hd=/^[0-9a-z]+$/,Gd=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,qd=/^[0-9a-vA-V]{20}$/,Jd=/^[A-Za-z0-9]{27}$/,Kd=/^[a-zA-Z0-9_-]{21}$/,Xd=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qd=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Gr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ef=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tf="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nf(){return new RegExp(tf,"u")}const rf=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,of=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sf=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,af=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cf=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Fs=/^[A-Za-z0-9_-]*$/,uf=/^\+[1-9]\d{6,14}$/,Is="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",lf=new RegExp(`^${Is}$`);function Ps(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function df(e){return new RegExp(`^${Ps(e)}$`)}function ff(e){const t=Ps({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Is}T(?:${r})$`)}const hf=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},mf=/^[^A-Z]*$/,pf=/^[^a-z]*$/,Me=b("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),gf=b("$ZodCheckMaxLength",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!rr(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const a=sr(o);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),vf=b("$ZodCheckMinLength",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!rr(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const a=sr(o);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),yf=b("$ZodCheckLengthEquals",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!rr(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,s=o.length;if(s===t.length)return;const a=sr(o),i=s>t.length;r.issues.push({origin:a,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tn=b("$ZodCheckStringFormat",(e,t)=>{var n,r;Me.init(e,t),e._zod.onattach.push(o=>{const s=o._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),bf=b("$ZodCheckRegex",(e,t)=>{tn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),wf=b("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=mf),tn.init(e,t)}),_f=b("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=pf),tn.init(e,t)}),Mf=b("$ZodCheckIncludes",(e,t)=>{Me.init(e,t);const n=st(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),kf=b("$ZodCheckStartsWith",(e,t)=>{Me.init(e,t);const n=new RegExp(`^${st(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Sf=b("$ZodCheckEndsWith",(e,t)=>{Me.init(e,t);const n=new RegExp(`.*${st(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Of=b("$ZodCheckOverwrite",(e,t)=>{Me.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class xf{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,o.join(`
`))}}const Df={major:4,minor:3,patch:6},G=b("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Df;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(a,i,c)=>{let d=Xe(a),f;for(const l of i){if(l._zod.def.when){if(!l._zod.def.when(a))continue}else if(d)continue;const h=a.issues.length,u=l._zod.check(a);if(u instanceof Promise&&c?.async===!1)throw new nt;if(f||u instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await u,a.issues.length!==h&&(d||(d=Xe(a,h)))});else{if(a.issues.length===h)continue;d||(d=Xe(a,h))}}return f?f.then(()=>a):a},s=(a,i,c)=>{if(Xe(a))return a.aborted=!0,a;const d=o(i,r,c);if(d instanceof Promise){if(c.async===!1)throw new nt;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,i)=>{if(i.skipChecks)return e._zod.parse(a,i);if(i.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...i,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,a,i)):s(d,a,i)}const c=e._zod.parse(a,i);if(c instanceof Promise){if(i.async===!1)throw new nt;return c.then(d=>o(d,r,i))}return o(c,r,i)}}W(e,"~standard",()=>({validate:o=>{try{const s=$d(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Ad(e,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),cr=b("$ZodString",(e,t)=>{G.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??hf(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),L=b("$ZodStringFormat",(e,t)=>{tn.init(e,t),cr.init(e,t)}),Ef=b("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Qd),L.init(e,t)}),Cf=b("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Gr(r))}else t.pattern??(t.pattern=Gr());L.init(e,t)}),zf=b("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=ef),L.init(e,t)}),Tf=b("$ZodURL",(e,t)=>{L.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Nf=b("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=nf()),L.init(e,t)}),Ff=b("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Kd),L.init(e,t)}),If=b("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ud),L.init(e,t)}),Pf=b("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Hd),L.init(e,t)}),$f=b("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Gd),L.init(e,t)}),Af=b("$ZodXID",(e,t)=>{t.pattern??(t.pattern=qd),L.init(e,t)}),jf=b("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Jd),L.init(e,t)}),Vf=b("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=ff(t)),L.init(e,t)}),Wf=b("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=lf),L.init(e,t)}),Zf=b("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=df(t)),L.init(e,t)}),Rf=b("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Xd),L.init(e,t)}),Lf=b("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=rf),L.init(e,t),e._zod.bag.format="ipv4"}),Yf=b("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=of),L.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Bf=b("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=sf),L.init(e,t)}),Uf=b("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=af),L.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $s(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Hf=b("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=cf),L.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{$s(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Gf(e){if(!Fs.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $s(n)}const qf=b("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Fs),L.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Gf(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Jf=b("$ZodE164",(e,t)=>{t.pattern??(t.pattern=uf),L.init(e,t)});function Kf(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const Xf=b("$ZodJWT",(e,t)=>{L.init(e,t),e._zod.check=n=>{Kf(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Qf=b("$ZodUnknown",(e,t)=>{G.init(e,t),e._zod.parse=n=>n}),eh=b("$ZodNever",(e,t)=>{G.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function qr(e,t,n){e.issues.length&&t.issues.push(...Cs(n,e.issues)),t.value[n]=e.value}const th=b("$ZodArray",(e,t)=>{G.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let a=0;a<o.length;a++){const i=o[a],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?s.push(c.then(d=>qr(d,n,a))):qr(c,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Bt(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...Cs(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function As(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=xd(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function js(e,t,n,r,o,s){const a=[],i=o.keySet,c=o.catchall._zod,d=c.def.type,f=c.optout==="optional";for(const l in t){if(i.has(l))continue;if(d==="never"){a.push(l);continue}const h=c.run({value:t[l],issues:[]},r);h instanceof Promise?e.push(h.then(u=>Bt(u,n,l,t,f))):Bt(h,n,l,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const nh=b("$ZodObject",(e,t)=>{if(G.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const i=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...i};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=nr(()=>As(t));W(e._zod,"propValues",()=>{const i=t.shape,c={};for(const d in i){const f=i[d]._zod;if(f.values){c[d]??(c[d]=new Set);for(const l of f.values)c[d].add(l)}}return c});const o=Yt,s=t.catchall;let a;e._zod.parse=(i,c)=>{a??(a=r.value);const d=i.value;if(!o(d))return i.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),i;i.value={};const f=[],l=a.shape;for(const h of a.keys){const u=l[h],m=u._zod.optout==="optional",v=u._zod.run({value:d[h],issues:[]},c);v instanceof Promise?f.push(v.then(g=>Bt(g,i,h,d,m))):Bt(v,i,h,d,m)}return s?js(f,d,i,c,r.value,e):f.length?Promise.all(f).then(()=>i):i}}),rh=b("$ZodObjectJIT",(e,t)=>{nh.init(e,t);const n=e._zod.parse,r=nr(()=>As(t)),o=h=>{const u=new xf(["shape","payload","ctx"]),m=r.value,v=M=>{const k=Hr(M);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};u.write("const input = payload.value;");const g=Object.create(null);let y=0;for(const M of m.keys)g[M]=`key_${y++}`;u.write("const newResult = {};");for(const M of m.keys){const k=g[M],S=Hr(M),C=h[M]?._zod?.optout==="optional";u.write(`const ${k} = ${v(M)};`),C?u.write(`
        if (${k}.issues.length) {
          if (${S} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${S}, ...iss.path] : [${S}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${k}.value;
        }
        
      `):u.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${k}.value;
        }
        
      `)}u.write("payload.value = newResult;"),u.write("return payload;");const x=u.compile();return(M,k)=>x(h,M,k)};let s;const a=Yt,i=!Os.jitless,d=i&&Sd.value,f=t.catchall;let l;e._zod.parse=(h,u)=>{l??(l=r.value);const m=h.value;return a(m)?i&&d&&u?.async===!1&&u.jitless!==!0?(s||(s=o(t.shape)),h=s(h,u),f?js([],m,h,u,l,e):h):n(h,u):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function Jr(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Xe(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>Re(a,r,Ze())))}),t)}const oh=b("$ZodUnion",(e,t)=>{G.init(e,t),W(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),W(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),W(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),W(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>or(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let a=!1;const i=[];for(const c of t.options){const d=c._zod.run({value:o.value,issues:[]},s);if(d instanceof Promise)i.push(d),a=!0;else{if(d.issues.length===0)return d;i.push(d)}}return a?Promise.all(i).then(c=>Jr(c,o,e,s)):Jr(i,o,e,s)}}),sh=b("$ZodIntersection",(e,t)=>{G.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,s=t.left._zod.run({value:o,issues:[]},r),a=t.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,d])=>Kr(n,c,d)):Kr(n,s,a)}});function $n(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(yt(e)&&yt(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),o={...e,...t};for(const s of r){const a=$n(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};o[s]=a.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r],a=$n(o,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Kr(e,t,n){const r=new Map;let o;for(const i of t.issues)if(i.code==="unrecognized_keys"){o??(o=i);for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else e.issues.push(i);for(const i of n.issues)if(i.code==="unrecognized_keys")for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else e.issues.push(i);const s=[...r].filter(([,i])=>i.l&&i.r).map(([i])=>i);if(s.length&&o&&e.issues.push({...o,keys:s}),Xe(e))return e;const a=$n(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const ah=b("$ZodEnum",(e,t)=>{G.init(e,t);const n=xs(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>Od.has(typeof o)).map(o=>typeof o=="string"?st(o):o.toString()).join("|")})$`),e._zod.parse=(o,s)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:e}),o}}),ih=b("$ZodLiteral",(e,t)=>{if(G.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?st(r):r?st(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),ch=b("$ZodTransform",(e,t)=>{G.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ss(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new nt;return n.value=o,n}});function Xr(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Vs=b("$ZodOptional",(e,t)=>{G.init(e,t),e._zod.optin="optional",e._zod.optout="optional",W(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),W(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${or(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Xr(s,n.value)):Xr(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),uh=b("$ZodExactOptional",(e,t)=>{Vs.init(e,t),W(e._zod,"values",()=>t.innerType._zod.values),W(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),lh=b("$ZodNullable",(e,t)=>{G.init(e,t),W(e._zod,"optin",()=>t.innerType._zod.optin),W(e._zod,"optout",()=>t.innerType._zod.optout),W(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${or(n.source)}|null)$`):void 0}),W(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),dh=b("$ZodDefault",(e,t)=>{G.init(e,t),e._zod.optin="optional",W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Qr(s,t)):Qr(o,t)}});function Qr(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const fh=b("$ZodPrefault",(e,t)=>{G.init(e,t),e._zod.optin="optional",W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),hh=b("$ZodNonOptional",(e,t)=>{G.init(e,t),W(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>eo(s,e)):eo(o,e)}});function eo(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const mh=b("$ZodCatch",(e,t)=>{G.init(e,t),W(e._zod,"optin",()=>t.innerType._zod.optin),W(e._zod,"optout",()=>t.innerType._zod.optout),W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>Re(a,r,Ze()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Re(s,r,Ze()))},input:n.value}),n.issues=[]),n)}}),ph=b("$ZodPipe",(e,t)=>{G.init(e,t),W(e._zod,"values",()=>t.in._zod.values),W(e._zod,"optin",()=>t.in._zod.optin),W(e._zod,"optout",()=>t.out._zod.optout),W(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(a=>Pt(a,t.in,r)):Pt(s,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(s=>Pt(s,t.out,r)):Pt(o,t.out,r)}});function Pt(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const gh=b("$ZodReadonly",(e,t)=>{G.init(e,t),W(e._zod,"propValues",()=>t.innerType._zod.propValues),W(e._zod,"values",()=>t.innerType._zod.values),W(e._zod,"optin",()=>t.innerType?._zod?.optin),W(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(to):to(o)}});function to(e){return e.value=Object.freeze(e.value),e}const vh=b("$ZodCustom",(e,t)=>{Me.init(e,t),G.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(s=>no(s,n,r,e));no(o,n,r,e)}});function no(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(bt(o))}}var ro;class yh{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function bh(){return new yh}(ro=globalThis).__zod_globalRegistry??(ro.__zod_globalRegistry=bh());const mt=globalThis.__zod_globalRegistry;function wh(e,t){return new e({type:"string",...z(t)})}function _h(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function oo(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function Mh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function kh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function Sh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function Oh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function xh(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function Dh(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function Eh(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function Ch(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function zh(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function Th(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function Nh(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function Fh(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function Ih(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function Ph(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function $h(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function Ah(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function jh(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function Vh(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function Wh(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function Zh(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function Rh(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function Lh(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function Yh(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function Bh(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function Uh(e){return new e({type:"unknown"})}function Hh(e,t){return new e({type:"never",...z(t)})}function Ws(e,t){return new gf({check:"max_length",...z(t),maximum:e})}function Ut(e,t){return new vf({check:"min_length",...z(t),minimum:e})}function Zs(e,t){return new yf({check:"length_equals",...z(t),length:e})}function Gh(e,t){return new bf({check:"string_format",format:"regex",...z(t),pattern:e})}function qh(e){return new wf({check:"string_format",format:"lowercase",...z(e)})}function Jh(e){return new _f({check:"string_format",format:"uppercase",...z(e)})}function Kh(e,t){return new Mf({check:"string_format",format:"includes",...z(t),includes:e})}function Xh(e,t){return new kf({check:"string_format",format:"starts_with",...z(t),prefix:e})}function Qh(e,t){return new Sf({check:"string_format",format:"ends_with",...z(t),suffix:e})}function ct(e){return new Of({check:"overwrite",tx:e})}function em(e){return ct(t=>t.normalize(e))}function tm(){return ct(e=>e.trim())}function nm(){return ct(e=>e.toLowerCase())}function rm(){return ct(e=>e.toUpperCase())}function om(){return ct(e=>kd(e))}function sm(e,t,n){return new e({type:"array",element:t,...z(n)})}function am(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function im(e){const t=cm(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(bt(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(bt(o))}},e(n.value,n)));return t}function cm(e,t){const n=new Me({check:"custom",...z(t)});return n._zod.check=e,n}function Rs(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??mt,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function X(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const i=e._zod.toJSONSchema?.();if(i)a.schema=i;else{const f={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,f);else{const h=a.schema,u=t.processors[o.type];if(!u)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);u(e,t,h,f)}const l=e._zod.parent;l&&(a.ref||(a.ref=l),X(l,t,f),t.seen.get(l).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&te(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Ls(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of e.seen.entries()){const i=e.metadataRegistry.get(a[0])?.id;if(i){const c=r.get(i);if(c&&c!==a[0])throw new Error(`Duplicate schema id "${i}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(i,a[0])}}const o=a=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const l=e.external.registry.get(a[0])?.id,h=e.external.uri??(m=>m);if(l)return{ref:h(l)};const u=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=u,{defId:u,ref:`${h("__shared")}#/${i}/${u}`}}if(a[1]===n)return{ref:"#"};const d=`#/${i}/`,f=a[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},s=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:d}=o(a);i.def={...i.schema},d&&(i.defId=d);const f=i.schema;for(const l in f)delete f[l];f.$ref=c};if(e.cycles==="throw")for(const a of e.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const i=a[1];if(t===a[0]){s(a);continue}if(e.external){const d=e.external.registry.get(a[0])?.id;if(t!==a[0]&&d){s(a);continue}}if(e.metadataRegistry.get(a[0])?.id){s(a);continue}if(i.cycle){s(a);continue}if(i.count>1&&e.reused==="ref"){s(a);continue}}}function Ys(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const i=e.seen.get(a);if(i.ref===null)return;const c=i.def??i.schema,d={...c},f=i.ref;if(i.ref=null,f){r(f);const h=e.seen.get(f),u=h.schema;if(u.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(u)):Object.assign(c,u),Object.assign(c,d),a._zod.parent===f)for(const v in c)v==="$ref"||v==="allOf"||v in d||delete c[v];if(u.$ref&&h.def)for(const v in c)v==="$ref"||v==="allOf"||v in h.def&&JSON.stringify(c[v])===JSON.stringify(h.def[v])&&delete c[v]}const l=a._zod.parent;if(l&&l!==f){r(l);const h=e.seen.get(l);if(h?.schema.$ref&&(c.$ref=h.schema.$ref,h.def))for(const u in c)u==="$ref"||u==="allOf"||u in h.def&&JSON.stringify(c[u])===JSON.stringify(h.def[u])&&delete c[u]}e.override({zodSchema:a,jsonSchema:c,path:i.path??[]})};for(const a of[...e.seen.entries()].reverse())r(a[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(a)}Object.assign(o,n.def??n.schema);const s=e.external?.defs??{};for(const a of e.seen.entries()){const i=a[1];i.def&&i.defId&&(s[i.defId]=i.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?o.$defs=s:o.definitions=s);try{const a=JSON.parse(JSON.stringify(o));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ht(t,"input",e.processors),output:Ht(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function te(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return te(r.element,n);if(r.type==="set")return te(r.valueType,n);if(r.type==="lazy")return te(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return te(r.innerType,n);if(r.type==="intersection")return te(r.left,n)||te(r.right,n);if(r.type==="record"||r.type==="map")return te(r.keyType,n)||te(r.valueType,n);if(r.type==="pipe")return te(r.in,n)||te(r.out,n);if(r.type==="object"){for(const o in r.shape)if(te(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(te(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(te(o,n))return!0;return!!(r.rest&&te(r.rest,n))}return!1}const um=(e,t={})=>n=>{const r=Rs({...n,processors:t});return X(e,r),Ls(r,e),Ys(r,e)},Ht=(e,t,n={})=>r=>{const{libraryOptions:o,target:s}=r??{},a=Rs({...o??{},target:s,io:t,processors:n});return X(e,a),Ls(a,e),Ys(a,e)},lm={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},dm=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:s,maximum:a,format:i,patterns:c,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof a=="number"&&(o.maxLength=a),i&&(o.format=lm[i]??i,o.format===""&&delete o.format,i==="time"&&delete o.format),d&&(o.contentEncoding=d),c&&c.size>0){const f=[...c];f.length===1?o.pattern=f[0].source:f.length>1&&(o.allOf=[...f.map(l=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:l.source}))])}},fm=(e,t,n,r)=>{n.not={}},hm=(e,t,n,r)=>{},mm=(e,t,n,r)=>{const o=e._zod.def,s=xs(o.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},pm=(e,t,n,r)=>{const o=e._zod.def,s=[];for(const a of o.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(a))}else s.push(a);if(s.length!==0)if(s.length===1){const a=s[0];n.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[a]:n.const=a}else s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),s.every(a=>typeof a=="boolean")&&(n.type="boolean"),s.every(a=>a===null)&&(n.type="null"),n.enum=s},gm=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},vm=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ym=(e,t,n,r)=>{const o=n,s=e._zod.def,{minimum:a,maximum:i}=e._zod.bag;typeof a=="number"&&(o.minItems=a),typeof i=="number"&&(o.maxItems=i),o.type="array",o.items=X(s.element,t,{...r,path:[...r.path,"items"]})},bm=(e,t,n,r)=>{const o=n,s=e._zod.def;o.type="object",o.properties={};const a=s.shape;for(const d in a)o.properties[d]=X(a[d],t,{...r,path:[...r.path,"properties",d]});const i=new Set(Object.keys(a)),c=new Set([...i].filter(d=>{const f=s.shape[d]._zod;return t.io==="input"?f.optin===void 0:f.optout===void 0}));c.size>0&&(o.required=Array.from(c)),s.catchall?._zod.def.type==="never"?o.additionalProperties=!1:s.catchall?s.catchall&&(o.additionalProperties=X(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},wm=(e,t,n,r)=>{const o=e._zod.def,s=o.inclusive===!1,a=o.options.map((i,c)=>X(i,t,{...r,path:[...r.path,s?"oneOf":"anyOf",c]}));s?n.oneOf=a:n.anyOf=a},_m=(e,t,n,r)=>{const o=e._zod.def,s=X(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=X(o.right,t,{...r,path:[...r.path,"allOf",1]}),i=d=>"allOf"in d&&Object.keys(d).length===1,c=[...i(s)?s.allOf:[s],...i(a)?a.allOf:[a]];n.allOf=c},Mm=(e,t,n,r)=>{const o=e._zod.def,s=X(o.innerType,t,r),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},km=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},Sm=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},Om=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},xm=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},Dm=(e,t,n,r)=>{const o=e._zod.def,s=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;X(s,t,r);const a=t.seen.get(e);a.ref=s},Em=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.readOnly=!0},Bs=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},Cm=b("ZodISODateTime",(e,t)=>{Vf.init(e,t),U.init(e,t)});function zm(e){return Rh(Cm,e)}const Tm=b("ZodISODate",(e,t)=>{Wf.init(e,t),U.init(e,t)});function Nm(e){return Lh(Tm,e)}const Fm=b("ZodISOTime",(e,t)=>{Zf.init(e,t),U.init(e,t)});function Im(e){return Yh(Fm,e)}const Pm=b("ZodISODuration",(e,t)=>{Rf.init(e,t),U.init(e,t)});function $m(e){return Bh(Pm,e)}const Am=(e,t)=>{Ts.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Pd(e,n)},flatten:{value:n=>Id(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Pn,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Pn,2)}},isEmpty:{get(){return e.issues.length===0}}})},de=b("ZodError",Am,{Parent:Error}),jm=ar(de),Vm=ir(de),Wm=Qt(de),Zm=en(de),Rm=jd(de),Lm=Vd(de),Ym=Wd(de),Bm=Zd(de),Um=Rd(de),Hm=Ld(de),Gm=Yd(de),qm=Bd(de),q=b("ZodType",(e,t)=>(G.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ht(e,"input"),output:Ht(e,"output")}}),e.toJSONSchema=um(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Fe(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Ie(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>jm(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Wm(e,n,r),e.parseAsync=async(n,r)=>Vm(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Zm(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>Rm(e,n,r),e.decode=(n,r)=>Lm(e,n,r),e.encodeAsync=async(n,r)=>Ym(e,n,r),e.decodeAsync=async(n,r)=>Bm(e,n,r),e.safeEncode=(n,r)=>Um(e,n,r),e.safeDecode=(n,r)=>Hm(e,n,r),e.safeEncodeAsync=async(n,r)=>Gm(e,n,r),e.safeDecodeAsync=async(n,r)=>qm(e,n,r),e.refine=(n,r)=>e.check(Lp(n,r)),e.superRefine=n=>e.check(Yp(n)),e.overwrite=n=>e.check(ct(n)),e.optional=()=>io(e),e.exactOptional=()=>zp(e),e.nullable=()=>co(e),e.nullish=()=>io(co(e)),e.nonoptional=n=>$p(e,n),e.array=()=>yp(e),e.or=n=>Hs([e,n]),e.and=n=>kp(e,n),e.transform=n=>uo(e,Ep(n)),e.default=n=>Fp(e,n),e.prefault=n=>Pp(e,n),e.catch=n=>jp(e,n),e.pipe=n=>uo(e,n),e.readonly=()=>Zp(e),e.describe=n=>{const r=e.clone();return mt.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return mt.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return mt.get(e);const r=e.clone();return mt.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Us=b("_ZodString",(e,t)=>{cr.init(e,t),q.init(e,t),e._zod.processJSONSchema=(r,o,s)=>dm(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Gh(...r)),e.includes=(...r)=>e.check(Kh(...r)),e.startsWith=(...r)=>e.check(Xh(...r)),e.endsWith=(...r)=>e.check(Qh(...r)),e.min=(...r)=>e.check(Ut(...r)),e.max=(...r)=>e.check(Ws(...r)),e.length=(...r)=>e.check(Zs(...r)),e.nonempty=(...r)=>e.check(Ut(1,...r)),e.lowercase=r=>e.check(qh(r)),e.uppercase=r=>e.check(Jh(r)),e.trim=()=>e.check(tm()),e.normalize=(...r)=>e.check(em(...r)),e.toLowerCase=()=>e.check(nm()),e.toUpperCase=()=>e.check(rm()),e.slugify=()=>e.check(om())}),Jm=b("ZodString",(e,t)=>{cr.init(e,t),Us.init(e,t),e.email=n=>e.check(_h(Km,n)),e.url=n=>e.check(xh(Xm,n)),e.jwt=n=>e.check(Zh(hp,n)),e.emoji=n=>e.check(Dh(Qm,n)),e.guid=n=>e.check(oo(so,n)),e.uuid=n=>e.check(Mh($t,n)),e.uuidv4=n=>e.check(kh($t,n)),e.uuidv6=n=>e.check(Sh($t,n)),e.uuidv7=n=>e.check(Oh($t,n)),e.nanoid=n=>e.check(Eh(ep,n)),e.guid=n=>e.check(oo(so,n)),e.cuid=n=>e.check(Ch(tp,n)),e.cuid2=n=>e.check(zh(np,n)),e.ulid=n=>e.check(Th(rp,n)),e.base64=n=>e.check(jh(lp,n)),e.base64url=n=>e.check(Vh(dp,n)),e.xid=n=>e.check(Nh(op,n)),e.ksuid=n=>e.check(Fh(sp,n)),e.ipv4=n=>e.check(Ih(ap,n)),e.ipv6=n=>e.check(Ph(ip,n)),e.cidrv4=n=>e.check($h(cp,n)),e.cidrv6=n=>e.check(Ah(up,n)),e.e164=n=>e.check(Wh(fp,n)),e.datetime=n=>e.check(zm(n)),e.date=n=>e.check(Nm(n)),e.time=n=>e.check(Im(n)),e.duration=n=>e.check($m(n))});function ie(e){return wh(Jm,e)}const U=b("ZodStringFormat",(e,t)=>{L.init(e,t),Us.init(e,t)}),Km=b("ZodEmail",(e,t)=>{zf.init(e,t),U.init(e,t)}),so=b("ZodGUID",(e,t)=>{Ef.init(e,t),U.init(e,t)}),$t=b("ZodUUID",(e,t)=>{Cf.init(e,t),U.init(e,t)}),Xm=b("ZodURL",(e,t)=>{Tf.init(e,t),U.init(e,t)}),Qm=b("ZodEmoji",(e,t)=>{Nf.init(e,t),U.init(e,t)}),ep=b("ZodNanoID",(e,t)=>{Ff.init(e,t),U.init(e,t)}),tp=b("ZodCUID",(e,t)=>{If.init(e,t),U.init(e,t)}),np=b("ZodCUID2",(e,t)=>{Pf.init(e,t),U.init(e,t)}),rp=b("ZodULID",(e,t)=>{$f.init(e,t),U.init(e,t)}),op=b("ZodXID",(e,t)=>{Af.init(e,t),U.init(e,t)}),sp=b("ZodKSUID",(e,t)=>{jf.init(e,t),U.init(e,t)}),ap=b("ZodIPv4",(e,t)=>{Lf.init(e,t),U.init(e,t)}),ip=b("ZodIPv6",(e,t)=>{Yf.init(e,t),U.init(e,t)}),cp=b("ZodCIDRv4",(e,t)=>{Bf.init(e,t),U.init(e,t)}),up=b("ZodCIDRv6",(e,t)=>{Uf.init(e,t),U.init(e,t)}),lp=b("ZodBase64",(e,t)=>{Hf.init(e,t),U.init(e,t)}),dp=b("ZodBase64URL",(e,t)=>{qf.init(e,t),U.init(e,t)}),fp=b("ZodE164",(e,t)=>{Jf.init(e,t),U.init(e,t)}),hp=b("ZodJWT",(e,t)=>{Xf.init(e,t),U.init(e,t)}),mp=b("ZodUnknown",(e,t)=>{Qf.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>hm()});function ao(){return Uh(mp)}const pp=b("ZodNever",(e,t)=>{eh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>fm(e,n,r)});function gp(e){return Hh(pp,e)}const vp=b("ZodArray",(e,t)=>{th.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>ym(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Ut(n,r)),e.nonempty=n=>e.check(Ut(1,n)),e.max=(n,r)=>e.check(Ws(n,r)),e.length=(n,r)=>e.check(Zs(n,r)),e.unwrap=()=>e.element});function yp(e,t){return sm(vp,e,t)}const bp=b("ZodObject",(e,t)=>{rh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>bm(e,n,r,o),W(e,"shape",()=>t.shape),e.keyof=()=>Sp(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ao()}),e.loose=()=>e.clone({...e._zod.def,catchall:ao()}),e.strict=()=>e.clone({...e._zod.def,catchall:gp()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Cd(e,n),e.safeExtend=n=>zd(e,n),e.merge=n=>Td(e,n),e.pick=n=>Dd(e,n),e.omit=n=>Ed(e,n),e.partial=(...n)=>Nd(Gs,e,n[0]),e.required=(...n)=>Fd(qs,e,n[0])});function wp(e,t){const n={type:"object",shape:e??{},...z(t)};return new bp(n)}const _p=b("ZodUnion",(e,t)=>{oh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>wm(e,n,r,o),e.options=t.options});function Hs(e,t){return new _p({type:"union",options:e,...z(t)})}const Mp=b("ZodIntersection",(e,t)=>{sh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>_m(e,n,r,o)});function kp(e,t){return new Mp({type:"intersection",left:e,right:t})}const An=b("ZodEnum",(e,t)=>{ah.init(e,t),q.init(e,t),e._zod.processJSONSchema=(r,o,s)=>mm(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const s={};for(const a of r)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new An({...t,checks:[],...z(o),entries:s})},e.exclude=(r,o)=>{const s={...t.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new An({...t,checks:[],...z(o),entries:s})}});function Sp(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new An({type:"enum",entries:n,...z(t)})}const Op=b("ZodLiteral",(e,t)=>{ih.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>pm(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function xp(e,t){return new Op({type:"literal",values:Array.isArray(e)?e:[e],...z(t)})}const Dp=b("ZodTransform",(e,t)=>{ch.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>vm(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ss(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(bt(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(bt(a))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function Ep(e){return new Dp({type:"transform",transform:e})}const Gs=b("ZodOptional",(e,t)=>{Vs.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Bs(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function io(e){return new Gs({type:"optional",innerType:e})}const Cp=b("ZodExactOptional",(e,t)=>{uh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Bs(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function zp(e){return new Cp({type:"optional",innerType:e})}const Tp=b("ZodNullable",(e,t)=>{lh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Mm(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function co(e){return new Tp({type:"nullable",innerType:e})}const Np=b("ZodDefault",(e,t)=>{dh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Sm(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Fp(e,t){return new Np({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Es(t)}})}const Ip=b("ZodPrefault",(e,t)=>{fh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Om(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Pp(e,t){return new Ip({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Es(t)}})}const qs=b("ZodNonOptional",(e,t)=>{hh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>km(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function $p(e,t){return new qs({type:"nonoptional",innerType:e,...z(t)})}const Ap=b("ZodCatch",(e,t)=>{mh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>xm(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jp(e,t){return new Ap({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Vp=b("ZodPipe",(e,t)=>{ph.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Dm(e,n,r,o),e.in=t.in,e.out=t.out});function uo(e,t){return new Vp({type:"pipe",in:e,out:t})}const Wp=b("ZodReadonly",(e,t)=>{gh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Em(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Zp(e){return new Wp({type:"readonly",innerType:e})}const Rp=b("ZodCustom",(e,t)=>{vh.init(e,t),q.init(e,t),e._zod.processJSONSchema=(n,r,o)=>gm(e,n)});function Lp(e,t={}){return am(Rp,e,t)}function Yp(e){return im(e)}const Bp=wp({firstName:ie(),lastName:ie(),phone:ie().refine(e=>e===""||jr(e),"מספר טלפון לא תקין"),homePhone:ie().refine(e=>e===""||jr(e),"מספר טלפון לא תקין"),email:Hs([xp(""),ie().email("כתובת אימייל לא תקינה")]),city:ie(),address:ie(),shiurYear:ie(),teudatZehut:ie().refine(e=>e===""||ed(e),"תעודת זהות לא תקינה"),birthDate:ie(),notes:ie(),studentCode:ie()}).refine(e=>Object.values(e).filter(n=>typeof n=="string"&&n.trim()!=="").length>0,{message:"יש להזין לפחות נתון אחד",path:["root"]}),Up={teudat_zehut:"teudatZehut",first_name:"firstName",last_name:"lastName",phone:"phone",home_phone:"homePhone",email:"email",city:"city",address:"address",shiur_year:"shiurYear",birth_date:"birthDate",student_code:"studentCode",notes:"notes"};function eg(){const{id:e}=Ca(),t=za(),{isSuperAdmin:n,isShiurManager:r,user:o}=La(),[s,a]=w.useState(!1),[i,c]=w.useState(""),[d,f]=w.useState(!!e),l=Md({defaultValues:{firstName:"",lastName:"",phone:"",homePhone:"",email:"",city:"",address:"",shiurYear:"",teudatZehut:"",birthDate:"",notes:"",studentCode:""},validatorAdapter:Ve,validators:{onChange:Bp},onSubmit:async({value:u})=>{c("");try{if(r&&u.shiurYear&&!o?.shiurs?.includes(u.shiurYear))throw new Error("אין לך הרשאה לשייך בוגר למחזור שאינו בניהולך");const m={first_name:u.firstName,last_name:u.lastName,phone:Cn(u.phone),home_phone:Cn(u.homePhone),email:u.email,city:u.city,address:u.address,shiur_year:u.shiurYear||void 0,teudat_zehut:u.teudatZehut,birth_date:u.birthDate,notes:u.notes,student_code:n?u.studentCode:void 0};e?await fn.updateGraduate(e,m):await fn.createGraduate(m),t("/graduates")}catch(m){const v=m?.response?.data;if(v&&v.error==="VALIDATION_ERROR"&&v.field){const y=Up[v.field];if(y){l.setFieldMeta(y,x=>({...x,errorMap:{onChange:v.message},errors:[v.message]})),c(v.message);return}}const g=m?.response?.data?.error?.message||(m instanceof Error?m.message:"אירעה שגיאה בשמירת הנתונים");c(g)}}});w.useEffect(()=>{e?(f(!0),fn.getGraduateById(e).then(u=>{l.setFieldValue("firstName",u.first_name||""),l.setFieldValue("lastName",u.last_name||""),l.setFieldValue("phone",u.phone||""),l.setFieldValue("homePhone",u.home_phone||""),l.setFieldValue("email",u.email||""),l.setFieldValue("city",u.city||""),l.setFieldValue("address",u.address||""),l.setFieldValue("shiurYear",u.shiur_year?.toString()||""),l.setFieldValue("teudatZehut",u.teudat_zehut||""),l.setFieldValue("birthDate",u.birth_date||""),l.setFieldValue("notes",u.notes||""),l.setFieldValue("studentCode",u.student_code||""),(u.teudat_zehut||u.birth_date||u.notes||u.student_code)&&a(!0)}).catch(u=>{console.error(u),c("לא ניתן לטעון את פרטי הבוגר")}).finally(()=>{f(!1)})):r&&o?.shiurs?.length===1&&l.setFieldValue("shiurYear",o.shiurs[0])},[e,r,o]);const h=n;return d?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx(pr,{className:"h-8 w-8 animate-spin text-primary"})}):p.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx(Qe,{variant:"ghost",size:"icon",onClick:()=>t("/graduates"),children:p.jsx(xa,{className:"h-5 w-5"})}),p.jsx("h1",{className:"text-2xl font-bold",children:e?"עריכת פרטי בוגר":"רישום בוגר חדש"})]}),p.jsxs("div",{className:"bg-card border rounded-lg p-6 shadow-sm",children:[p.jsx("p",{className:"text-muted-foreground mb-6",children:"שדות אינם חובה, אך נדרש למלא לפחות אחד מהם לשמירה."}),p.jsxs("form",{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),l.handleSubmit()},className:"grid gap-6",children:[(i||l.state.errors.length>0)&&p.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:[p.jsx(Da,{size:18}),p.jsx("span",{children:i||"יש להזין לפחות נתון אחד או לתקן את השגיאות"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"firstName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם פרטי"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"lastName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם משפחה"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"phone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"פלאפון"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"homePhone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"טלפון (בית)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"email",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"אימייל"}),p.jsx(me,{id:u.name,name:u.name,type:"email",value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"city",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"עיר"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"address",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"כתובת"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),placeholder:"רחוב ומס' בית"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"shiurYear",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"מחזור (שנה/אותיות)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),placeholder:"לדוגמה: נח, פו"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"border rounded-md p-4 bg-muted/50",children:[p.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-medium hover:underline",onClick:()=>a(!s),children:["פרטים נוספים",s?p.jsx(Ea,{size:16}):p.jsx(jn,{size:16})]}),s&&p.jsxs("div",{className:"mt-4 grid gap-4 animate-in slide-in-from-top-2 fade-in duration-200",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"teudatZehut",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תעודת זהות"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"birthDate",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תאריך לידה"}),p.jsx(Ql,{value:u.state.value,onChange:m=>u.handleChange(m)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"notes",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"הערות"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),h&&p.jsx(l.Field,{name:"studentCode",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,className:"text-destructive font-semibold",children:"קוד תלמיד (מנהל)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx(Qe,{type:"button",variant:"outline",onClick:()=>t("/graduates"),disabled:l.state.isSubmitting,children:"ביטול"}),p.jsx(l.Subscribe,{selector:u=>[u.canSubmit,u.isSubmitting],children:([u,m])=>p.jsxs(Qe,{type:"submit",disabled:!u||m,children:[m&&p.jsx(pr,{className:"ml-2 h-4 w-4 animate-spin"}),e?"שמור שינויים":"שמור בוגר"]})})]})]})]})]})}export{eg as default};
