import{a,j as e,h as g,w as v}from"./ui-J8zN8ojh.js";import{u as C,c as b}from"./vendor-DK4z8uX1.js";import{u as y,B as w}from"./index-DNpSr7TS.js";import{u as N}from"./useDocumentTitle-mo0ffS8w.js";import{I as d}from"./input-p9w5ixzj.js";import{L as m}from"./label-BwTpjIUa.js";import{C as S,a as L,b as E,c as I,d as A,e as D}from"./card-kEnWUetb.js";function H(){const[t,u]=a.useState(""),[r,p]=a.useState(""),[i,c]=a.useState(""),{login:x,isLoading:l,isAuthenticated:h}=y(),n=C(),j=b();if(N("התחברות"),h)return n("/",{replace:!0}),null;const f=async s=>{s.preventDefault(),c("");try{await x(t,r);const o=j.state?.from?.pathname||"/";n(o,{replace:!0})}catch{c("שגיאה בהתחברות: שם משתמש או סיסמה שגויים")}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 dark:bg-background p-4",dir:"rtl",children:e.jsxs(S,{className:"w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(g,{})," מערכת בוגרים - מרכז הרב"]}),e.jsxs(L,{className:"space-y-1 text-center",children:[e.jsx(E,{className:"text-2xl font-bold",children:"התחברות למערכת"}),e.jsx(I,{children:"הזן את פרטי ההתחברות שלך כדי להמשיך"})]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs(A,{className:"space-y-4 mb-8",children:[i&&e.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:[e.jsx(v,{size:16}),e.jsx("span",{children:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"אימייל"}),e.jsx(d,{id:"email",type:"email",placeholder:"name@example.com",value:t,autoComplete:"username",onChange:s=>u(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"סיסמה"}),e.jsx(d,{id:"password",autoComplete:"current-password",type:"password",value:r,onChange:s=>p(s.target.value),placeholder:"********"})]})]}),e.jsx(D,{children:e.jsx(w,{type:"submit",className:"w-full",disabled:l,children:l?"מתחבר...":"התחבר"})})]})]})})}export{H as default};
