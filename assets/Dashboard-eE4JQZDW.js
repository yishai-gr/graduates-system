import{j as e,q as b,e as h,g as j}from"./ui-BdsuqOTa.js";import{r as d}from"./vendor-CxWUHsYF.js";import{C as x,a as c,b as o,d as n}from"./card-J7dVxng9.js";import{A as f,c as N,u as g,a as k}from"./index-D_mPSwq-.js";const w={getHomeView:()=>f.get("/views/home")};function m({className:a,...t}){return e.jsx("div",{className:N("animate-pulse rounded-md bg-muted",a),...t})}function G(){const{user:a}=g(),{isSuperAdmin:t}=k(),[r,i]=d.useState(!0),[s,u]=d.useState({totalGraduates:0,newGraduatesLastMonth:0,totalUsers:0,adminsCount:0,coordinatorsCount:0,myGraduates:0});return d.useEffect(()=>{async function p(){try{const l=await w.getHomeView();u(l.stats)}catch(l){console.error("Failed to load dashboard stats",l)}finally{i(!1)}}p()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"לוח בקרה"}),e.jsxs("p",{className:"text-muted-foreground",children:["ברוך הבא למערכת ניהול הבוגרים, ",a?.firstName,"."]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[!t&&e.jsxs(x,{className:"bg-blue-50/75 dark:bg-blue-950/20 border border-blue-500 dark:border-blue-800",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"הבוגרים שלי (בטיפול)"}),e.jsx(b,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})]}),e.jsxs(n,{children:[r?e.jsx(m,{className:"h-8 w-[50px] mb-1 bg-blue-200 dark:bg-blue-800"}):e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:s.myGraduates}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"במחזורים המשויכים לך"})]})]}),e.jsxs(x,{className:"bg-emerald-50/75 dark:bg-emerald-950/20 border border-emerald-500 dark:border-emerald-800",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium text-emerald-900 dark:text-emerald-100",children:'סה"כ בוגרים במערכת'}),e.jsx(h,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})]}),e.jsxs(n,{children:[r?e.jsx(m,{className:"h-8 w-[50px] mb-1 bg-emerald-200 dark:bg-emerald-800"}):e.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:s.totalGraduates}),e.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:["+",s.newGraduatesLastMonth," בחודש האחרון"]})]})]}),t&&e.jsxs(x,{className:"bg-purple-50/75 dark:bg-purple-950/20 border border-purple-500 dark:border-purple-800",children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:'סה"כ משתמשים'}),e.jsx(j,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})]}),e.jsxs(n,{children:[r?e.jsx(m,{className:"h-8 w-[50px] mb-1 bg-purple-200 dark:bg-purple-800"}):e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:s.totalUsers}),e.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[e.jsxs("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:[s.adminsCount," מנהלים"]}),e.jsxs("p",{className:"text-xs text-purple-700 dark:text-purple-300",children:[s.coordinatorsCount," אחראי שיעור"]})]})]})]})]}),!1]})}export{G as default};
