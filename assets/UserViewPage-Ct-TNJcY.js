import{a as r,j as e,v as h,_ as j,B as p,C as f,y as N,$ as g}from"./ui-J8zN8ojh.js";import{d as v,u as b}from"./vendor-DK4z8uX1.js";import{u as w}from"./usersService-B0l8xTxg.js";import{a as y,B as n}from"./index-DNpSr7TS.js";import{u as I}from"./useDocumentTitle-mo0ffS8w.js";function C(){const{id:t}=v(),a=b(),{isSuperAdmin:l}=y(),[s,d]=r.useState(null),[m,o]=r.useState(!0),[c,x]=r.useState("");return I(s?`${s.firstName} ${s.lastName}`:"פרטי משתמש"),r.useEffect(()=>{if(!l){a("/unauthorized");return}t&&w.getUserById(t).then(d).catch(i=>{console.error(i),x("לא ניתן לטעון את פרטי המשתמש")}).finally(()=>o(!1))},[t,l,a]),m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(h,{className:"h-8 w-8 animate-spin text-primary"})}):c||!s?e.jsxs("div",{className:"max-w-xl mx-auto py-8 px-4 text-center",children:[e.jsx("p",{className:"text-destructive font-medium mb-4",children:c||"משתמש לא נמצא"}),e.jsx(n,{onClick:()=>a("/users"),children:"חזרה לרשימה"})]}):e.jsxs("div",{className:"max-w-xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>a("/users"),children:e.jsx(j,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mt-1",children:s.role==="super_admin"?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{children:"מנהל ראשי"})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{children:"אחראי שיעור"})]})})]})]}),e.jsx("div",{children:e.jsxs(n,{variant:"outline",onClick:()=>a(`/users/${s.id}/edit`),children:[e.jsx(N,{className:"h-4 w-4 ml-2"}),"עריכה"]})})]}),e.jsxs("div",{className:"bg-card border rounded-lg p-6 shadow-sm space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"פרטים אישיים"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"אימייל:"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:underline",children:s.email||"-"})]})})]}),s.role==="shiur_manager"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"ניהול מחזורים"}),e.jsx("div",{className:"bg-muted/30 p-4 rounded-md",children:s.shiurs&&s.shiurs.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.shiurs.map((i,u)=>e.jsx("span",{className:"bg-background border rounded px-2 py-1 text-sm font-medium",children:i},u))}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"לא משויך למחזורים"})})]})]})]})}export{C as default};
