import{j as p,L as ao,n as io,N as $n,O as ia,o as dr,P as ca,p as ua,Q as la}from"./ui-B5gioQBr.js";import{a as co,r as w,R as O,i as da,u as fa}from"./vendor-CxWUHsYF.js";import{o as uo,p as ha,q as ma,k as pa,r as ga,j as lo,s as fo,l as ht,t as ho,v as mo,w as va,x as ya,y as ba,z as wa,E as _a,F as Ma,G as ka,H as Sa,I as Oa,c as x,J as Vt,B as Xe,a as Da}from"./index-D12XCcMj.js";import{g as ln}from"./graduatesService-BwZoKvl4.js";import{I as me}from"./input-CR8LgpT-.js";import{L as ae}from"./label-CcgP3KIH.js";import{t as L,c as le,g as fr,m as xa,a as po,b as go,d as An,e as jn,f as Ea,h as Ca,i as He,j as vo,l as za,k as Na,n as Ta,w as Fa,o as dn,p as it,q as ct,r as Pa,s as Ia,u as $a,v as Aa,H as K,x as Wt,y as ja}from"./calendar-C1b0yMA8.js";import{T as Va,a as Wa,b as hr,c as mr}from"./tabs-BmZYb-Fx.js";var fn={exports:{}},hn={};var pr;function Za(){if(pr)return hn;pr=1;var e=co();function t(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function i(l,h){var u=h(),m=r({inst:{value:u,getSnapshot:h}}),v=m[0].inst,g=m[1];return s(function(){v.value=u,v.getSnapshot=h,c(v)&&g({inst:v})},[l,u,h]),o(function(){return c(v)&&g({inst:v}),l(function(){c(v)&&g({inst:v})})},[l]),a(u),u}function c(l){var h=l.getSnapshot;l=l.value;try{var u=h();return!n(l,u)}catch{return!0}}function d(l,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:i;return hn.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,hn}var gr;function La(){return gr||(gr=1,fn.exports=Za()),fn.exports}var Ht="Popover",[yo]=pa(Ht,[uo]),bt=uo(),[Ya,Ne]=yo(Ht),bo=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,i=bt(t),c=w.useRef(null),[d,f]=w.useState(!1),[l,h]=ha({prop:r,defaultProp:o??!1,onChange:s,caller:Ht});return p.jsx(ma,{...i,children:p.jsx(Ya,{scope:t,contentId:ga(),triggerRef:c,open:l,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(u=>!u),[h]),hasCustomAnchor:d,onCustomAnchorAdd:w.useCallback(()=>f(!0),[]),onCustomAnchorRemove:w.useCallback(()=>f(!1),[]),modal:a,children:n})})};bo.displayName=Ht;var wo="PopoverAnchor",Ra=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(wo,n),s=bt(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return w.useEffect(()=>(a(),()=>i()),[a,i]),p.jsx(ho,{...s,...r,ref:t})});Ra.displayName=wo;var _o="PopoverTrigger",Mo=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(_o,n),s=bt(n),a=lo(t,o.triggerRef),i=p.jsx(fo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":xo(o.open),...r,ref:a,onClick:ht(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:p.jsx(ho,{asChild:!0,...s,children:i})});Mo.displayName=_o;var Vn="PopoverPortal",[Ba,Ua]=yo(Vn,{forceMount:void 0}),ko=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=Ne(Vn,t);return p.jsx(Ba,{scope:t,forceMount:n,children:p.jsx(mo,{present:n||s.open,children:p.jsx(va,{asChild:!0,container:o,children:r})})})};ko.displayName=Vn;var nt="PopoverContent",So=w.forwardRef((e,t)=>{const n=Ua(nt,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=Ne(nt,e.__scopePopover);return p.jsx(mo,{present:r||s.open,children:s.modal?p.jsx(qa,{...o,ref:t}):p.jsx(Ga,{...o,ref:t})})});So.displayName=nt;var Ha=wa("PopoverContent.RemoveScroll"),qa=w.forwardRef((e,t)=>{const n=Ne(nt,e.__scopePopover),r=w.useRef(null),o=lo(t,r),s=w.useRef(!1);return w.useEffect(()=>{const a=r.current;if(a)return ya(a)},[]),p.jsx(ba,{as:Ha,allowPinchZoom:!0,children:p.jsx(Oo,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(e.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ht(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ht(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ga=w.forwardRef((e,t)=>{const n=Ne(nt,e.__scopePopover),r=w.useRef(!1),o=w.useRef(!1);return p.jsx(Oo,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Oo=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...l}=e,h=Ne(nt,n),u=bt(n);return _a(),p.jsx(Ma,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:p.jsx(ka,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:p.jsx(Sa,{"data-state":xo(h.open),role:"dialog",id:h.contentId,...u,...l,ref:t,style:{...l.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Do="PopoverClose",Ja=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Ne(Do,n);return p.jsx(fo.button,{type:"button",...r,ref:t,onClick:ht(e.onClick,()=>o.onOpenChange(!1))})});Ja.displayName=Do;var Ka="PopoverArrow",Xa=w.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=bt(n);return p.jsx(Oa,{...o,...r,ref:t})});Xa.displayName=Ka;function xo(e){return e?"open":"closed"}var Qa=bo,ei=Mo,ti=ko,ni=So,mn={exports:{}},pn={};var vr;function ri(){if(vr)return pn;vr=1;var e=co(),t=La();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,i=e.useMemo,c=e.useDebugValue;return pn.useSyncExternalStoreWithSelector=function(d,f,l,h,u){var m=s(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=i(function(){function y(_){if(!D){if(D=!0,M=_,_=h(_),u!==void 0&&v.hasValue){var C=v.value;if(u(C,_))return k=C}return k=_}if(C=k,r(M,_))return C;var F=h(_);return u!==void 0&&u(C,F)?(M=_,C):(M=_,k=F)}var D=!1,M,k,S=l===void 0?null:l;return[function(){return y(f())},S===null?void 0:function(){return y(S())}]},[f,l,h,u]);var g=o(d,m[0],m[1]);return a(function(){v.hasValue=!0,v.value=g},[g]),c(g),g},pn}var yr;function oi(){return yr||(yr=1,mn.exports=ri()),mn.exports}var si=oi();function Eo(e,t,n){const r=L(e,n?.in);if(isNaN(t))return le(e,NaN);if(!t)return r;const o=r.getDate(),s=le(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return o>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function st(e,...t){const n=le.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function pt(e,t){const n=L(e,t?.in);return n.setHours(0,0,0,0),n}function Wn(e,t,n){const[r,o]=st(n?.in,e,t),s=pt(r),a=pt(o),i=+s-fr(s),c=+a-fr(a);return Math.round((i-c)/xa)}function ai(e,t,n){return po(e,t*7,n)}function ii(e,t,n){return Eo(e,t*12,n)}function ci(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=le.bind(null,o));const s=L(o,r);(!n||n<s||isNaN(+s))&&(n=s)}),le(r,n||NaN)}function ui(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=le.bind(null,o));const s=L(o,r);(!n||n>s||isNaN(+s))&&(n=s)}),le(r,n||NaN)}function li(e,t,n){const[r,o]=st(n?.in,e,t);return+pt(r)==+pt(o)}function Co(e,t,n){const[r,o]=st(n?.in,e,t),s=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth();return s*12+a}function di(e,t){const n=L(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function zo(e,t){const[n,r]=st(e,t.start,t.end);return{start:n,end:r}}function fi(e,t){const{start:n,end:r}=zo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setDate(1);let i=1;const c=[];for(;+a<=s;)c.push(le(n,a)),a.setMonth(a.getMonth()+i);return o?c.reverse():c}function hi(e,t){const n=L(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mi(e,t){const n=L(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function No(e,t){const n=L(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function pi(e,t){const{start:n,end:r}=zo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let i=1;const c=[];for(;+a<=s;)c.push(le(n,a)),a.setFullYear(a.getFullYear()+i);return o?c.reverse():c}function To(e,t){const n=go(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=L(e,t?.in),s=o.getDay(),a=(s<r?-7:0)+6-(s-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function gi(e,t){return To(e,{...t,weekStartsOn:1})}function vi(e,t){const n=L(e,t?.in);return Wn(n,No(n))+1}function V(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ee={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return V(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):V(n+1,2)},d(e,t){return V(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return V(e.getHours()%12||12,t.length)},H(e,t){return V(e.getHours(),t.length)},m(e,t){return V(e.getMinutes(),t.length)},s(e,t){return V(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return V(o,t.length)}},Be={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},br={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Ee.y(e,t)},Y:function(e,t,n,r){const o=Ca(e,r),s=o>0?o:1-o;if(t==="YY"){const a=s%100;return V(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):V(s,t.length)},R:function(e,t){const n=Ea(e);return V(n,t.length)},u:function(e,t){const n=e.getFullYear();return V(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return V(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return V(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ee.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return V(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=jn(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):V(o,t.length)},I:function(e,t,n){const r=An(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):V(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ee.d(e,t)},D:function(e,t,n){const r=vi(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):V(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return V(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return V(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return V(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Be.noon:r===0?o=Be.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Be.evening:r>=12?o=Be.afternoon:r>=4?o=Be.morning:o=Be.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ee.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ee.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):V(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ee.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ee.s(e,t)},S:function(e,t){return Ee.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return _r(r);case"XXXX":case"XX":return Pe(r);default:return Pe(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return _r(r);case"xxxx":case"xx":return Pe(r);default:return Pe(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wr(r,":");default:return"GMT"+Pe(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wr(r,":");default:return"GMT"+Pe(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return V(r,t.length)},T:function(e,t,n){return V(+e,t.length)}};function wr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+V(s,2)}function _r(e,t){return e%60===0?(e>0?"-":"+")+V(Math.abs(e)/60,2):Pe(e,t)}function Pe(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=V(Math.trunc(r/60),2),s=V(r%60,2);return n+o+t+s}const yi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wi=/^'([^]*?)'?$/,_i=/''/g,Mi=/[a-zA-Z]/;function Ie(e,t,n){const r=go(),o=n?.locale??r.locale??He,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=L(e,n?.in);if(!vo(i))throw new RangeError("Invalid time value");let c=t.match(bi).map(f=>{const l=f[0];if(l==="p"||l==="P"){const h=za[l];return h(f,o.formatLong)}return f}).join("").match(yi).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const l=f[0];if(l==="'")return{isToken:!1,value:ki(f)};if(br[l])return{isToken:!0,value:f};if(l.match(Mi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(c=o.localize.preprocessor(i,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:o};return c.map(f=>{if(!f.isToken)return f.value;const l=f.value;(!n?.useAdditionalWeekYearTokens&&Na(l)||!n?.useAdditionalDayOfYearTokens&&Ta(l))&&Fa(l,t,String(e));const h=br[l[0]];return h(i,l,o.localize,d)}).join("")}function ki(e){const t=e.match(wi);return t?t[1].replace(_i,"'"):e}function Si(e,t){const n=L(e,t?.in),r=n.getFullYear(),o=n.getMonth(),s=le(n,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function Oi(e,t){return L(e,t?.in).getMonth()}function Di(e,t){return L(e,t?.in).getFullYear()}function xi(e,t){return+L(e)>+L(t)}function Ei(e,t){return+L(e)<+L(t)}function Ci(e,t,n){const[r,o]=st(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function zi(e,t,n){const[r,o]=st(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Ni(e,t,n){const r=L(e,n?.in),o=r.getFullYear(),s=r.getDate(),a=le(e,0);a.setFullYear(o,t,15),a.setHours(0,0,0,0);const i=Si(a);return r.setMonth(t,Math.min(s,i)),r}function Ti(e,t,n){const r=L(e,n?.in);return isNaN(+r)?le(e,NaN):(r.setFullYear(t),r)}function Fi(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Pi={},lt={};function $e(e,t){try{const r=(Pi[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in lt?lt[r]:Mr(r,r.split(":"))}catch{if(e in lt)return lt[e];const n=e?.match(Ii);return n?Mr(e,n.slice(1)):NaN}}const Ii=/([+-]\d\d):?(\d\d)?/;function Mr(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return lt[e]=n*60+r>0?n*60+r+o:n*60-r-o}class be extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN($e(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Fo(this),kn(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new be(...n,t):new be(Date.now(),t)}withTimeZone(t){return new be(+this,t)}getTimezoneOffset(){const t=-$e(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),kn(this),+this}[Symbol.for("constructDateFrom")](t){return new be(+new Date(t),this.timeZone)}}const kr=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!kr.test(e))return;const t=e.replace(kr,"$1UTC");be.prototype[t]&&(e.startsWith("get")?be.prototype[e]=function(){return this.internal[t]()}:(be.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),$i(this),+this},be.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),kn(this),+this}))});function kn(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-$e(e.timeZone,e)*60))}function $i(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Fo(e)}function Fo(e){const t=$e(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),a=o-s,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=o-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const d=new Date(+e);d.setUTCSeconds(0);const f=o>0?d.getSeconds():(d.getSeconds()-60)%60,l=Math.round(-($e(e.timeZone,e)*60))%60;(l||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+l),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+l+f));const h=$e(e.timeZone,e),u=h>0?Math.floor(h):Math.ceil(h),v=-new Date(+e).getTimezoneOffset()-u,g=u!==n,y=v-c;if(g&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const D=$e(e.timeZone,e),M=D>0?Math.floor(D):Math.ceil(D),k=u-M;k&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+k))}}class ee extends be{static tz(t,...n){return n.length?new ee(...n,t):new ee(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${Fi(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new ee(+this,t)}[Symbol.for("constructDateFrom")](t){return new ee(+new Date(t),this.timeZone)}}const Sr=5,Ai=4;function ji(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),s=t.addDays(o,Sr*7-1);return t.getMonth(e)===t.getMonth(s)?Sr:Ai}function Po(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function Vi(e,t){const n=Po(e,t),r=ji(e,t);return t.addDays(n,r*7-1)}const Wi={lessThanXSeconds:{one:"פחות משנייה",two:"פחות משתי שניות",other:"פחות מ־{{count}} שניות"},xSeconds:{one:"שנייה",two:"שתי שניות",other:"{{count}} שניות"},halfAMinute:"חצי דקה",lessThanXMinutes:{one:"פחות מדקה",two:"פחות משתי דקות",other:"פחות מ־{{count}} דקות"},xMinutes:{one:"דקה",two:"שתי דקות",other:"{{count}} דקות"},aboutXHours:{one:"כשעה",two:"כשעתיים",other:"כ־{{count}} שעות"},xHours:{one:"שעה",two:"שעתיים",other:"{{count}} שעות"},xDays:{one:"יום",two:"יומיים",other:"{{count}} ימים"},aboutXWeeks:{one:"כשבוע",two:"כשבועיים",other:"כ־{{count}} שבועות"},xWeeks:{one:"שבוע",two:"שבועיים",other:"{{count}} שבועות"},aboutXMonths:{one:"כחודש",two:"כחודשיים",other:"כ־{{count}} חודשים"},xMonths:{one:"חודש",two:"חודשיים",other:"{{count}} חודשים"},aboutXYears:{one:"כשנה",two:"כשנתיים",other:"כ־{{count}} שנים"},xYears:{one:"שנה",two:"שנתיים",other:"{{count}} שנים"},overXYears:{one:"יותר משנה",two:"יותר משנתיים",other:"יותר מ־{{count}} שנים"},almostXYears:{one:"כמעט שנה",two:"כמעט שנתיים",other:"כמעט {{count}} שנים"}},Zi=(e,t,n)=>{if(e==="xDays"&&n?.addSuffix&&t<=2)return n.comparison&&n.comparison>0?t===1?"מחר":"מחרתיים":t===1?"אתמול":"שלשום";let r;const o=Wi[e];return typeof o=="string"?r=o:t===1?r=o.one:t===2?r=o.two:r=o.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"בעוד "+r:"לפני "+r:r},Li={full:"EEEE, d בMMMM y",long:"d בMMMM y",medium:"d בMMM y",short:"d.M.y"},Yi={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Ri={full:"{{date}} 'בשעה' {{time}}",long:"{{date}} 'בשעה' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bi={date:dn({formats:Li,defaultWidth:"full"}),time:dn({formats:Yi,defaultWidth:"full"}),dateTime:dn({formats:Ri,defaultWidth:"full"})},Ui={lastWeek:"eeee 'שעבר בשעה' p",yesterday:"'אתמול בשעה' p",today:"'היום בשעה' p",tomorrow:"'מחר בשעה' p",nextWeek:"eeee 'בשעה' p",other:"P"},Hi=(e,t,n,r)=>Ui[e],qi={narrow:["לפנה״ס","לספירה"],abbreviated:["לפנה״ס","לספירה"],wide:["לפני הספירה","לספירה"]},Gi={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"]},Ji={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],wide:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},Ki={narrow:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],short:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],abbreviated:["יום א׳","יום ב׳","יום ג׳","יום ד׳","יום ה׳","יום ו׳","שבת"],wide:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"]},Xi={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"}},Qi={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"בצהריים",evening:"בערב",night:"בלילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"}},ec=(e,t)=>{const n=Number(e);if(n<=0||n>10)return String(n);const r=String(t?.unit),o=["year","hour","minute","second"].indexOf(r)>=0,s=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שביעי","שמיני","תשיעי","עשירי"],a=["ראשונה","שנייה","שלישית","רביעית","חמישית","שישית","שביעית","שמינית","תשיעית","עשירית"],i=n-1;return o?a[i]:s[i]},tc={ordinalNumber:ec,era:it({values:qi,defaultWidth:"wide"}),quarter:it({values:Gi,defaultWidth:"wide",argumentCallback:e=>e-1}),month:it({values:Ji,defaultWidth:"wide"}),day:it({values:Ki,defaultWidth:"wide"}),dayPeriod:it({values:Xi,defaultWidth:"wide",formattingValues:Qi,defaultFormattingWidth:"wide"})},nc=/^(\d+|(ראשון|שני|שלישי|רביעי|חמישי|שישי|שביעי|שמיני|תשיעי|עשירי|ראשונה|שנייה|שלישית|רביעית|חמישית|שישית|שביעית|שמינית|תשיעית|עשירית))/i,rc=/^(\d+|רא|שנ|של|רב|ח|שי|שב|שמ|ת|ע)/i,oc={narrow:/^ל(ספירה|פנה״ס)/i,abbreviated:/^ל(ספירה|פנה״ס)/i,wide:/^ל(פני ה)?ספירה/i},sc={any:[/^לפ/i,/^לס/i]},ac={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^רבעון [1234]/i},ic={any:[/1/i,/2/i,/3/i,/4/i]},cc={narrow:/^\d+/i,abbreviated:/^(ינו|פבר|מרץ|אפר|מאי|יוני|יולי|אוג|ספט|אוק|נוב|דצמ)׳?/i,wide:/^(ינואר|פברואר|מרץ|אפריל|מאי|יוני|יולי|אוגוסט|ספטמבר|אוקטובר|נובמבר|דצמבר)/i},uc={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^ינ/i,/^פ/i,/^מר/i,/^אפ/i,/^מא/i,/^יונ/i,/^יול/i,/^אוג/i,/^ס/i,/^אוק/i,/^נ/i,/^ד/i]},lc={narrow:/^[אבגדהוש]׳/i,short:/^[אבגדהוש]׳/i,abbreviated:/^(שבת|יום (א|ב|ג|ד|ה|ו)׳)/i,wide:/^יום (ראשון|שני|שלישי|רביעי|חמישי|שישי|שבת)/i},dc={abbreviated:[/א׳$/i,/ב׳$/i,/ג׳$/i,/ד׳$/i,/ה׳$/i,/ו׳$/i,/^ש/i],wide:[/ן$/i,/ני$/i,/לישי$/i,/עי$/i,/מישי$/i,/שישי$/i,/ת$/i],any:[/^א/i,/^ב/i,/^ג/i,/^ד/i,/^ה/i,/^ו/i,/^ש/i]},fc={any:/^(אחר ה|ב)?(חצות|צהריים|בוקר|ערב|לילה|אחה״צ|לפנה״צ)/i},hc={any:{am:/^לפ/i,pm:/^אחה/i,midnight:/^ח/i,noon:/^צ/i,morning:/בוקר/i,afternoon:/בצ|אחר/i,evening:/ערב/i,night:/לילה/i}},mc=["רא","שנ","של","רב","ח","שי","שב","שמ","ת","ע"],pc={ordinalNumber:Pa({matchPattern:nc,parsePattern:rc,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?mc.indexOf(e)+1:t}}),era:ct({matchPatterns:oc,defaultMatchWidth:"wide",parsePatterns:sc,defaultParseWidth:"any"}),quarter:ct({matchPatterns:ac,defaultMatchWidth:"wide",parsePatterns:ic,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ct({matchPatterns:cc,defaultMatchWidth:"wide",parsePatterns:uc,defaultParseWidth:"any"}),day:ct({matchPatterns:lc,defaultMatchWidth:"wide",parsePatterns:dc,defaultParseWidth:"any"}),dayPeriod:ct({matchPatterns:fc,defaultMatchWidth:"any",parsePatterns:hc,defaultParseWidth:"any"})},Io={code:"he",formatDistance:Zi,formatLong:Bi,formatRelative:Hi,localize:tc,match:pc,options:{weekStartsOn:0,firstWeekContainsDate:1}},$o={...He,labels:{labelDayButton:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>Ie(a,i,{locale:He,...n});let s=o(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>Ie(o,s,{locale:He,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>Ie(a,i,{locale:He,...n});let s=o(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>Ie(o,s,{locale:He,...t}),r(e,"cccc")}}};class J{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ee.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,s)=>this.overrides?.newDate?this.overrides.newDate(r,o,s):this.options.timeZone?new ee(r,o,s,this.options.timeZone):new Date(r,o,s),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):po(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):Eo(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):ai(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):ii(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):Wn(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):Co(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):fi(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):pi(r),s=new Set(o.map(i=>this.getYear(i)));if(s.size===o.length)return o;const a=[];return s.forEach(i=>{a.push(new Date(i,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Vi(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):gi(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):di(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):To(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):mi(r),this.format=(r,o,s)=>{const a=this.overrides?.format?this.overrides.format(r,o,this.options):Ie(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):An(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Oi(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Di(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):jn(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):xi(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):Ei(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Ia(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):li(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):Ci(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):zi(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):ci(r),this.min=r=>this.overrides?.min?this.overrides.min(r):ui(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):Ni(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):Ti(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):Po(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):pt(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):$a(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):hi(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Aa(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):No(r),this.options={locale:$o,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&J.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,s=n?.code;if(s&&J.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}J.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const we=new J;class Ao{constructor(t,n,r=we){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class gc{constructor(t,n){this.date=t,this.weeks=n}}class vc{constructor(t,n){this.days=n,this.weekNumber=t}}function yc(e){return O.createElement("button",{...e})}function bc(e){return O.createElement("span",{...e})}function wc(e){const{size:t=24,orientation:n="left",className:r}=e;return O.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&O.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&O.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&O.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&O.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function _c(e){const{day:t,modifiers:n,...r}=e;return O.createElement("td",{...r})}function Mc(e){const{day:t,modifiers:n,...r}=e,o=O.useRef(null);return O.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),O.createElement("button",{ref:o,...r})}var E;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(E||(E={}));var R;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(R||(R={}));var ge;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ge||(ge={}));var se;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(se||(se={}));function kc(e){const{options:t,className:n,components:r,classNames:o,...s}=e,a=[o[E.Dropdown],n].join(" "),i=t?.find(({value:c})=>c===s.value);return O.createElement("span",{"data-disabled":s.disabled,className:o[E.DropdownRoot]},O.createElement(r.Select,{className:a,...s},t?.map(({value:c,label:d,disabled:f})=>O.createElement(r.Option,{key:c,value:c,disabled:f},d))),O.createElement("span",{className:o[E.CaptionLabel],"aria-hidden":!0},i?.label,O.createElement(r.Chevron,{orientation:"down",size:18,className:o[E.Chevron]})))}function Sc(e){return O.createElement("div",{...e})}function Oc(e){return O.createElement("div",{...e})}function Dc(e){const{calendarMonth:t,displayIndex:n,...r}=e;return O.createElement("div",{...r},e.children)}function xc(e){const{calendarMonth:t,displayIndex:n,...r}=e;return O.createElement("div",{...r})}function Ec(e){return O.createElement("table",{...e})}function Cc(e){return O.createElement("div",{...e})}const jo=w.createContext(void 0);function Le(){const e=w.useContext(jo);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zc(e){const{components:t}=Le();return O.createElement(t.Dropdown,{...e})}function Nc(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...s}=e,{components:a,classNames:i,labels:{labelPrevious:c,labelNext:d}}=Le(),f=w.useCallback(h=>{o&&n?.(h)},[o,n]),l=w.useCallback(h=>{r&&t?.(h)},[r,t]);return O.createElement("nav",{...s},O.createElement(a.PreviousMonthButton,{type:"button",className:i[E.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:l},O.createElement(a.Chevron,{disabled:r?void 0:!0,className:i[E.Chevron],orientation:"left"})),O.createElement(a.NextMonthButton,{type:"button",className:i[E.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":d(o),onClick:f},O.createElement(a.Chevron,{disabled:o?void 0:!0,orientation:"right",className:i[E.Chevron]})))}function Tc(e){const{components:t}=Le();return O.createElement(t.Button,{...e})}function Fc(e){return O.createElement("option",{...e})}function Pc(e){const{components:t}=Le();return O.createElement(t.Button,{...e})}function Ic(e){const{rootRef:t,...n}=e;return O.createElement("div",{...n,ref:t})}function $c(e){return O.createElement("select",{...e})}function Ac(e){const{week:t,...n}=e;return O.createElement("tr",{...n})}function jc(e){return O.createElement("th",{...e})}function Vc(e){return O.createElement("thead",{"aria-hidden":!0},O.createElement("tr",{...e}))}function Wc(e){const{week:t,...n}=e;return O.createElement("th",{...n})}function Zc(e){return O.createElement("th",{...e})}function Lc(e){return O.createElement("tbody",{...e})}function Yc(e){const{components:t}=Le();return O.createElement(t.Dropdown,{...e})}const Rc=Object.freeze(Object.defineProperty({__proto__:null,Button:yc,CaptionLabel:bc,Chevron:wc,Day:_c,DayButton:Mc,Dropdown:kc,DropdownNav:Sc,Footer:Oc,Month:Dc,MonthCaption:xc,MonthGrid:Ec,Months:Cc,MonthsDropdown:zc,Nav:Nc,NextMonthButton:Tc,Option:Fc,PreviousMonthButton:Pc,Root:Ic,Select:$c,Week:Ac,WeekNumber:Wc,WeekNumberHeader:Zc,Weekday:jc,Weekdays:Vc,Weeks:Lc,YearsDropdown:Yc},Symbol.toStringTag,{value:"Module"}));function Oe(e,t,n=!1,r=we){let{from:o,to:s}=e;const{differenceInCalendarDays:a,isSameDay:i}=r;return o&&s?(a(s,o)<0&&([o,s]=[s,o]),a(t,o)>=(n?1:0)&&a(s,t)>=(n?1:0)):!n&&s?i(s,t):!n&&o?i(o,t):!1}function Zn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ln(e){return!!(e&&typeof e=="object"&&"after"in e)}function Yn(e){return!!(e&&typeof e=="object"&&"before"in e)}function Vo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wo(e,t){return Array.isArray(e)&&e.every(t.isDate)}function De(e,t,n=we){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:s,isAfter:a}=n;return r.some(i=>{if(typeof i=="boolean")return i;if(n.isDate(i))return o(e,i);if(Wo(i,n))return i.some(c=>o(e,c));if(qt(i))return Oe(i,e,!1,n);if(Vo(i))return Array.isArray(i.dayOfWeek)?i.dayOfWeek.includes(e.getDay()):i.dayOfWeek===e.getDay();if(Zn(i)){const c=s(i.before,e),d=s(i.after,e),f=c>0,l=d<0;return a(i.before,i.after)?l&&f:f||l}return Ln(i)?s(e,i.after)>0:Yn(i)?s(i.before,e)>0:typeof i=="function"?i(e):!1})}function Bc(e,t,n,r,o){const{disabled:s,hidden:a,modifiers:i,showOutsideDays:c,broadcastCalendar:d,today:f=o.today()}=t,{isSameDay:l,isSameMonth:h,startOfMonth:u,isBefore:m,endOfMonth:v,isAfter:g}=o,y=n&&u(n),D=r&&v(r),M={[R.focused]:[],[R.outside]:[],[R.disabled]:[],[R.hidden]:[],[R.today]:[]},k={};for(const S of e){const{date:_,displayMonth:C}=S,F=!!(C&&!h(_,C)),$=!!(y&&m(_,y)),Z=!!(D&&g(_,D)),Q=!!(s&&De(_,s,o)),ke=!!(a&&De(_,a,o))||$||Z||!d&&!c&&F||d&&c===!1&&F,P=l(_,f);F&&M.outside.push(S),Q&&M.disabled.push(S),ke&&M.hidden.push(S),P&&M.today.push(S),i&&Object.keys(i).forEach(H=>{const Re=i?.[H];Re&&De(_,Re,o)&&(k[H]?k[H].push(S):k[H]=[S])})}return S=>{const _={[R.focused]:!1,[R.disabled]:!1,[R.hidden]:!1,[R.outside]:!1,[R.today]:!1},C={};for(const F in M){const $=M[F];_[F]=$.some(Z=>Z===S)}for(const F in k)C[F]=k[F].some($=>$===S);return{..._,...C}}}function Uc(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[s])=>(n[s]?o.push(n[s]):t[R[s]]?o.push(t[R[s]]):t[ge[s]]&&o.push(t[ge[s]]),o),[t[E.Day]])}function Hc(e){return{...Rc,...e}}function qc(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function wt(){const e={};for(const t in E)e[E[t]]=`rdp-${E[t]}`;for(const t in R)e[R[t]]=`rdp-${R[t]}`;for(const t in ge)e[ge[t]]=`rdp-${ge[t]}`;for(const t in se)e[se[t]]=`rdp-${se[t]}`;return e}function Zo(e,t,n){return(n??new J(t)).formatMonthYear(e)}const Gc=Zo;function Jc(e,t,n){return(n??new J(t)).format(e,"d")}function Kc(e,t=we){return t.format(e,"LLLL")}function Xc(e,t,n){return(n??new J(t)).format(e,"cccccc")}function Qc(e,t=we){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function eu(){return""}function Lo(e,t=we){return t.format(e,"yyyy")}const tu=Lo,nu=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Zo,formatDay:Jc,formatMonthCaption:Gc,formatMonthDropdown:Kc,formatWeekNumber:Qc,formatWeekNumberHeader:eu,formatWeekdayName:Xc,formatYearCaption:tu,formatYearDropdown:Lo},Symbol.toStringTag,{value:"Module"}));function ru(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...nu,...e}}function Rn(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const ou=Rn;function Bn(e,t,n){return(n??new J(t)).formatMonthYear(e)}const su=Bn;function Yo(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function Ro(e){return"Choose the Month"}function Bo(){return""}const au="Go to the Next Month";function Uo(e,t){return au}function Ho(e){return"Go to the Previous Month"}function qo(e,t,n){return(n??new J(t)).format(e,"cccc")}function Go(e,t){return`Week ${e}`}function Jo(e){return"Week Number"}function Ko(e){return"Choose the Year"}const iu=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:su,labelDay:ou,labelDayButton:Rn,labelGrid:Bn,labelGridcell:Yo,labelMonthDropdown:Ro,labelNav:Bo,labelNext:Uo,labelPrevious:Ho,labelWeekNumber:Go,labelWeekNumberHeader:Jo,labelWeekday:qo,labelYearDropdown:Ko},Symbol.toStringTag,{value:"Module"})),pe=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function cu(e,t){const n=t.locale?.labels??{};return{...iu,...e??{},labelDayButton:pe(Rn,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:pe(Ro,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pe(Uo,e?.labelNext,n.labelNext),labelPrevious:pe(Ho,e?.labelPrevious,n.labelPrevious),labelWeekNumber:pe(Go,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pe(Ko,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:pe(Bn,e?.labelGrid,n.labelGrid),labelGridcell:pe(Yo,e?.labelGridcell,n.labelGridcell),labelNav:pe(Bo,e?.labelNav,n.labelNav),labelWeekNumberHeader:pe(Jo,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pe(qo,e?.labelWeekday,n.labelWeekday)}}function uu(e,t,n,r,o){const{startOfMonth:s,startOfYear:a,endOfYear:i,eachMonthOfInterval:c,getMonth:d}=o;return c({start:a(e),end:i(e)}).map(h=>{const u=r.formatMonthDropdown(h,o),m=d(h),v=t&&h<s(t)||n&&h>s(n)||!1;return{value:m,label:u,disabled:v}})}function lu(e,t={},n={}){let r={...t?.[E.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function du(e,t,n,r){const o=r??e.today(),s=n?e.startOfBroadcastWeek(o,e):t?e.startOfISOWeek(o):e.startOfWeek(o),a=[];for(let i=0;i<7;i++){const c=e.addDays(s,i);a.push(c)}return a}function fu(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:a,eachYearOfInterval:i,getYear:c}=r,d=s(e),f=a(t),l=i({start:d,end:f});return o&&l.reverse(),l.map(h=>{const u=n.formatYearDropdown(h,r);return{value:c(h),label:u,disabled:!1}})}function hu(e,t={}){const{weekStartsOn:n,locale:r}=t,o=n??r?.options?.weekStartsOn??0,s=i=>{const c=typeof i=="number"||typeof i=="string"?new Date(i):i;return new ee(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,e)},a=i=>{const c=s(i);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>s(ee.tz(e)),newDate:(i,c,d)=>new ee(i,c,d,12,0,0,e),startOfDay:i=>s(i),startOfWeek:(i,c)=>{const d=s(i),f=c?.weekStartsOn??o,l=(d.getDay()-f+7)%7;return d.setDate(d.getDate()-l),d},startOfISOWeek:i=>{const c=s(i),d=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-d),c},startOfMonth:i=>{const c=s(i);return c.setDate(1),c},startOfYear:i=>{const c=s(i);return c.setMonth(0,1),c},endOfWeek:(i,c)=>{const d=s(i),h=(((c?.weekStartsOn??o)+6)%7-d.getDay()+7)%7;return d.setDate(d.getDate()+h),d},endOfISOWeek:i=>{const c=s(i),d=(7-c.getDay())%7;return c.setDate(c.getDate()+d),c},endOfMonth:i=>{const c=s(i);return c.setMonth(c.getMonth()+1,0),c},endOfYear:i=>{const c=s(i);return c.setMonth(11,31),c},eachMonthOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],l=new ee(c.getFullYear(),c.getMonth(),1,12,0,0,e),h=d.getFullYear()*12+d.getMonth();for(;l.getFullYear()*12+l.getMonth()<=h;)f.push(new ee(l,e)),l.setMonth(l.getMonth()+1,1);return f},addDays:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c),d},addWeeks:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c*7),d},addMonths:(i,c)=>{const d=s(i);return d.setMonth(d.getMonth()+c),d},addYears:(i,c)=>{const d=s(i);return d.setFullYear(d.getFullYear()+c),d},eachYearOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],l=new ee(c.getFullYear(),0,1,12,0,0,e);for(;l.getFullYear()<=d.getFullYear();)f.push(new ee(l,e)),l.setFullYear(l.getFullYear()+1,0,1);return f},getWeek:(i,c)=>{const d=a(i);return jn(d,{weekStartsOn:c?.weekStartsOn??o,firstWeekContainsDate:c?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:i=>{const c=a(i);return An(c)},differenceInCalendarDays:(i,c)=>{const d=a(i),f=a(c);return Wn(d,f)},differenceInCalendarMonths:(i,c)=>{const d=a(i),f=a(c);return Co(d,f)}}}const _t=e=>e instanceof HTMLElement?e:null,gn=e=>[...e.querySelectorAll("[data-animated-month]")??[]],mu=e=>_t(e.querySelector("[data-animated-month]")),vn=e=>_t(e.querySelector("[data-animated-caption]")),yn=e=>_t(e.querySelector("[data-animated-weeks]")),pu=e=>_t(e.querySelector("[data-animated-nav]")),gu=e=>_t(e.querySelector("[data-animated-weekdays]"));function vu(e,t,{classNames:n,months:r,focused:o,dateLib:s}){const a=w.useRef(null),i=w.useRef(r),c=w.useRef(!1);w.useLayoutEffect(()=>{const d=i.current;if(i.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const f=s.isSameMonth(r[0].date,d[0].date),l=s.isAfter(r[0].date,d[0].date),h=l?n[se.caption_after_enter]:n[se.caption_before_enter],u=l?n[se.weeks_after_enter]:n[se.weeks_before_enter],m=a.current,v=e.current.cloneNode(!0);if(v instanceof HTMLElement?(gn(v).forEach(M=>{if(!(M instanceof HTMLElement))return;const k=mu(M);k&&M.contains(k)&&M.removeChild(k);const S=vn(M);S&&S.classList.remove(h);const _=yn(M);_&&_.classList.remove(u)}),a.current=v):a.current=null,c.current||f||o)return;const g=m instanceof HTMLElement?gn(m):[],y=gn(e.current);if(y?.every(D=>D instanceof HTMLElement)&&g&&g.every(D=>D instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const D=pu(e.current);D&&(D.style.zIndex="1"),y.forEach((M,k)=>{const S=g[k];if(!S)return;M.style.position="relative",M.style.overflow="hidden";const _=vn(M);_&&_.classList.add(h);const C=yn(M);C&&C.classList.add(u);const F=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),D&&(D.style.zIndex=""),_&&_.classList.remove(h),C&&C.classList.remove(u),M.style.position="",M.style.overflow="",M.contains(S)&&M.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const $=gu(S);$&&($.style.opacity="0");const Z=vn(S);Z&&(Z.classList.add(l?n[se.caption_before_exit]:n[se.caption_after_exit]),Z.addEventListener("animationend",F));const Q=yn(S);Q&&Q.classList.add(l?n[se.weeks_before_exit]:n[se.weeks_after_exit]),M.insertBefore(S,M.firstChild)})}})}function yu(e,t,n,r){const o=e[0],s=e[e.length-1],{ISOWeek:a,fixedWeeks:i,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:f,differenceInCalendarMonths:l,endOfBroadcastWeek:h,endOfISOWeek:u,endOfMonth:m,endOfWeek:v,isAfter:g,startOfBroadcastWeek:y,startOfISOWeek:D,startOfWeek:M}=r,k=c?y(o,r):a?D(o):M(o),S=c?h(s):a?u(m(s)):v(m(s)),_=t&&(c?h(t):a?u(t):v(t)),C=_&&g(S,_)?_:S,F=f(C,k),$=l(s,o)+1,Z=[];for(let P=0;P<=F;P++){const H=d(k,P);Z.push(H)}const ke=(c?35:42)*$;if(i&&Z.length<ke){const P=ke-Z.length;for(let H=0;H<P;H++){const Re=d(Z[Z.length-1],1);Z.push(Re)}}return Z}function bu(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((s,a)=>s.concat(a.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function wu(e,t,n,r){const{numberOfMonths:o=1}=n,s=[];for(let a=0;a<o;a++){const i=r.addMonths(e,a);if(t&&i>t)break;s.push(i)}return s}function Or(e,t,n,r){const{month:o,defaultMonth:s,today:a=r.today(),numberOfMonths:i=1}=e;let c=o||s||a;const{differenceInCalendarMonths:d,addMonths:f,startOfMonth:l}=r;if(n&&d(n,c)<i-1){const h=-1*(i-1);c=f(n,h)}return t&&d(c,t)<0&&(c=t),l(c)}function _u(e,t,n,r){const{addDays:o,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:i,endOfWeek:c,getISOWeek:d,getWeek:f,startOfBroadcastWeek:l,startOfISOWeek:h,startOfWeek:u}=r,m=e.reduce((v,g)=>{const y=n.broadcastCalendar?l(g,r):n.ISOWeek?h(g):u(g),D=n.broadcastCalendar?s(g):n.ISOWeek?a(i(g)):c(i(g)),M=t.filter(C=>C>=y&&C<=D),k=n.broadcastCalendar?35:42;if(n.fixedWeeks&&M.length<k){const C=t.filter(F=>{const $=k-M.length;return F>D&&F<=o(D,$)});M.push(...C)}const S=M.reduce((C,F)=>{const $=n.ISOWeek?d(F):f(F),Z=C.find(ke=>ke.weekNumber===$),Q=new Ao(F,g,r);return Z?Z.days.push(Q):C.push(new vc($,[Q])),C},[]),_=new gc(g,S);return v.push(_),v},[]);return n.reverseMonths?m.reverse():m}function Mu(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:s,startOfMonth:a,endOfMonth:i,addYears:c,endOfYear:d,newDate:f,today:l}=t,{fromYear:h,toYear:u,fromMonth:m,toMonth:v}=e;!n&&m&&(n=m),!n&&h&&(n=t.newDate(h,0,1)),!r&&v&&(r=v),!r&&u&&(r=f(u,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):h?n=f(h,0,1):!n&&g&&(n=o(c(e.today??l(),-100))),r?r=i(r):u?r=f(u,11,31):!r&&g&&(r=d(e.today??l())),[n&&s(n),r&&s(r)]}function ku(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s=1}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s:1,f=a(e);if(!t)return i(f,d);if(!(c(t,e)<s))return i(f,d)}function Su(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s??1:1,f=a(e);if(!t)return i(f,-d);if(!(c(f,t)<=0))return i(f,-d)}function Ou(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function Gt(e,t){const[n,r]=w.useState(e);return[t===void 0?n:t,r]}function Du(e,t){const[n,r]=Mu(e,t),{startOfMonth:o,endOfMonth:s}=t,a=Or(e,n,r,t),[i,c]=Gt(a,e.month?a:void 0);w.useEffect(()=>{const k=Or(e,n,r,t);c(k)},[e.timeZone]);const{months:d,weeks:f,days:l,previousMonth:h,nextMonth:u}=w.useMemo(()=>{const k=wu(i,r,{numberOfMonths:e.numberOfMonths},t),S=yu(k,e.endMonth?s(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),_=_u(k,S,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),C=Ou(_),F=bu(_),$=Su(i,n,e,t),Z=ku(i,r,e,t);return{months:_,weeks:C,days:F,previousMonth:$,nextMonth:Z}},[t,i.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:m,onMonthChange:v}=e,g=k=>f.some(S=>S.days.some(_=>_.isEqualTo(k))),y=k=>{if(m)return;let S=o(k);n&&S<o(n)&&(S=o(n)),r&&S>o(r)&&(S=o(r)),c(S),v?.(S)};return{months:d,weeks:f,days:l,navStart:n,navEnd:r,previousMonth:h,nextMonth:u,goToMonth:y,goToDay:k=>{g(k)||y(k.date)}}}var ye;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ye||(ye={}));function Dr(e){return!e[R.disabled]&&!e[R.hidden]&&!e[R.outside]}function xu(e,t,n,r){let o,s=-1;for(const a of e){const i=t(a);Dr(i)&&(i[R.focused]&&s<ye.FocusedModifier?(o=a,s=ye.FocusedModifier):r?.isEqualTo(a)&&s<ye.LastFocused?(o=a,s=ye.LastFocused):n(a.date)&&s<ye.Selected?(o=a,s=ye.Selected):i[R.today]&&s<ye.Today&&(o=a,s=ye.Today))}return o||(o=e.find(a=>Dr(t(a)))),o}function Eu(e,t,n,r,o,s,a){const{ISOWeek:i,broadcastCalendar:c}=s,{addDays:d,addMonths:f,addWeeks:l,addYears:h,endOfBroadcastWeek:u,endOfISOWeek:m,endOfWeek:v,max:g,min:y,startOfBroadcastWeek:D,startOfISOWeek:M,startOfWeek:k}=a;let _={day:d,week:l,month:f,year:h,startOfWeek:C=>c?D(C,a):i?M(C):k(C),endOfWeek:C=>c?u(C):i?m(C):v(C)}[e](n,t==="after"?1:-1);return t==="before"&&r?_=g([r,_]):t==="after"&&o&&(_=y([o,_])),_}function Xo(e,t,n,r,o,s,a,i=0){if(i>365)return;const c=Eu(e,t,n.date,r,o,s,a),d=!!(s.disabled&&De(c,s.disabled,a)),f=!!(s.hidden&&De(c,s.hidden,a)),l=c,h=new Ao(c,l,a);return!d&&!f?h:Xo(e,t,h,r,o,s,a,i+1)}function Cu(e,t,n,r,o){const{autoFocus:s}=e,[a,i]=w.useState(),c=xu(t.days,n,r||(()=>!1),a),[d,f]=w.useState(s?c:void 0);return{isFocusTarget:v=>!!c?.isEqualTo(v),setFocused:f,focused:d,blur:()=>{i(d),f(void 0)},moveFocus:(v,g)=>{if(!d)return;const y=Xo(v,g,d,t.navStart,t.navEnd,e,o);y&&(e.disableNavigation&&!t.days.some(M=>M.isEqualTo(y))||(t.goToDay(y),f(y)))}}}function zu(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Gt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t,d=u=>i?.some(m=>c(m,u))??!1,{min:f,max:l}=e;return{selected:i,select:(u,m,v)=>{let g=[...i??[]];if(d(u)){if(i?.length===f||r&&i?.length===1)return;g=i?.filter(y=>!c(y,u))}else i?.length===l?g=[u]:g=[...g,u];return o||a(g),o?.(g,u,m,v),g},isSelected:d}}function Nu(e,t,n=0,r=0,o=!1,s=we){const{from:a,to:i}=t||{},{isSameDay:c,isAfter:d,isBefore:f}=s;let l;if(!a&&!i)l={from:e,to:n>0?void 0:e};else if(a&&!i)c(a,e)?n===0?l={from:a,to:e}:o?l={from:a,to:void 0}:l=void 0:f(e,a)?l={from:e,to:a}:l={from:a,to:e};else if(a&&i)if(c(a,e)&&c(i,e))o?l={from:a,to:i}:l=void 0;else if(c(a,e))l={from:a,to:n>0?void 0:e};else if(c(i,e))l={from:e,to:n>0?void 0:e};else if(f(e,a))l={from:e,to:i};else if(d(e,a))l={from:a,to:e};else if(d(e,i))l={from:a,to:e};else throw new Error("Invalid range");if(l?.from&&l?.to){const h=s.differenceInCalendarDays(l.to,l.from);r>0&&h>r?l={from:e,to:void 0}:n>1&&h<n&&(l={from:e,to:void 0})}return l}function Tu(e,t,n=we){const r=Array.isArray(t)?t:[t];let o=e.from;const s=n.differenceInCalendarDays(e.to,e.from),a=Math.min(s,6);for(let i=0;i<=a;i++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function xr(e,t,n=we){return Oe(e,t.from,!1,n)||Oe(e,t.to,!1,n)||Oe(t,e.from,!1,n)||Oe(t,e.to,!1,n)}function Fu(e,t,n=we){const r=Array.isArray(t)?t:[t];if(r.filter(i=>typeof i!="function").some(i=>typeof i=="boolean"?i:n.isDate(i)?Oe(e,i,!1,n):Wo(i,n)?i.some(c=>Oe(e,c,!1,n)):qt(i)?i.from&&i.to?xr(e,{from:i.from,to:i.to},n):!1:Vo(i)?Tu(e,i.dayOfWeek,n):Zn(i)?n.isAfter(i.before,i.after)?xr(e,{from:n.addDays(i.after,1),to:n.addDays(i.before,-1)},n):De(e.from,i,n)||De(e.to,i,n):Ln(i)||Yn(i)?De(e.from,i,n)||De(e.to,i,n):!1))return!0;const a=r.filter(i=>typeof i=="function");if(a.length){let i=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(a.some(f=>f(i)))return!0;i=n.addDays(i,1)}}return!1}function Pu(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:s,onSelect:a}=e,[i,c]=Gt(o,a?o:void 0),d=a?o:i;return{selected:d,select:(h,u,m)=>{const{min:v,max:g}=e,y=h?Nu(h,d,v,g,s,t):void 0;return r&&n&&y?.from&&y.to&&Fu({from:y.from,to:y.to},n,t)&&(y.from=h,y.to=void 0),a||c(y),a?.(y,h,u,m),y},isSelected:h=>d&&Oe(d,h,!1,t)}}function Iu(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Gt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t;return{selected:i,select:(l,h,u)=>{let m=l;return!r&&i&&i&&c(l,i)&&(m=void 0),o||a(m),o?.(m,l,h,u),m},isSelected:l=>i?c(i,l):!1}}function $u(e,t){const n=Iu(e,t),r=zu(e,t),o=Pu(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function ue(e,t){return e instanceof ee&&e.timeZone===t?e:new ee(e,t)}function Ue(e,t,n){return ue(e,t)}function Er(e,t,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Ue(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?Ue(r,t):r):qt(e)?{...e,from:e.from?ue(e.from,t):e.from,to:e.to?ue(e.to,t):e.to}:Zn(e)?{before:Ue(e.before,t),after:Ue(e.after,t)}:Ln(e)?{after:Ue(e.after,t)}:Yn(e)?{before:Ue(e.before,t)}:e}function bn(e,t,n){return e&&(Array.isArray(e)?e.map(r=>Er(r,t)):Er(e,t))}function Qo(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=ue(t.today,n)),t.month&&(t.month=ue(t.month,n)),t.defaultMonth&&(t.defaultMonth=ue(t.defaultMonth,n)),t.startMonth&&(t.startMonth=ue(t.startMonth,n)),t.endMonth&&(t.endMonth=ue(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=ue(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(T=>ue(T,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?ue(t.selected.from,n):t.selected.from,to:t.selected.to?ue(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=bn(t.disabled,n)),t.hidden!==void 0&&(t.hidden=bn(t.hidden,n)),t.modifiers)){const T={};Object.keys(t.modifiers).forEach(j=>{T[j]=bn(t.modifiers?.[j],n)}),t.modifiers=T}const{components:r,formatters:o,labels:s,dateLib:a,locale:i,classNames:c}=w.useMemo(()=>{const T={...$o,...t.locale},j=t.broadcastCalendar?1:t.weekStartsOn,N=t.noonSafe&&t.timeZone?hu(t.timeZone,{weekStartsOn:j,locale:T}):void 0,A=t.dateLib&&N?{...N,...t.dateLib}:t.dateLib??N,oe=new J({locale:T,weekStartsOn:j,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},A);return{dateLib:oe,components:Hc(t.components),formatters:ru(t.formatters),labels:cu(t.labels,oe.options),locale:T,classNames:{...wt(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:a.today()});const{captionLayout:d,mode:f,navLayout:l,numberOfMonths:h=1,onDayBlur:u,onDayClick:m,onDayFocus:v,onDayKeyDown:g,onDayMouseEnter:y,onDayMouseLeave:D,onNextClick:M,onPrevClick:k,showWeekNumber:S,styles:_}=t,{formatCaption:C,formatDay:F,formatMonthDropdown:$,formatWeekNumber:Z,formatWeekNumberHeader:Q,formatWeekdayName:ke,formatYearDropdown:P}=o,H=Du(t,a),{days:Re,months:kt,navStart:en,navEnd:tn,previousMonth:fe,nextMonth:he,goToMonth:Se}=H,nn=Bc(Re,t,en,tn,a),{isSelected:rn,select:on,selected:St}=$u(t,a)??{},{blur:sr,focused:ar,isFocusTarget:Ps,moveFocus:ir,setFocused:Ot}=Cu(t,H,nn,rn??(()=>!1),a),{labelDayButton:Is,labelGridcell:$s,labelGrid:As,labelMonthDropdown:js,labelNav:cr,labelPrevious:Vs,labelNext:Ws,labelWeekday:Zs,labelWeekNumber:Ls,labelWeekNumberHeader:Ys,labelYearDropdown:Rs}=s,Bs=w.useMemo(()=>du(a,t.ISOWeek,t.broadcastCalendar,t.today),[a,t.ISOWeek,t.broadcastCalendar,t.today]),ur=f!==void 0||m!==void 0,sn=w.useCallback(()=>{fe&&(Se(fe),k?.(fe))},[fe,Se,k]),an=w.useCallback(()=>{he&&(Se(he),M?.(he))},[Se,he,M]),Us=w.useCallback((T,j)=>N=>{N.preventDefault(),N.stopPropagation(),Ot(T),!j.disabled&&(on?.(T.date,j,N),m?.(T.date,j,N))},[on,m,Ot]),Hs=w.useCallback((T,j)=>N=>{Ot(T),v?.(T.date,j,N)},[v,Ot]),qs=w.useCallback((T,j)=>N=>{sr(),u?.(T.date,j,N)},[sr,u]),Gs=w.useCallback((T,j)=>N=>{const A={ArrowLeft:[N.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[N.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[N.shiftKey?"year":"week","after"],ArrowUp:[N.shiftKey?"year":"week","before"],PageUp:[N.shiftKey?"year":"month","before"],PageDown:[N.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(A[N.key]){N.preventDefault(),N.stopPropagation();const[oe,I]=A[N.key];ir(oe,I)}g?.(T.date,j,N)},[ir,g,t.dir]),Js=w.useCallback((T,j)=>N=>{y?.(T.date,j,N)},[y]),Ks=w.useCallback((T,j)=>N=>{D?.(T.date,j,N)},[D]),Xs=w.useCallback(T=>j=>{const N=Number(j.target.value),A=a.setMonth(a.startOfMonth(T),N);Se(A)},[a,Se]),Qs=w.useCallback(T=>j=>{const N=Number(j.target.value),A=a.setYear(a.startOfMonth(T),N);Se(A)},[a,Se]),{className:ea,style:ta}=w.useMemo(()=>({className:[c[E.Root],t.className].filter(Boolean).join(" "),style:{..._?.[E.Root],...t.style}}),[c,t.className,t.style,_]),na=qc(t),lr=w.useRef(null);vu(lr,!!t.animate,{classNames:c,months:kt,focused:ar,dateLib:a});const ra={dayPickerProps:t,selected:St,select:on,isSelected:rn,months:kt,nextMonth:he,previousMonth:fe,goToMonth:Se,getModifiers:nn,components:r,classNames:c,styles:_,labels:s,formatters:o};return O.createElement(jo.Provider,{value:ra},O.createElement(r.Root,{rootRef:t.animate?lr:void 0,className:ea,style:ta,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...na},O.createElement(r.Months,{className:c[E.Months],style:_?.[E.Months]},!t.hideNavigation&&!l&&O.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:_?.[E.Nav],"aria-label":cr(),onPreviousClick:sn,onNextClick:an,previousMonth:fe,nextMonth:he}),kt.map((T,j)=>O.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[E.Month],style:_?.[E.Month],key:j,displayIndex:j,calendarMonth:T},l==="around"&&!t.hideNavigation&&j===0&&O.createElement(r.PreviousMonthButton,{type:"button",className:c[E.PreviousMonthButton],tabIndex:fe?void 0:-1,"aria-disabled":fe?void 0:!0,"aria-label":Vs(fe),onClick:sn,"data-animated-button":t.animate?"true":void 0},O.createElement(r.Chevron,{disabled:fe?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"right":"left"})),O.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[E.MonthCaption],style:_?.[E.MonthCaption],calendarMonth:T,displayIndex:j},d?.startsWith("dropdown")?O.createElement(r.DropdownNav,{className:c[E.Dropdowns],style:_?.[E.Dropdowns]},(()=>{const N=d==="dropdown"||d==="dropdown-months"?O.createElement(r.MonthsDropdown,{key:"month",className:c[E.MonthsDropdown],"aria-label":js(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Xs(T.date),options:uu(T.date,en,tn,o,a),style:_?.[E.Dropdown],value:a.getMonth(T.date)}):O.createElement("span",{key:"month"},$(T.date,a)),A=d==="dropdown"||d==="dropdown-years"?O.createElement(r.YearsDropdown,{key:"year",className:c[E.YearsDropdown],"aria-label":Rs(a.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Qs(T.date),options:fu(en,tn,o,a,!!t.reverseYears),style:_?.[E.Dropdown],value:a.getYear(T.date)}):O.createElement("span",{key:"year"},P(T.date,a));return a.getMonthYearOrder()==="year-first"?[A,N]:[N,A]})(),O.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(T.date,a.options,a))):O.createElement(r.CaptionLabel,{className:c[E.CaptionLabel],role:"status","aria-live":"polite"},C(T.date,a.options,a))),l==="around"&&!t.hideNavigation&&j===h-1&&O.createElement(r.NextMonthButton,{type:"button",className:c[E.NextMonthButton],tabIndex:he?void 0:-1,"aria-disabled":he?void 0:!0,"aria-label":Ws(he),onClick:an,"data-animated-button":t.animate?"true":void 0},O.createElement(r.Chevron,{disabled:he?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"left":"right"})),j===h-1&&l==="after"&&!t.hideNavigation&&O.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:_?.[E.Nav],"aria-label":cr(),onPreviousClick:sn,onNextClick:an,previousMonth:fe,nextMonth:he}),O.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":As(T.date,a.options,a)||void 0,className:c[E.MonthGrid],style:_?.[E.MonthGrid]},!t.hideWeekdays&&O.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[E.Weekdays],style:_?.[E.Weekdays]},S&&O.createElement(r.WeekNumberHeader,{"aria-label":Ys(a.options),className:c[E.WeekNumberHeader],style:_?.[E.WeekNumberHeader],scope:"col"},Q()),Bs.map(N=>O.createElement(r.Weekday,{"aria-label":Zs(N,a.options,a),className:c[E.Weekday],key:String(N),style:_?.[E.Weekday],scope:"col"},ke(N,a.options,a)))),O.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[E.Weeks],style:_?.[E.Weeks]},T.weeks.map(N=>O.createElement(r.Week,{className:c[E.Week],key:N.weekNumber,style:_?.[E.Week],week:N},S&&O.createElement(r.WeekNumber,{week:N,style:_?.[E.WeekNumber],"aria-label":Ls(N.weekNumber,{locale:i}),className:c[E.WeekNumber],scope:"row",role:"rowheader"},Z(N.weekNumber,a)),N.days.map(A=>{const{date:oe}=A,I=nn(A);if(I[R.focused]=!I.hidden&&!!ar?.isEqualTo(A),I[ge.selected]=rn?.(oe)||I.selected,qt(St)){const{from:cn,to:un}=St;I[ge.range_start]=!!(cn&&un&&a.isSameDay(oe,cn)),I[ge.range_end]=!!(cn&&un&&a.isSameDay(oe,un)),I[ge.range_middle]=Oe(St,oe,!0,a)}const oa=lu(I,_,t.modifiersStyles),sa=Uc(I,c,t.modifiersClassNames),aa=!ur&&!I.hidden?$s(oe,I,a.options,a):void 0;return O.createElement(r.Day,{key:`${A.isoDate}_${A.displayMonthId}`,day:A,modifiers:I,className:sa.join(" "),style:oa,role:"gridcell","aria-selected":I.selected||void 0,"aria-label":aa,"data-day":A.isoDate,"data-month":A.outside?A.dateMonthId:void 0,"data-selected":I.selected||void 0,"data-disabled":I.disabled||void 0,"data-hidden":I.hidden||void 0,"data-outside":A.outside||void 0,"data-focused":I.focused||void 0,"data-today":I.today||void 0},!I.hidden&&ur?O.createElement(r.DayButton,{className:c[E.DayButton],style:_?.[E.DayButton],type:"button",day:A,modifiers:I,disabled:!I.focused&&I.disabled||void 0,"aria-disabled":I.focused&&I.disabled||void 0,tabIndex:Ps(A)?0:-1,"aria-label":Is(oe,I,a.options,a),onClick:Us(A,I),onBlur:qs(A,I),onFocus:Hs(A,I),onKeyDown:Gs(A,I),onMouseEnter:Js(A,I),onMouseLeave:Ks(A,I)},F(oe,a.options,a)):!I.hidden&&F(A.date,a.options,a))})))))))),t.footer&&O.createElement(r.Footer,{className:c[E.Footer],style:_?.[E.Footer],role:"status","aria-live":"polite"},t.footer)))}function Au({calendarMonth:e,startYear:t,endYear:n}){const{goToMonth:r}=Le(),o=e.date,s=o.getFullYear(),a=o.getMonth(),i=w.useMemo(()=>{const l=t??s-100,h=n??s+10,u=[];for(let m=l;m<=h;m++)u.push(m);return u},[t,n,s]),c=w.useMemo(()=>{const l=[];for(let h=0;h<12;h++){const u=new Date(2e3,h,1);l.push(u.toLocaleString("he-IL",{month:"long"}))}return l},[]),d=l=>{const h=parseInt(l.target.value,10),u=new Date(h,a,1);r(u)},f=l=>{const h=parseInt(l.target.value,10),u=new Date(s,h,1);r(u)};return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:f,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:c.map((l,h)=>p.jsx("option",{value:h,children:l},h))}),p.jsx("select",{value:s,onChange:d,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:i.map(l=>p.jsx("option",{value:l,children:l},l))})]})}function ju({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",buttonVariant:o="ghost",formatters:s,components:a,startYear:i,endYear:c,...d}){const f=wt();return p.jsx(Qo,{locale:Io,showOutsideDays:n,className:x("p-2 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:l=>l.toLocaleString("default",{month:"short"}),...s},classNames:{root:x("w-fit",f.root),months:x("flex gap-4 flex-col md:flex-row relative",f.months),month:x("flex flex-col w-full gap-4",f.month),nav:x("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:x(Vt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:x(Vt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:x("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:x("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:x("relative cn-calendar-dropdown-root rounded-(--cell-radius)",f.dropdown_root),dropdown:x("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:x("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:x("flex",f.weekdays),weekday:x("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:x("flex w-full mt-2",f.week),week_number_header:x("select-none w-(--cell-size)",f.week_number_header),week_number:x("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:x("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",d.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",f.day),range_start:x("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",f.range_start),range_middle:x("rounded-none",f.range_middle),range_end:x("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",f.range_end),today:x("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",f.today),outside:x("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:x("text-muted-foreground opacity-50",f.disabled),hidden:x("invisible",f.hidden),...t},components:{Root:({className:l,rootRef:h,...u})=>p.jsx("div",{"data-slot":"calendar",ref:h,className:x(l),...u}),Chevron:({className:l,orientation:h,...u})=>h==="left"?p.jsx(ao,{className:x("size-4",l),...u}):h==="right"?p.jsx(io,{className:x("size-4",l),...u}):p.jsx($n,{className:x("size-4",l),...u}),DayButton:Vu,WeekNumber:({children:l,...h})=>p.jsx("td",{...h,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:l})}),MonthCaption:l=>p.jsx(Au,{...l,startYear:i,endYear:c}),...a},...d})}function Vu({className:e,day:t,modifiers:n,...r}){const o=wt(),s=w.useRef(null);return w.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(Xe,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:x("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const Wu={...Io,labels:{labelDayButton:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t.today&&(s=`היום, ${s}`),t.selected&&(s=`${s}, נבחר`),s},labelMonthDropdown:"בחר את החודש",labelNext:"עבור לחודש הבא",labelPrevious:"עבור לחודש הקודם",labelWeekNumber:e=>`שבוע ${e}`,labelYearDropdown:"בחר את השנה",labelGrid:(e,t,n)=>(n??new J(t)).formatMonthYear(e),labelGridcell:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t?.today&&(s=`היום, ${s}`),s},labelNav:"סרגל ניווט",labelWeekNumberHeader:"מספר שבוע",labelWeekday:(e,t,n)=>(n??new J(t)).format(e,"cccc")}},Un=1440*60*1e3,Hn=Date.UTC(1,0,1),Zu=-2067381,Lu=["tishrei","cheshvan","kislev","tevet","shevat","adar","nisan","iyar","sivan","tamuz","av","elul"],Yu=["tishrei","cheshvan","kislev","tevet","shevat","adarI","adar","nisan","iyar","sivan","tamuz","av","elul"],Sn=235,Cr=new Map,zr=new Map;function qe(e,t){return(e%t+t)%t}function gt(e){return qe(7*e+1,19)<7}function Ru(e){return Math.floor((235*e-234)/19)}function Bu(e){const t=Ru(e),n=204+793*qe(t,1080),r=5+12*t+793*Math.floor(t/1080),o=1+29*t+Math.floor(r/24),s=qe(r,24)*1080+n;let a=o;const i=gt(e),c=gt(e-1);(s>=19440||qe(a,7)===2&&s>=9924&&!i||qe(a,7)===1&&s>=16789&&c)&&(a+=1);const d=qe(a,7);return(d===0||d===3||d===5)&&(a+=1),a}function Qe(e){const t=Cr.get(e);if(t!==void 0)return t;const n=Zu+Bu(e);return Cr.set(e,n),n}function Uu(e){const t=zr.get(e);if(t!==void 0)return t;const n=Qe(e+1)-Qe(e);return zr.set(e,n),n}function Hu(e){const t=Uu(e);return gt(e)?t===383?"deficient":t===384?"regular":"complete":t===353?"deficient":t===354?"regular":"complete"}function es(e){return gt(e)?Yu:Lu}function ts(e,t){const n=es(e);if(t<0||t>=n.length)throw new RangeError(`Invalid month index ${t} for year ${e}`);return n[t]}function Ve(e){return es(e).length}function Mt(e,t){const n=ts(e,t),r=Hu(e);switch(n){case"tishrei":return 30;case"cheshvan":return r==="complete"?30:29;case"kislev":return r==="deficient"?29:30;case"tevet":return 29;case"shevat":return 30;case"adarI":return 30;case"adar":return 29;case"nisan":return 30;case"iyar":return 29;case"sivan":return 30;case"tamuz":return 29;case"av":return 30;case"elul":return 29;default:return 0}}function qn(e,t){return ts(e,t)}function qu(e){const t=e.getFullYear()<100,n=t?e.getUTCFullYear():e.getFullYear(),r=t?e.getUTCMonth():e.getMonth(),o=t?e.getUTCDate():e.getDate(),s=new Date(0);return s.setUTCFullYear(n,r,o),s.setUTCHours(0,0,0,0),Math.floor((s.getTime()-Hn)/Un)+1}function Gu(e){const t=new Date(Hn+(e-1)*Un),n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(0,0,0,0),n}function Ju({year:e,monthIndex:t,day:n}){let r=n-1;for(let o=0;o<t;o+=1)r+=Mt(e,o);return Qe(e)+r}function Ku(e){const t=new Date(Hn+(e-1)*Un);let n=t.getUTCFullYear()+3760;for(t.getUTCMonth()>=8&&(n+=1);e>=Qe(n+1);)n+=1;for(;e<Qe(n);)n-=1;let r=e-Qe(n);const o=Ve(n);let s=0;for(;s<o;){const a=Mt(n,s);if(r<a)break;r-=a,s+=1}return{year:n,monthIndex:s,day:r+1}}function B(e){return Ku(qu(e))}function _e(e){return Gu(Ju(e))}function Xu(e){if(e<=1)return 0;const t=Math.floor((e-1)/19);let n=t*Sn,r=t*19+1;for(;r<e;)n+=Ve(r),r+=1;return n}function rt({year:e,monthIndex:t}){return Xu(e)+t}function Qu(e){let t=e,n=1;if(t>=0){const r=Math.floor(t/Sn);for(n+=r*19,t-=r*Sn;;){const o=Ve(n);if(t<o)break;t-=o,n+=1}return{year:n,month:t}}for(;t<0;){n-=1;const r=Ve(n);t+=r}return{year:n,month:t}}function Gn(e,t,n){const r=Mt(e,t);return Math.min(n,r)}function Jn(e,t){const{year:n,month:r}=Qu(e);return{year:n,monthIndex:r,day:Gn(n,r,t)}}function el(e){return e+1}function tl(e,t){if(t===0)return new Date(e.getTime());const n=B(e),r=rt(n)+t,o=Jn(r,n.day),s=Gn(o.year,o.monthIndex,o.day);return _e({...o,day:s})}function wn(e,t){const n=Ve(e);for(let r=0;r<n;r+=1)if(qn(e,r)===t)return r;return-1}function ns(e,t){const n=B(e),r=t,o=qn(n.year,n.monthIndex);let s=wn(r,o);if(s===-1)if(o==="adarI")s=wn(r,"adar");else if(o==="adar"&&!gt(r))s=wn(r,"adar");else{const i=Ve(r);s=Math.min(n.monthIndex,i-1)}const a=Gn(r,s,n.day);return _e({year:r,monthIndex:s,day:a})}function nl(e,t){if(t===0)return new Date(e.getTime());const n=B(e);return ns(e,n.year+t)}function rl(e,t){const n=B(e),r=B(t);return rt(n)-rt(r)}function ol(e){const t=L(e.start),n=L(e.end);if(n.getTime()<t.getTime())return[];const r=B(t),o=B(n),s=rt(r),a=rt(o),i=[];for(let c=s;c<=a;c+=1){const d=Jn(c,1);i.push(_e(d))}return i}function sl(e){const t=L(e.start),n=L(e.end);if(n.getTime()<t.getTime())return[];const r=B(t).year,o=B(n).year,s=[];for(let a=r;a<=o;a+=1)s.push(_e({year:a,monthIndex:0,day:1}));return s}function al(e){const t=B(e),n=Mt(t.year,t.monthIndex);return _e({...t,day:n})}function il(e){const t=B(e),n=Ve(t.year)-1,r=Mt(t.year,n);return _e({year:t.year,monthIndex:n,day:r})}const Nr={tishrei:{en:"Tishrei",he:"תשרי"},cheshvan:{en:"Cheshvan",he:"חשוון"},kislev:{en:"Kislev",he:"כסלו"},tevet:{en:"Tevet",he:"טבת"},shevat:{en:"Shevat",he:"שבט"},adarI:{en:"Adar I",he:"אדר א׳"},adar:{en:"Adar",he:"אדר"},nisan:{en:"Nisan",he:"ניסן"},iyar:{en:"Iyar",he:"אייר"},sivan:{en:"Sivan",he:"סיוון"},tamuz:{en:"Tammuz",he:"תמוז"},av:{en:"Av",he:"אב"},elul:{en:"Elul",he:"אלול"}},Tr={long:{en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","שבת"]},narrow:{en:["S","M","T","W","T","F","S"],he:["א","ב","ג","ד","ה","ו","ש"]}},cl=e=>e?.locale?.code??"he",ul=e=>{const t=B(e);return qn(t.year,t.monthIndex)},On=(e,t)=>{try{return new Intl.DateTimeFormat(t,{month:"long",calendar:"hebrew"}).format(e)}catch{const n=ul(e);return t.startsWith("he")?Nr[n].he:Nr[n].en}},Dn=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{weekday:n,calendar:"hebrew"}).format(e)}catch{const r=e.getDay();return t.startsWith("he")?Tr[n].he[r]:Tr[n].en[r]}},Fr=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{dateStyle:n,calendar:"hebrew"}).format(e)}catch{const r=B(e),o=On(e,t);return n==="full"?`${Dn(e,t,"long")}, ${o} ${r.day}, ${r.year}`:`${o} ${r.day}, ${r.year}`}},ne=e=>e.toString(),ll=(e,t,n)=>{const r=n.includes("a");return new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:r}).format(e)};function dl(e,t,n){const o=cl(n),s=B(e),a=el(s.monthIndex);switch(t){case"LLLL y":case"LLLL yyyy":return`${On(e,o)} ${ne(s.year)}`;case"LLLL":return On(e,o);case"PPP":return Fr(e,o,"long");case"PPPP":return Fr(e,o,"full");case"cccc":return Dn(e,o,"long");case"cccccc":return Dn(e,o,"narrow");case"yyyy":case"y":return ne(s.year);case"yyyy-MM":return`${ne(s.year)}-${ne(a).padStart(2,"0")}`;case"yyyy-MM-dd":return`${ne(s.year)}-${ne(a).padStart(2,"0")}-${ne(s.day).padStart(2,"0")}`;case"MM":return ne(a).padStart(2,"0");case"M":return ne(a);case"dd":return ne(s.day).padStart(2,"0");case"d":return ne(s.day);default:return/[Hh]/.test(t)&&/m/.test(t)?ll(e,o,t):`${ne(s.day)}/${ne(a)}/${ne(s.year)}`}}function fl(e){return B(e).monthIndex}function hl(e){return B(e).year}function ml(e,t){const n=B(e),r=B(t);return n.year===r.year&&n.monthIndex===r.monthIndex}function pl(e,t){return B(e).year===B(t).year}function gl(e,t,n){return _e({year:e,monthIndex:t,day:n})}function vl(e,t){const n=B(e),o=rt({year:n.year,monthIndex:0})+t,s=Jn(o,n.day);return _e(s)}function yl(e){const t=B(e);return _e({...t,day:1})}function bl(e){const t=B(e);return _e({year:t.year,monthIndex:0,day:1})}const wl=Object.freeze(Object.defineProperty({__proto__:null,addMonths:tl,addYears:nl,differenceInCalendarMonths:rl,eachMonthOfInterval:ol,eachYearOfInterval:sl,endOfMonth:al,endOfYear:il,format:dl,getMonth:fl,getYear:hl,isSameMonth:ml,isSameYear:pl,newDate:gl,setMonth:vl,setYear:ns,startOfMonth:yl,startOfYear:bl},Symbol.toStringTag,{value:"Module"}));function _l(e){const t=Ml({locale:e.locale,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone});return O.createElement(Qo,{...e,locale:e.locale??Wu,numerals:e.numerals??"latn",dir:e.dir??"rtl",dateLib:t})}const Ml=e=>new J(e,wl);function kl({calendarMonth:e}){const{goToMonth:t,dayPickerProps:n}=Le(),r=e.date,o=w.useMemo(()=>new K(r),[r]),s=o.getFullYear(),a=o.getMonthName(),{startMonth:i,endMonth:c}=n,d=w.useMemo(()=>{const m=i?new K(i).getFullYear():s-10,v=c?new K(c).getFullYear():s+10,g=[];for(let y=m;y<=v;y++)g.push(y);return g},[i,c,s]),f=w.useMemo(()=>(new K(1,"Tishrei",s).isLeapYear()?["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar I","Adar II","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]:["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]).map(g=>{const D=new K(1,g,s).greg().toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return{value:g,label:D}}),[s]),l=w.useMemo(()=>d.map(m=>({value:m,label:Wt(m)})),[d]),h=w.useCallback(m=>{const v=parseInt(m.target.value,10);let g=a;const y=new K(1,"Tishrei",v).isLeapYear();g==="Adar II"&&!y||g==="Adar I"&&!y?g="Adar":g==="Adar"&&y&&(g="Adar II");try{t(new K(1,g,v).greg())}catch{t(new K(1,"Tishrei",v).greg())}},[a,t]),u=w.useCallback(m=>{const v=m.target.value;t(new K(1,v,s).greg())},[s,t]);return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:u,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:f.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))}),p.jsx("select",{value:s,onChange:h,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:l.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))})]})}function Sl({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",startMonth:o,endMonth:s,startYear:a,endYear:i,buttonVariant:c="ghost",formatters:d,components:f,...l}){const h=wt(),{startMonth:u,endMonth:m}=w.useMemo(()=>{const g=new K().getFullYear();return{startMonth:a?new K(1,"Tishrei",a).greg():o||new K(1,"Tishrei",g-120).greg(),endMonth:i?new K(29,"Elul",i).greg():s||new K(29,"Elul",g+20).greg()}},[o,s,a,i]),v=w.useMemo(()=>({formatDay:g=>Wt(new K(g).getDate()),...d}),[d]);return p.jsx(_l,{dir:"rtl",showOutsideDays:n,className:x("p-3 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,startMonth:u,endMonth:m,formatters:v,classNames:{root:x("w-fit",h.root),months:x("flex gap-4 flex-col md:flex-row relative",h.months),month:x("flex flex-col w-full gap-4",h.month),nav:x("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",h.nav),button_previous:x(Vt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",h.button_previous),button_next:x(Vt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",h.button_next),month_caption:x("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",h.month_caption),dropdowns:x("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-2 z-20"),caption_label:x("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",h.caption_label),table:"w-full border-collapse",weekdays:x("flex",h.weekdays),weekday:x("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",h.weekday),week:x("flex w-full mt-2",h.week),week_number_header:x("select-none w-(--cell-size)",h.week_number_header),week_number:x("text-[0.8rem] select-none text-muted-foreground",h.week_number),day:x("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",l.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",h.day),range_start:x("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",h.range_start),range_middle:x("rounded-none",h.range_middle),range_end:x("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",h.range_end),today:x("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",h.today),outside:x("text-muted-foreground aria-selected:text-muted-foreground",h.outside),disabled:x("text-muted-foreground opacity-50",h.disabled),hidden:x("invisible",h.hidden),...t},components:{Root:({className:g,rootRef:y,...D})=>p.jsx("div",{"data-slot":"calendar",ref:y,className:x(g),...D}),Chevron:({className:g,orientation:y,...D})=>y==="left"?p.jsx(ao,{className:x("size-4",g),...D}):y==="right"?p.jsx(io,{className:x("size-4",g),...D}):p.jsx($n,{className:x("size-4",g),...D}),DayButton:Ol,WeekNumber:({children:g,...y})=>p.jsx("td",{...y,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:g})}),MonthCaption:kl,...f},...l})}function Ol({className:e,day:t,modifiers:n,...r}){const o=wt(),s=w.useRef(null);return w.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(Xe,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:x("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}function Dl({...e}){return p.jsx(Qa,{"data-slot":"popover",...e})}function xl({...e}){return p.jsx(ei,{"data-slot":"popover-trigger",...e})}function El({className:e,align:t="center",sideOffset:n=4,...r}){return p.jsx(ti,{children:p.jsx(ni,{"data-slot":"popover-content",align:t,sideOffset:n,className:x("bg-popover text-popover-foreground data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 ring-foreground/10 flex flex-col gap-4 rounded-md p-4 text-sm shadow-md ring-1 duration-100 z-50 w-72 origin-(--radix-popover-content-transform-origin) outline-hidden",e),...r})})}function Cl({value:e,onChange:t,disabled:n,maxDate:r,minDate:o}){const[s,a]=w.useState("gregorian"),[i,c]=w.useState(!1),d=r??new Date,f=w.useMemo(()=>{if(!e)return;const g=ja(e,"yyyy-MM-dd",new Date);return vo(g)?g:void 0},[e]),l=g=>{g&&(t(Ie(g,"yyyy-MM-dd")),c(!1))},h=w.useMemo(()=>{if(!f)return null;if(s==="hebrew"){const g=new K(f),y=f.toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return`${Wt(g.getDate())} ${y} ${Wt(g.getFullYear())}`}else return Ie(f,"dd/MM/yyyy")},[f,s]),u=w.useMemo(()=>new K().getFullYear(),[]),m=o?o.getFullYear():new Date().getFullYear()-100,v=d.getFullYear();return p.jsxs(Dl,{open:i,onOpenChange:c,children:[p.jsx(xl,{asChild:!0,children:p.jsxs(Xe,{variant:"outline",className:x("w-full justify-start text-right font-normal",!e&&"text-muted-foreground"),disabled:n,children:[p.jsx(ia,{className:"ml-2 h-4 w-4 shrink-0"}),h||p.jsx("span",{children:"בחר תאריך..."})]})}),p.jsx(El,{className:"w-auto p-0",align:"start",children:p.jsxs(Va,{value:s,onValueChange:g=>a(g),className:"w-full min-w-[280px] max-w-[300px]",children:[p.jsxs(Wa,{className:"grid w-full grid-cols-2",children:[p.jsx(hr,{value:"gregorian",children:"לועזי"}),p.jsx(hr,{value:"hebrew",children:"עברי"})]}),p.jsx(mr,{value:"gregorian",className:"p-0",children:p.jsx(ju,{mode:"single",selected:f,onSelect:l,defaultMonth:f,toDate:d,fromDate:o,startYear:m,endYear:v})}),p.jsxs(mr,{value:"hebrew",className:"p-0",children:[p.jsx("div",{className:"text-xs text-muted-foreground px-3 pt-2 pb-1 text-center",children:"הגריד מבוסס על מבנה לועזי, התאריכים העבריים אינם מדויקים"}),p.jsx(Sl,{mode:"single",selected:f,autoFocus:!0,onSelect:l,defaultMonth:f,endYear:u,startYear:u-120})]})]})})]})}function zl(e){if(e.length!==9){if(e.length>9||e.length===0)return!1;e=e.padStart(9,"0")}let t=0;for(let n=0;n<9;n++){const r=parseInt(e.charAt(n),10);if(isNaN(r))return!1;let o=r*(n%2+1);o>9&&(o-=9),t+=o}return t%10===0}function xn(e){return e.replace(/\D/g,"")}function Pr(e){const t=xn(e);return!!/^0\d{8,9}$/.test(t)}const et=new WeakMap,$t=new WeakMap,Zt={current:[]};let _n=!1,mt=0;const dt=new Set,Dt=new Map;function rs(e){const t=Array.from(e).sort((n,r)=>n instanceof xe&&n.options.deps.includes(r)?1:r instanceof xe&&r.options.deps.includes(n)?-1:0);for(const n of t){if(Zt.current.includes(n))continue;Zt.current.push(n),n.recompute();const r=$t.get(n);if(r)for(const o of r){const s=et.get(o);s&&rs(s)}}}function Nl(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Tl(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function os(e){if(mt>0&&!Dt.has(e)&&Dt.set(e,e.prevState),dt.add(e),!(mt>0)&&!_n)try{for(_n=!0;dt.size>0;){const t=Array.from(dt);dt.clear();for(const n of t){const r=Dt.get(n)??n.prevState;n.prevState=r,Nl(n)}for(const n of t){const r=et.get(n);r&&(Zt.current.push(n),rs(r))}for(const n of t){const r=et.get(n);if(r)for(const o of r)Tl(o)}}}finally{_n=!1,Zt.current=[],Dt.clear()}}function ve(e){mt++;try{e()}finally{if(mt--,mt===0){const t=dt.values().next().value;t&&os(t)}}}function Fl(e){return typeof e=="function"}class En{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var o,s;this.listeners.add(r);const a=(s=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:s.call(o,r,this);return()=>{this.listeners.delete(r),a?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,o;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):Fl(t)?this.state=t(this.prevState):this.state=t,(o=(r=this.options)==null?void 0:r.onUpdate)==null||o.call(r),os(this)}}class xe{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,r=new Array(n),o=new Array(n);for(let s=0;s<n;s++){const a=this.options.deps[s];r[s]=a.prevState,o[s]=a.state}return this.lastSeenDepValues=o,{prevDepVals:r,currDepVals:o,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const o=this.getDepVals();this.state=this.options.fn(o),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof xe&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let s=0;s<o.length;s++)if(o[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,o;this.listeners.add(n);const s=(o=(r=this.options).onSubscribe)==null?void 0:o.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof xe)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof En){let r=et.get(n);r||(r=new Set,et.set(n,r)),r.add(this);let o=$t.get(this);o||(o=new Set,$t.set(this,o)),o.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof xe)this.unregisterFromGraph(n.options.deps);else if(n instanceof En){const r=et.get(n);r&&r.delete(this);const o=$t.get(this);o&&o.delete(n)}}}var Pl=class{constructor(e,t){this.fn=e,this.options=t,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...n)=>{const r=Date.now()-this.lastExecutionTime;if(this.options.leading&&r>=this.options.wait)this.execute(...n);else if(this.lastArgs=n,!this.timeoutId&&this.options.trailing){const o=this.options.wait-r;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},o)}},this.execute=(...n)=>{this.fn(...n),this.options.onExecute?.(n,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function Il(e,t){return new Pl(e,t).maybeExecute}class $l{#s=!0;#t;#e;#d;#n;#i;#r;#c;#f=0;#m=5;#a=!1;#u=!1;#o=null;#h=()=>{this.debugLog("Connected to event bus"),this.#i=!0,this.#a=!1,this.debugLog("Emitting queued events",this.#n),this.#n.forEach(t=>this.emitEventToBus(t)),this.#n=[],this.stopConnectLoop(),this.#e().removeEventListener("tanstack-connect-success",this.#h)};#l=()=>{if(this.#f<this.#m){this.#f++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#e().removeEventListener("tanstack-connect",this.#l),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#a||(this.#a=!0,this.#e().addEventListener("tanstack-connect-success",this.#h),this.#l())};constructor({pluginId:t,debug:n=!1,enabled:r=!0,reconnectEveryMs:o=300}){this.#t=t,this.#s=r,this.#e=this.getGlobalTarget,this.#d=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#n=[],this.#i=!1,this.#u=!1,this.#r=null,this.#c=o}startConnectLoop(){this.#r!==null||this.#i||(this.debugLog(`Starting connect loop (every ${this.#c}ms)`),this.#r=setInterval(this.#l,this.#c))}stopConnectLoop(){this.#a=!1,this.#r!==null&&(clearInterval(this.#r),this.#r=null,this.#n=[],this.debugLog("Stopped connect loop"))}debugLog(...t){this.#d&&console.log(`🌴 [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#t}dispatchCustomEventShim(t,n){try{const r=new Event(t,{detail:n});this.#e().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{this.#e().dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${this.#t}:${t}`,payload:n,pluginId:this.#t}}emit(t,n){if(!this.#s){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(this.#o&&(this.debugLog("Emitting event to internal event target",t,n),this.#o.dispatchEvent(new CustomEvent(`${this.#t}:${t}`,{detail:this.createEventPayload(t,n)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#i){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#n.push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!this.#a&&(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,r){const o=r?.withEventTarget??!1,s=`${this.#t}:${t}`;if(o&&(this.#o||(this.#o=new EventTarget),this.#o.addEventListener(s,i=>{n(i.detail)})),!this.#s)return this.debugLog("Event bus client is disabled, not registering event",s),()=>{};const a=i=>{this.debugLog("Received event from bus",i.detail),n(i.detail)};return this.#e().addEventListener(s,a),this.debugLog("Registered event to bus",s),()=>{o&&this.#o?.removeEventListener(s,a),this.#e().removeEventListener(s,a)}}onAll(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;this.#t&&o.pluginId!==this.#t||t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}}class Al extends $l{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const ce=new Al;function Jt(e,t){return typeof e=="function"?e(t):e}function xt(e,t){return Kn(t).reduce((r,o)=>{if(r===null)return null;if(typeof r<"u")return r[o]},e)}function Et(e,t,n){const r=Kn(t);function o(s){if(!r.length)return Jt(n,s);const a=r.shift();if(typeof a=="string"||typeof a=="number"&&!Array.isArray(s))return typeof s=="object"?(s===null&&(s={}),{...s,[a]:o(s[a])}):{[a]:o()};if(Array.isArray(s)&&typeof a=="number"){const i=s.slice(0,a);return[...i.length?i:new Array(a),o(s[a]),...s.slice(a+1)]}return[...new Array(a),o()]}return o(e)}function jl(e,t){const n=Kn(t);function r(o){if(!o)return;if(n.length===1){const a=n[0];if(Array.isArray(o)&&typeof a=="number")return o.filter((d,f)=>f!==a);const{[a]:i,...c}=o;return c}const s=n.shift();if((typeof s=="string"||typeof s=="number"&&!Array.isArray(o))&&typeof o=="object")return{...o,[s]:r(o[s])};if(typeof s=="number"&&Array.isArray(o)){if(s>=o.length)return o;const a=o.slice(0,s);return[...a.length?a:new Array(s),r(o[s]),...o.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Vl=/^(\d+)$/gm,Wl=/\.(\d+)(?=\.)/gm,Zl=/^(\d+)\./gm,Ll=/\.(\d+$)/gm,Yl=/\.{2,}/gm,Cn="__int__",Ct=`${Cn}$1`;function Kn(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(Vl,Ct).replace(Wl,`.${Ct}.`).replace(Zl,`${Ct}.`).replace(Ll,`.${Ct}`).replace(Yl,".").split(".").map(t=>{if(t.startsWith(Cn)){const n=t.substring(Cn.length),r=parseInt(n,10);return String(r)===n?r:n}return t})}function Rl(e){return!(Array.isArray(e)&&e.length===0)}function zn(e,t){const n=r=>r.validators.filter(Boolean).map(o=>({cause:o.cause,validate:o.fn}));return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:n})}function Nn(e,t){const{asyncDebounceMs:n}=t,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:o,onDynamicAsyncDebounceMs:s}=t.validators||{},a=n??0,i=c=>c.validators.filter(Boolean).map(d=>{const f=d?.cause||e;let l=a;switch(f){case"change":l=o??a;break;case"blur":l=r??a;break;case"dynamic":l=s??a;break;case"submit":l=0;break}return e==="submit"&&(l=0),{cause:f,validate:d.fn,debounceMs:l}});return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:i})}const Tn=e=>!!e&&typeof e=="object"&&"fields"in e;function ze(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!t.has(o)||!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!r.includes(o)||!ze(e[o],t[o]))return!1;return!0}const Ir=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},$r=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function re(e,t){return e==null?t:{...e,...t}}let Ae=256;const At=[];let zt;for(;Ae--;)At[Ae]=(Ae+256).toString(16).substring(1);function ss(){let e=0,t,n="";if(!zt||Ae+16>256){for(zt=new Array(256),e=256;e--;)zt[e]=256*Math.random()|0;e=0,Ae=0}for(;e<16;e++)t=zt[Ae+e],e===6?n+=At[t&15|64]:e===8?n+=At[t&63|128]:n+=At[t],e&1&&e>1&&e<11&&(n+="-");return Ae++,n}const Bl=Il(e=>ce.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),Ge=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const t=e.event.async,n=t?void 0:{fn:e.validators.onMount,cause:"mount"},r={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},o={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},s={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},a=t?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[n],form:e.form});case"submit":return e.runValidation({validators:[r,o,s,a],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[o,a],form:e.form});case"change":return e.runValidation({validators:[r,a],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function Ul(e,t){const n=new Map;for(const r of e){const o=r.path??[];let s=t,a="";for(let i=0;i<o.length;i++){const c=o[i];if(c===void 0)continue;const d=typeof c=="object"?c.key:c,f=Number(d);Array.isArray(s)&&!Number.isNaN(f)?a+=`[${f}]`:a+=(i>0?".":"")+String(d),typeof s=="object"&&s!==null?s=s[d]:s=void 0}n.set(a,(n.get(a)??[]).concat(r))}return Object.fromEntries(n)}const Ar=(e,t)=>{const n=Ul(e,t);return{form:n,fields:n}},je={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:Ar(r.issues,e)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:Ar(r.issues,e)}},as=e=>!!e&&"~standard"in e,Je={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Nt(e){function t(f,l,h){const u=a(f,l,"move",h),m=Math.min(l,h),v=Math.max(l,h);for(let y=m;y<=v;y++)u.push(s(f,y));const g=Object.keys(e.fieldInfo).reduce((y,D)=>(D.startsWith(s(f,l))&&y.set(D,e.getFieldMeta(D)),y),new Map);c(u,l<h?"up":"down"),Object.keys(e.fieldInfo).filter(y=>y.startsWith(s(f,h))).forEach(y=>{const D=y.replace(s(f,h),s(f,l)),M=g.get(D);M&&e.setFieldMeta(y,M)})}function n(f,l){const h=a(f,l,"remove");c(h,"up")}function r(f,l,h){a(f,l,"swap",h).forEach(m=>{if(!m.toString().startsWith(s(f,l)))return;const v=m.toString().replace(s(f,l),s(f,h)),[g,y]=[e.getFieldMeta(m),e.getFieldMeta(v)];g&&e.setFieldMeta(v,g),y&&e.setFieldMeta(m,y)})}function o(f,l){const h=a(f,l,"insert");c(h,"down"),h.forEach(u=>{u.toString().startsWith(s(f,l))&&e.setFieldMeta(u,d())})}function s(f,l){return`${f}[${l}]`}function a(f,l,h,u){const m=[s(f,l)];switch(h){case"swap":m.push(s(f,u));break;case"move":{const[v,g]=[Math.min(l,u),Math.max(l,u)];for(let y=v;y<=g;y++)m.push(s(f,y));break}default:{const v=e.getFieldValue(f),g=Array.isArray(v)?v.length:0;for(let y=l+1;y<g;y++)m.push(s(f,y));break}}return Object.keys(e.fieldInfo).filter(v=>m.some(g=>v.startsWith(g)))}function i(f,l){return f.replace(/\[(\d+)\]/,(h,u)=>{const m=parseInt(u,10);return`[${l==="up"?m+1:Math.max(0,m-1)}]`})}function c(f,l){(l==="up"?f:[...f].reverse()).forEach(u=>{const m=i(u.toString(),l),v=e.getFieldMeta(m);v?e.setFieldMeta(u,v):e.setFieldMeta(u,d())})}const d=()=>Je;return{handleArrayMove:t,handleArrayRemove:n,handleArraySwap:r,handleArrayInsert:o}}function Mn(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class jr{constructor(t){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const n=this.fieldMetaDerived.mount(),r=this.store.mount(),o=this.store.subscribe(()=>{Bl(this)}),s=ce.on("request-form-state",f=>{f.payload.id===this._formId&&ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),a=ce.on("request-form-reset",f=>{f.payload.id===this._formId&&this.reset()}),i=ce.on("request-form-force-submit",f=>{f.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),c=()=>{i(),a(),s(),o(),n(),r(),ce.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:d}=this.options.validators||{};return ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),d&&this.validateSync("mount"),c},this.update=n=>{if(!n)return;const r=this.options;this.options=n;const o=!!n.transform?.deps?.some((i,c)=>i!==this.prevTransformArray[c]),s=n.defaultValues&&!ze(n.defaultValues,r.defaultValues)&&!this.state.isTouched,a=!ze(n.defaultState,r.defaultState)&&!this.state.isTouched;!s&&!a&&!o||(ve(()=>{this.baseStore.setState(()=>Mn(Object.assign({},this.state,a?n.defaultState:{},s?{values:n.defaultValues}:{},o?{_force_re_eval:!this.state._force_re_eval}:{})))}),ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(n,r)=>{const{fieldMeta:o}=this.state,s=this.resetFieldMeta(o);n&&!r?.keepDefaultValues&&(this.options={...this.options,defaultValues:n}),this.baseStore.setState(()=>Mn({...this.options.defaultState,values:n??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:s}))},this.validateAllFields=async n=>{const r=[];return ve(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const a=s.instance;r.push(Promise.resolve().then(()=>a.validate(n,{skipFormValidation:!0}))),s.instance.state.meta.isTouched||s.instance.setMeta(i=>({...i,isTouched:!0}))})}),(await Promise.all(r)).flat()},this.validateArrayFieldsStartingFrom=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null,i=[`${n}[${r}]`];for(let l=r+1;l<=(a??0);l++)i.push(`${n}[${l}]`);const c=Object.keys(this.fieldInfo).filter(l=>i.some(h=>l.startsWith(h))),d=[];return ve(()=>{c.forEach(l=>{d.push(Promise.resolve().then(()=>this.validateField(l,o)))})}),(await Promise.all(d)).flat()},this.validateField=(n,r)=>{const o=this.fieldInfo[n]?.instance;return o?(o.state.meta.isTouched||o.setMeta(s=>({...s,isTouched:!0})),o.validate(r)):[]},this.validateSync=n=>{const r=zn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Ge});let o=!1;const s={};return ve(()=>{for(const c of r){if(!c.validate)continue;const d=this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:f,fieldErrors:l}=jt(d),h=ut(c.cause),u=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(l||{})]);for(const m of u){if(this.baseStore.state.fieldMetaBase[m]===void 0&&!l?.[m])continue;const v=this.getFieldMeta(m)??Je,{errorMap:g,errorSourceMap:y}=v,D=l?.[m],{newErrorValue:M,newSource:k}=Ir({newFormValidatorError:D,isPreviousErrorFromFormValidator:y?.[h]==="form",previousErrorValue:g?.[h]});k==="form"&&(s[m]={...s[m],[h]:D}),g?.[h]!==M&&this.setFieldMeta(m,(S=Je)=>({...S,errorMap:{...S.errorMap,[h]:M},errorSourceMap:{...S.errorSourceMap,[h]:k}}))}this.state.errorMap?.[h]!==f&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[h]:f}})),(f||l)&&(o=!0)}const a=ut("submit");this.state.errorMap?.[a]&&n!=="submit"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[a]:void 0}}));const i=ut("server");this.state.errorMap?.[i]&&n!=="server"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[i]:void 0}}))}),{hasErrored:o,fieldsErrorMap:s}},this.validateAsync=async n=>{const r=Nn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Ge});this.state.isFormValidating||this.baseStore.setState(c=>({...c,isFormValidating:!0}));const o=[];let s;for(const c of r){if(!c.validate)continue;const d=ut(c.cause);this.state.validationMetaMap[d]?.lastAbortController.abort();const l=new AbortController;this.state.validationMetaMap[d]={lastAbortController:l},o.push(new Promise(async h=>{let u;try{u=await new Promise((y,D)=>{setTimeout(async()=>{if(l.signal.aborted)return y(void 0);try{y(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:l.signal},type:"validateAsync"}))}catch(M){D(M)}},c.debounceMs)})}catch(y){u=y}const{formError:m,fieldErrors:v}=jt(u);v&&(s=s?{...s,...v}:v);const g=ut(c.cause);for(const y of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[y]===void 0)continue;const D=this.getFieldMeta(y);if(!D)continue;const{errorMap:M,errorSourceMap:k}=D,S=s?.[y],{newErrorValue:_,newSource:C}=Ir({newFormValidatorError:S,isPreviousErrorFromFormValidator:k?.[g]==="form",previousErrorValue:M?.[g]});M?.[g]!==_&&this.setFieldMeta(y,F=>({...F,errorMap:{...F.errorMap,[g]:_},errorSourceMap:{...F.errorSourceMap,[g]:C}}))}this.baseStore.setState(y=>({...y,errorMap:{...y.errorMap,[g]:m}})),h(s?{fieldErrors:s,errorMapKey:g}:void 0)}))}let a=[];const i={};if(o.length){a=await Promise.all(o);for(const c of a)if(c?.fieldErrors){const{errorMapKey:d}=c;for(const[f,l]of Object.entries(c.fieldErrors)){const u={...i[f]||{},[d]:l};i[f]=u}}}return this.baseStore.setState(c=>({...c,isFormValidating:!1})),i},this.validate=n=>{const{hasErrored:r,fieldsErrorMap:o}=this.validateSync(n);return r&&!this.options.asyncAlways?o:this.validateAsync(n)},this._handleSubmit=async n=>{this.baseStore.setState(s=>({...s,isSubmitted:!1,submissionAttempts:s.submissionAttempts+1,isSubmitSuccessful:!1})),ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance&&(s.instance.state.meta.isTouched||s.instance.setMeta(a=>({...a,isTouched:!0})))})});const r=n??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r});return}this.baseStore.setState(s=>({...s,isSubmitting:!0}));const o=()=>{this.baseStore.setState(s=>({...s,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(s=>s.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance?.options.listeners?.onSubmit?.({value:s.instance.state.value,fieldApi:s.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:r});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:r}),ve(()=>{this.baseStore.setState(s=>({...s,isSubmitted:!0,isSubmitSuccessful:!0})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),o()})}catch(s){throw this.baseStore.setState(a=>({...a,isSubmitSuccessful:!1})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:s}),o(),s}},this.getFieldValue=n=>xt(this.state.values,n),this.getFieldMeta=n=>this.state.fieldMeta[n],this.getFieldInfo=n=>this.fieldInfo[n]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(n,r)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[n]:Jt(r,o.fieldMetaBase[n])}}))},this.resetFieldMeta=n=>Object.keys(n).reduce((r,o)=>{const s=o;return r[s]=Je,r},{}),this.setFieldValue=(n,r,o)=>{const s=o?.dontUpdateMeta??!1,a=o?.dontRunListeners??!1,i=o?.dontValidate??!1;ve(()=>{s||this.setFieldMeta(n,c=>({...c,isTouched:!0,isDirty:!0,errorMap:{...c?.errorMap,onMount:void 0}})),this.baseStore.setState(c=>({...c,values:Et(c.values,n,r)}))}),a||this.getFieldInfo(n).instance?.triggerOnChangeListener(),i||this.validateField(n,"change")},this.deleteField=n=>{const o=[...Object.keys(this.fieldInfo).filter(s=>{const a=n.toString();return s!==a&&s.startsWith(a)}),n];this.baseStore.setState(s=>{const a={...s};return o.forEach(i=>{a.values=jl(a.values,i),delete this.fieldInfo[i],delete a.fieldMetaBase[i]}),a})},this.pushFieldValue=(n,r,o)=>{this.setFieldValue(n,s=>[...Array.isArray(s)?s:[],r],o)},this.insertFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>[...i.slice(0,r),o,...i.slice(r)],re(s,{dontValidate:!0}));const a=s?.dontValidate??!1;a||await this.validateField(n,"change"),Nt(this).handleArrayInsert(n,r),a||await this.validateArrayFieldsStartingFrom(n,r,"change")},this.replaceFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>i.map((c,d)=>d===r?o:c),re(s,{dontValidate:!0})),(s?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.removeFieldValue=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(n,c=>c.filter((d,f)=>f!==r),re(o,{dontValidate:!0})),Nt(this).handleArrayRemove(n,r),a!==null){const c=`${n}[${a}]`;this.deleteField(c)}(o?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.swapFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=i[r],d=i[o];return Et(Et(i,`${r}`,d),`${o}`,c)},re(s,{dontValidate:!0})),Nt(this).handleArraySwap(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.moveFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=[...i];return c.splice(o,0,c.splice(r,1)[0]),c},re(s,{dontValidate:!0})),Nt(this).handleArrayMove(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.clearFieldValues=(n,r)=>{const o=this.getFieldValue(n),s=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(n,[],re(r,{dontValidate:!0})),s!==null)for(let i=0;i<=s;i++){const c=`${n}[${i}]`;this.deleteField(c)}(r?.dontValidate??!1)||this.validateField(n,"change")},this.resetField=n=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[n]:Je},values:this.options.defaultValues?Et(r.values,n,xt(this.options.defaultValues,n)):r.values}))},this.setErrorMap=n=>{ve(()=>{Object.entries(n).forEach(([r,o])=>{const s=r;if(Tn(o)){const{formError:a,fieldErrors:i}=jt(o);for(const c of Object.keys(this.fieldInfo))this.getFieldMeta(c)&&this.setFieldMeta(c,f=>({...f,errorMap:{...f.errorMap,[s]:i?.[c]},errorSourceMap:{...f.errorSourceMap,[s]:"form"}}));this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[s]:a}}))}else this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:o}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((n,[r,o])=>(Object.keys(o).length&&o.errors.length&&(n[r]={errors:o.errors,errorMap:o.errorMap}),n),{})}),this.parseValuesWithSchema=n=>je.validate({value:this.state.values,validationSource:"form"},n),this.parseValuesWithSchemaAsync=n=>je.validateAsync({value:this.state.values,validationSource:"form"},n),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??ss(),this._devtoolsSubmissionOverride=!1,this.baseStore=new En(Mn({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values})),this.fieldMetaDerived=new xe({deps:[this.baseStore],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0];let c=0;const d={};for(const f of Object.keys(i.fieldMetaBase)){const l=i.fieldMetaBase[f],h=a?.fieldMetaBase[f],u=s?.[f],m=xt(i.values,f);let v=u?.errors;if(!h||l.errorMap!==h.errorMap){v=Object.values(l.errorMap??{}).filter(k=>k!==void 0);const M=this.getFieldInfo(f)?.instance;M&&!M.options.disableErrorFlat&&(v=v.flat(1))}const g=!Rl(v),y=!l.isDirty,D=ze(m,xt(this.options.defaultValues,f))||ze(m,this.getFieldInfo(f)?.instance?.options.defaultValue);if(u&&u.isPristine===y&&u.isValid===g&&u.isDefaultValue===D&&u.errors===v&&l===h){d[f]=u,c++;continue}d[f]={...l,errors:v??[],isPristine:y,isValid:g,isDefaultValue:D}}return Object.keys(i.fieldMetaBase).length&&s&&c===Object.keys(i.fieldMetaBase).length?s:d}}),this.store=new xe({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0],c=r[1],d=Object.values(c).filter(Boolean),f=d.some(P=>P.isValidating),l=d.every(P=>P.isValid),h=d.some(P=>P.isTouched),u=d.some(P=>P.isBlurred),m=d.every(P=>P.isDefaultValue),v=h&&i.errorMap?.onMount,g=d.some(P=>P.isDirty),y=!g,D=!!(i.errorMap?.onMount||d.some(P=>P?.errorMap?.onMount)),M=!!f;let k=s?.errors??[];(!a||i.errorMap!==a.errorMap)&&(k=Object.values(i.errorMap).reduce((P,H)=>H===void 0?P:H&&Tn(H)?(P.push(H.form),P):(P.push(H),P),[]));const S=k.length===0,_=l&&S,C=this.options.canSubmitWhenInvalid??!1,F=i.submissionAttempts===0&&!h&&!D||!M&&!i.isSubmitting&&_||C;let $=i.errorMap;if(v&&(k=k.filter(P=>P!==i.errorMap.onMount),$=Object.assign($,{onMount:void 0})),s&&a&&s.errorMap===$&&s.fieldMeta===this.fieldMetaDerived.state&&s.errors===k&&s.isFieldsValidating===f&&s.isFieldsValid===l&&s.isFormValid===S&&s.isValid===_&&s.canSubmit===F&&s.isTouched===h&&s.isBlurred===u&&s.isPristine===y&&s.isDefaultValue===m&&s.isDirty===g&&ze(a,i))return s;let Z={...i,errorMap:$,fieldMeta:this.fieldMetaDerived.state,errors:k,isFieldsValidating:f,isFieldsValid:l,isFormValid:S,isValid:_,canSubmit:F,isTouched:h,isBlurred:u,isPristine:y,isDefaultValue:m,isDirty:g};const Q=this.options.transform?.deps??[];if(Q.length!==this.prevTransformArray.length||Q.some((P,H)=>P!==this.prevTransformArray[H])){const P=Object.assign({},this,{state:Z});this.options.transform?.fn(P),Z=P.state,this.prevTransformArray=Q}return Z}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return as(t.validate)?je[t.type](t.value,t.validate):t.validate(t.value)}handleSubmit(t){return this._handleSubmit(t)}}function jt(e){if(e){if(Tn(e)){const t=jt(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function ut(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Vr{constructor(t){this.options={},this.mount=()=>{const n=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const s=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});s&&this.setMeta(a=>({...a,errorMap:{...a?.errorMap,onMount:s},errorSourceMap:{...a?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),n},this.update=n=>{if(this.options=n,this.name=n.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const r=this.form.getFieldValue(this.name);ze(r,n.defaultValue)||this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,re(r,{dontRunListeners:!0,dontValidate:!0})),r?.dontRunListeners||this.triggerOnChangeListener(),r?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(n,r,o)=>{this.form.insertFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(n,r,o)=>{this.form.replaceFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(n,r,o)=>{this.form.swapFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(n,r,o)=>{this.form.moveFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,re(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),o=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:a,onBlurListenTo:i}=s.instance.options.validators||{};n==="change"&&a?.includes(this.name)&&o.push(s.instance),n==="blur"&&i?.includes(this.name)&&o.push(s.instance)}return o},this.validateSync=(n,r)=>{const o=zn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ge}),a=this.getLinkedFields(n).reduce((d,f)=>{const l=zn(n,{...f.options,form:f.form,validationLogic:f.form.options.validationLogic||Ge});return l.forEach(h=>{h.field=f}),d.concat(l)},[]);let i=!1;ve(()=>{const d=(f,l)=>{const h=Tt(l.cause),u=l.validate?Wr(f.runValidator({validate:l.validate,value:{value:f.store.state.value,validationSource:"field",fieldApi:f},type:"validate"})):void 0,m=r[h],{newErrorValue:v,newSource:g}=$r({formLevelError:m,fieldLevelError:u});f.state.meta.errorMap?.[h]!==v&&f.setMeta(y=>({...y,errorMap:{...y.errorMap,[h]:v},errorSourceMap:{...y.errorSourceMap,[h]:g}})),v&&(i=!0)};for(const f of o)d(this,f);for(const f of a)f.validate&&d(f.field,f)});const c=Tt("submit");return this.state.meta.errorMap?.[c]&&n!=="submit"&&!i&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[c]:void 0},errorSourceMap:{...d.errorSourceMap,[c]:void 0}})),{hasErrored:i}},this.validateAsync=async(n,r)=>{const o=Nn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ge}),s=await r,a=this.getLinkedFields(n),i=a.reduce((u,m)=>{const v=Nn(n,{...m.options,form:m.form,validationLogic:m.form.options.validationLogic||Ge});return v.forEach(g=>{g.field=m}),u.concat(v)},[]),c=[],d=[],f=o.some(u=>u.validate)||i.some(u=>u.validate);if(f){this.state.meta.isValidating||this.setMeta(u=>({...u,isValidating:!0}));for(const u of a)u.setMeta(m=>({...m,isValidating:!0}))}const l=(u,m,v)=>{const g=Tt(m.cause);u.getInfo().validationMetaMap[g]?.lastAbortController.abort();const D=new AbortController;this.getInfo().validationMetaMap[g]={lastAbortController:D},v.push(new Promise(async M=>{let k;try{k=await new Promise(($,Z)=>{this.timeoutIds.validations[m.cause]&&clearTimeout(this.timeoutIds.validations[m.cause]),this.timeoutIds.validations[m.cause]=setTimeout(async()=>{if(D.signal.aborted)return $(void 0);try{$(await this.runValidator({validate:m.validate,value:{value:u.store.state.value,fieldApi:u,signal:D.signal,validationSource:"field"},type:"validateAsync"}))}catch(Q){Z(Q)}},m.debounceMs)})}catch($){k=$}if(D.signal.aborted)return M(void 0);const S=Wr(k),_=s[this.name]?.[g],{newErrorValue:C,newSource:F}=$r({formLevelError:_,fieldLevelError:S});u.setMeta($=>({...$,errorMap:{...$?.errorMap,[g]:C},errorSourceMap:{...$.errorSourceMap,[g]:F}})),M(C)}))};for(const u of o)u.validate&&l(this,u,c);for(const u of i)u.validate&&l(u.field,u,d);let h=[];if((c.length||d.length)&&(h=await Promise.all(c),await Promise.all(d)),f){this.setMeta(u=>({...u,isValidating:!1}));for(const u of a)u.setMeta(m=>({...m,isValidating:!1}))}return h.filter(Boolean)},this.validate=(n,r)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:s}=this.validateSync(n,o[this.name]??{});if(s&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[Tt(n)]?.lastAbortController.abort(),this.state.meta.errors;const a=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=n=>{this.setMeta(r=>({...r,errorMap:{...r.errorMap,...n}}))},this.parseValueWithSchema=n=>je.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>je.validateAsync({value:this.state.value,validationSource:"field"},n),this.triggerOnChangeListener=()=>{const n=this.form.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const r=this.options.listeners?.onChangeDebounceMs;r&&r>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},r)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.options=t,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new xe({deps:[this.form.store],fn:({prevVal:n})=>{const r=n,o=this.form.getFieldMeta(this.name)??{...Je,...t.defaultMeta};let s=this.form.getFieldValue(this.name);return!o.isTouched&&s===void 0&&this.options.defaultValue!==void 0&&!ze(s,this.options.defaultValue)&&(s=this.options.defaultValue),r&&r.value===s&&r.meta===o?r:{value:s,meta:o}}})}get state(){return this.store.state}runValidator(t){return as(t.validate)?je[t.type](t.value,t.validate):t.validate(t.value)}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function Wr(e){if(e)return e}function Tt(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}function Ce(e,t=r=>r,n={}){const r=n.equal??Hl;return si.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function Hl(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!t.has(r)||!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Zr(e);if(n.length!==Zr(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Zr(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const Lt=typeof window<"u"?w.useLayoutEffect:w.useEffect;function ql(e){const[t,n]=w.useState(()=>({form:e.form,name:e.name})),[r,o]=w.useState(()=>new Vr({...e}));(t.form!==e.form||t.name!==e.name)&&(o(new Vr({...e})),n({form:e.form,name:e.name}));const s=Ce(r.store,e.mode==="array"?u=>Object.keys(u.value??[]).length:u=>u.value),a=Ce(r.store,u=>u.meta.isTouched),i=Ce(r.store,u=>u.meta.isBlurred),c=Ce(r.store,u=>u.meta.isDirty),d=Ce(r.store,u=>u.meta.errorMap),f=Ce(r.store,u=>u.meta.errorSourceMap),l=Ce(r.store,u=>u.meta.isValidating),h=w.useMemo(()=>{const m={...r,get state(){return{value:e.mode==="array"?r.state.value:s,get meta(){return{...r.state.meta,isTouched:a,isBlurred:i,isDirty:c,errorMap:d,errorSourceMap:f,isValidating:l}}}}};return m.Field=is,m},[r,e.mode,s,a,i,c,d,f,l]);return Lt(r.mount,[r]),Lt(()=>{r.update(e)}),h}const is=(({children:e,...t})=>{const n=ql(t),r=w.useMemo(()=>Jt(e,n),[e,n]);return p.jsx(p.Fragment,{children:r})});function Gl(){return w.useState(()=>ss())[0]}const Jl=w.version.split(".")[0]==="17"?Gl:w.useId;function Kl({form:e,selector:t,children:n}){const r=Ce(e.store,t);return p.jsx(p.Fragment,{children:Jt(n,r)})}function Xl(e){const t=Jl(),[n,r]=w.useState(e?.formId),[o,s]=w.useState(()=>new jr({...e,formId:e?.formId??t}));if(n!==e?.formId){const i=e?.formId??t;s(new jr({...e,formId:i})),r(i)}const a=w.useMemo(()=>{const i={...o,handleSubmit:((...c)=>o._handleSubmit(...c)),get formId(){return o._formId},get state(){return o.store.state}};return i.Field=function(d){return p.jsx(is,{...d,form:o})},i.Subscribe=function(d){return p.jsx(Kl,{form:o,selector:d.selector,children:d.children})},i},[o]);return Lt(o.mount,[]),Lt(()=>{o.update(e)}),a}function b(e,t,n){function r(i,c){if(i._zod||Object.defineProperty(i,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),i._zod.traits.has(e))return;i._zod.traits.add(e),t(i,c);const d=a.prototype,f=Object.keys(d);for(let l=0;l<f.length;l++){const h=f[l];h in i||(i[h]=d[h].bind(i))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function a(i){var c;const d=n?.Parent?new s:this;r(d,i),(c=d._zod).deferred??(c.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:i=>n?.Parent&&i instanceof n.Parent?!0:i?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class tt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class cs extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const us={};function We(e){return us}function ls(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Fn(e,t){return typeof t=="bigint"?t.toString():t}function Xn(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Qn(e){return e==null}function er(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Lr=Symbol("evaluating");function W(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Lr)return r===void 0&&(r=Lr,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Ye(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Te(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Yr(e){return JSON.stringify(e)}function Ql(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ds="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Yt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ed=Xn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function vt(e){if(Yt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Yt(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function fs(e){return vt(e)?{...e}:Array.isArray(e)?[...e]:e}const td=new Set(["string","number","symbol"]);function ot(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function nd(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function rd(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Te(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=n.shape[i])}return Ye(this,"shape",a),a},checks:[]});return Fe(e,s)}function od(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Te(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return Ye(this,"shape",a),a},checks:[]});return Fe(e,s)}function sd(e,t){if(!vt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=Te(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ye(this,"shape",s),s}});return Fe(e,o)}function ad(e,t){if(!vt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Te(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Ye(this,"shape",r),r}});return Fe(e,n)}function id(e,t){const n=Te(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ye(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Fe(e,n)}function cd(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Te(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const d in n){if(!(d in i))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(c[d]=e?new e({type:"optional",innerType:i[d]}):i[d])}else for(const d in i)c[d]=e?new e({type:"optional",innerType:i[d]}):i[d];return Ye(this,"shape",c),c},checks:[]});return Fe(t,a)}function ud(e,t,n){const r=Te(t._zod.def,{get shape(){const o=t._zod.def.shape,s={...o};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:o[a]}))}else for(const a in o)s[a]=new e({type:"nonoptional",innerType:o[a]});return Ye(this,"shape",s),s}});return Fe(t,r)}function Ke(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function hs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ft(e){return typeof e=="string"?e:e?.message}function Ze(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Ft(e.inst?._zod.def?.error?.(e))??Ft(t?.error?.(e))??Ft(n.customError?.(e))??Ft(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function tr(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function yt(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const ms=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Fn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ps=b("$ZodError",ms),gs=b("$ZodError",ms,{Parent:Error});function ld(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function dd(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,i=0;for(;i<s.path.length;){const c=s.path[i];i===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(s))):a[c]=a[c]||{_errors:[]},a=a[c],i++}}};return r(e),n}const nr=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new tt;if(a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Ze(c,s,We())));throw ds(i,o?.callee),i}return a.value},rr=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Ze(c,s,We())));throw ds(i,o?.callee),i}return a.value},Kt=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new tt;return s.issues.length?{success:!1,error:new(e??ps)(s.issues.map(a=>Ze(a,o,We())))}:{success:!0,data:s.value}},fd=Kt(gs),Xt=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>Ze(a,o,We())))}:{success:!0,data:s.value}},hd=Xt(gs),md=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return nr(e)(t,n,o)},pd=e=>(t,n,r)=>nr(e)(t,n,r),gd=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rr(e)(t,n,o)},vd=e=>async(t,n,r)=>rr(e)(t,n,r),yd=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Kt(e)(t,n,o)},bd=e=>(t,n,r)=>Kt(e)(t,n,r),wd=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xt(e)(t,n,o)},_d=e=>async(t,n,r)=>Xt(e)(t,n,r),Md=/^[cC][^\s-]{8,}$/,kd=/^[0-9a-z]+$/,Sd=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Od=/^[0-9a-vA-V]{20}$/,Dd=/^[A-Za-z0-9]{27}$/,xd=/^[a-zA-Z0-9_-]{21}$/,Ed=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Cd=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Rr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,zd=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Nd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Td(){return new RegExp(Nd,"u")}const Fd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pd=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Id=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$d=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ad=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,vs=/^[A-Za-z0-9_-]*$/,jd=/^\+[1-9]\d{6,14}$/,ys="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Vd=new RegExp(`^${ys}$`);function bs(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Wd(e){return new RegExp(`^${bs(e)}$`)}function Zd(e){const t=bs({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${ys}T(?:${r})$`)}const Ld=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Yd=/^[^A-Z]*$/,Rd=/^[^a-z]*$/,Me=b("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Bd=b("$ZodCheckMaxLength",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Qn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const a=tr(o);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Ud=b("$ZodCheckMinLength",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Qn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const a=tr(o);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Hd=b("$ZodCheckLengthEquals",(e,t)=>{var n;Me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Qn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,s=o.length;if(s===t.length)return;const a=tr(o),i=s>t.length;r.issues.push({origin:a,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Qt=b("$ZodCheckStringFormat",(e,t)=>{var n,r;Me.init(e,t),e._zod.onattach.push(o=>{const s=o._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),qd=b("$ZodCheckRegex",(e,t)=>{Qt.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gd=b("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Yd),Qt.init(e,t)}),Jd=b("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Rd),Qt.init(e,t)}),Kd=b("$ZodCheckIncludes",(e,t)=>{Me.init(e,t);const n=ot(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),Xd=b("$ZodCheckStartsWith",(e,t)=>{Me.init(e,t);const n=new RegExp(`^${ot(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Qd=b("$ZodCheckEndsWith",(e,t)=>{Me.init(e,t);const n=new RegExp(`.*${ot(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),ef=b("$ZodCheckOverwrite",(e,t)=>{Me.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class tf{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,o.join(`
`))}}const nf={major:4,minor:3,patch:6},q=b("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=nf;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(a,i,c)=>{let d=Ke(a),f;for(const l of i){if(l._zod.def.when){if(!l._zod.def.when(a))continue}else if(d)continue;const h=a.issues.length,u=l._zod.check(a);if(u instanceof Promise&&c?.async===!1)throw new tt;if(f||u instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await u,a.issues.length!==h&&(d||(d=Ke(a,h)))});else{if(a.issues.length===h)continue;d||(d=Ke(a,h))}}return f?f.then(()=>a):a},s=(a,i,c)=>{if(Ke(a))return a.aborted=!0,a;const d=o(i,r,c);if(d instanceof Promise){if(c.async===!1)throw new tt;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,i)=>{if(i.skipChecks)return e._zod.parse(a,i);if(i.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...i,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,a,i)):s(d,a,i)}const c=e._zod.parse(a,i);if(c instanceof Promise){if(i.async===!1)throw new tt;return c.then(d=>o(d,r,i))}return o(c,r,i)}}W(e,"~standard",()=>({validate:o=>{try{const s=fd(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return hd(e,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),or=b("$ZodString",(e,t)=>{q.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ld(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Y=b("$ZodStringFormat",(e,t)=>{Qt.init(e,t),or.init(e,t)}),rf=b("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Cd),Y.init(e,t)}),of=b("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Rr(r))}else t.pattern??(t.pattern=Rr());Y.init(e,t)}),sf=b("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=zd),Y.init(e,t)}),af=b("$ZodURL",(e,t)=>{Y.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),cf=b("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Td()),Y.init(e,t)}),uf=b("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=xd),Y.init(e,t)}),lf=b("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Md),Y.init(e,t)}),df=b("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=kd),Y.init(e,t)}),ff=b("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Sd),Y.init(e,t)}),hf=b("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Od),Y.init(e,t)}),mf=b("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Dd),Y.init(e,t)}),pf=b("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Zd(t)),Y.init(e,t)}),gf=b("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Vd),Y.init(e,t)}),vf=b("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Wd(t)),Y.init(e,t)}),yf=b("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ed),Y.init(e,t)}),bf=b("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Fd),Y.init(e,t),e._zod.bag.format="ipv4"}),wf=b("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Pd),Y.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),_f=b("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Id),Y.init(e,t)}),Mf=b("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$d),Y.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ws(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const kf=b("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Ad),Y.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{ws(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Sf(e){if(!vs.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return ws(n)}const Of=b("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=vs),Y.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Sf(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Df=b("$ZodE164",(e,t)=>{t.pattern??(t.pattern=jd),Y.init(e,t)});function xf(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const Ef=b("$ZodJWT",(e,t)=>{Y.init(e,t),e._zod.check=n=>{xf(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Cf=b("$ZodUnknown",(e,t)=>{q.init(e,t),e._zod.parse=n=>n}),zf=b("$ZodNever",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Br(e,t,n){e.issues.length&&t.issues.push(...hs(n,e.issues)),t.value[n]=e.value}const Nf=b("$ZodArray",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let a=0;a<o.length;a++){const i=o[a],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?s.push(c.then(d=>Br(d,n,a))):Br(c,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Rt(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...hs(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function _s(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=nd(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ms(e,t,n,r,o,s){const a=[],i=o.keySet,c=o.catchall._zod,d=c.def.type,f=c.optout==="optional";for(const l in t){if(i.has(l))continue;if(d==="never"){a.push(l);continue}const h=c.run({value:t[l],issues:[]},r);h instanceof Promise?e.push(h.then(u=>Rt(u,n,l,t,f))):Rt(h,n,l,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const Tf=b("$ZodObject",(e,t)=>{if(q.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const i=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...i};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Xn(()=>_s(t));W(e._zod,"propValues",()=>{const i=t.shape,c={};for(const d in i){const f=i[d]._zod;if(f.values){c[d]??(c[d]=new Set);for(const l of f.values)c[d].add(l)}}return c});const o=Yt,s=t.catchall;let a;e._zod.parse=(i,c)=>{a??(a=r.value);const d=i.value;if(!o(d))return i.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),i;i.value={};const f=[],l=a.shape;for(const h of a.keys){const u=l[h],m=u._zod.optout==="optional",v=u._zod.run({value:d[h],issues:[]},c);v instanceof Promise?f.push(v.then(g=>Rt(g,i,h,d,m))):Rt(v,i,h,d,m)}return s?Ms(f,d,i,c,r.value,e):f.length?Promise.all(f).then(()=>i):i}}),Ff=b("$ZodObjectJIT",(e,t)=>{Tf.init(e,t);const n=e._zod.parse,r=Xn(()=>_s(t)),o=h=>{const u=new tf(["shape","payload","ctx"]),m=r.value,v=M=>{const k=Yr(M);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};u.write("const input = payload.value;");const g=Object.create(null);let y=0;for(const M of m.keys)g[M]=`key_${y++}`;u.write("const newResult = {};");for(const M of m.keys){const k=g[M],S=Yr(M),C=h[M]?._zod?.optout==="optional";u.write(`const ${k} = ${v(M)};`),C?u.write(`
        if (${k}.issues.length) {
          if (${S} in input) {
            payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${S}, ...iss.path] : [${S}]
            })));
          }
        }
        
        if (${k}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${k}.value;
        }
        
      `):u.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        if (${k}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${k}.value;
        }
        
      `)}u.write("payload.value = newResult;"),u.write("return payload;");const D=u.compile();return(M,k)=>D(h,M,k)};let s;const a=Yt,i=!us.jitless,d=i&&ed.value,f=t.catchall;let l;e._zod.parse=(h,u)=>{l??(l=r.value);const m=h.value;return a(m)?i&&d&&u?.async===!1&&u.jitless!==!0?(s||(s=o(t.shape)),h=s(h,u),f?Ms([],m,h,u,l,e):h):n(h,u):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function Ur(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Ke(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>Ze(a,r,We())))}),t)}const Pf=b("$ZodUnion",(e,t)=>{q.init(e,t),W(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),W(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),W(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),W(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>er(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let a=!1;const i=[];for(const c of t.options){const d=c._zod.run({value:o.value,issues:[]},s);if(d instanceof Promise)i.push(d),a=!0;else{if(d.issues.length===0)return d;i.push(d)}}return a?Promise.all(i).then(c=>Ur(c,o,e,s)):Ur(i,o,e,s)}}),If=b("$ZodIntersection",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,s=t.left._zod.run({value:o,issues:[]},r),a=t.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,d])=>Hr(n,c,d)):Hr(n,s,a)}});function Pn(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(vt(e)&&vt(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),o={...e,...t};for(const s of r){const a=Pn(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};o[s]=a.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r],a=Pn(o,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Hr(e,t,n){const r=new Map;let o;for(const i of t.issues)if(i.code==="unrecognized_keys"){o??(o=i);for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else e.issues.push(i);for(const i of n.issues)if(i.code==="unrecognized_keys")for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else e.issues.push(i);const s=[...r].filter(([,i])=>i.l&&i.r).map(([i])=>i);if(s.length&&o&&e.issues.push({...o,keys:s}),Ke(e))return e;const a=Pn(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const $f=b("$ZodEnum",(e,t)=>{q.init(e,t);const n=ls(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>td.has(typeof o)).map(o=>typeof o=="string"?ot(o):o.toString()).join("|")})$`),e._zod.parse=(o,s)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:e}),o}}),Af=b("$ZodLiteral",(e,t)=>{if(q.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ot(r):r?ot(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),jf=b("$ZodTransform",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new cs(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new tt;return n.value=o,n}});function qr(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ks=b("$ZodOptional",(e,t)=>{q.init(e,t),e._zod.optin="optional",e._zod.optout="optional",W(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),W(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${er(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>qr(s,n.value)):qr(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Vf=b("$ZodExactOptional",(e,t)=>{ks.init(e,t),W(e._zod,"values",()=>t.innerType._zod.values),W(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Wf=b("$ZodNullable",(e,t)=>{q.init(e,t),W(e._zod,"optin",()=>t.innerType._zod.optin),W(e._zod,"optout",()=>t.innerType._zod.optout),W(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${er(n.source)}|null)$`):void 0}),W(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Zf=b("$ZodDefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Gr(s,t)):Gr(o,t)}});function Gr(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Lf=b("$ZodPrefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Yf=b("$ZodNonOptional",(e,t)=>{q.init(e,t),W(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Jr(s,e)):Jr(o,e)}});function Jr(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Rf=b("$ZodCatch",(e,t)=>{q.init(e,t),W(e._zod,"optin",()=>t.innerType._zod.optin),W(e._zod,"optout",()=>t.innerType._zod.optout),W(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>Ze(a,r,We()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Ze(s,r,We()))},input:n.value}),n.issues=[]),n)}}),Bf=b("$ZodPipe",(e,t)=>{q.init(e,t),W(e._zod,"values",()=>t.in._zod.values),W(e._zod,"optin",()=>t.in._zod.optin),W(e._zod,"optout",()=>t.out._zod.optout),W(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(a=>Pt(a,t.in,r)):Pt(s,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(s=>Pt(s,t.out,r)):Pt(o,t.out,r)}});function Pt(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Uf=b("$ZodReadonly",(e,t)=>{q.init(e,t),W(e._zod,"propValues",()=>t.innerType._zod.propValues),W(e._zod,"values",()=>t.innerType._zod.values),W(e._zod,"optin",()=>t.innerType?._zod?.optin),W(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Kr):Kr(o)}});function Kr(e){return e.value=Object.freeze(e.value),e}const Hf=b("$ZodCustom",(e,t)=>{Me.init(e,t),q.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(s=>Xr(s,n,r,e));Xr(o,n,r,e)}});function Xr(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(yt(o))}}var Qr;class qf{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Gf(){return new qf}(Qr=globalThis).__zod_globalRegistry??(Qr.__zod_globalRegistry=Gf());const ft=globalThis.__zod_globalRegistry;function Jf(e,t){return new e({type:"string",...z(t)})}function Kf(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function eo(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function Xf(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function Qf(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function eh(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function th(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function nh(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function rh(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function oh(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function sh(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function ah(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function ih(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function ch(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function uh(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function lh(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function dh(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function fh(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function hh(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function mh(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function ph(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function gh(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function vh(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function yh(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function bh(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function wh(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function _h(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function Mh(e){return new e({type:"unknown"})}function kh(e,t){return new e({type:"never",...z(t)})}function Ss(e,t){return new Bd({check:"max_length",...z(t),maximum:e})}function Bt(e,t){return new Ud({check:"min_length",...z(t),minimum:e})}function Os(e,t){return new Hd({check:"length_equals",...z(t),length:e})}function Sh(e,t){return new qd({check:"string_format",format:"regex",...z(t),pattern:e})}function Oh(e){return new Gd({check:"string_format",format:"lowercase",...z(e)})}function Dh(e){return new Jd({check:"string_format",format:"uppercase",...z(e)})}function xh(e,t){return new Kd({check:"string_format",format:"includes",...z(t),includes:e})}function Eh(e,t){return new Xd({check:"string_format",format:"starts_with",...z(t),prefix:e})}function Ch(e,t){return new Qd({check:"string_format",format:"ends_with",...z(t),suffix:e})}function at(e){return new ef({check:"overwrite",tx:e})}function zh(e){return at(t=>t.normalize(e))}function Nh(){return at(e=>e.trim())}function Th(){return at(e=>e.toLowerCase())}function Fh(){return at(e=>e.toUpperCase())}function Ph(){return at(e=>Ql(e))}function Ih(e,t,n){return new e({type:"array",element:t,...z(n)})}function $h(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function Ah(e){const t=jh(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(yt(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(yt(o))}},e(n.value,n)));return t}function jh(e,t){const n=new Me({check:"custom",...z(t)});return n._zod.check=e,n}function Ds(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ft,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function X(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const i=e._zod.toJSONSchema?.();if(i)a.schema=i;else{const f={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,f);else{const h=a.schema,u=t.processors[o.type];if(!u)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);u(e,t,h,f)}const l=e._zod.parent;l&&(a.ref||(a.ref=l),X(l,t,f),t.seen.get(l).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&te(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function xs(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of e.seen.entries()){const i=e.metadataRegistry.get(a[0])?.id;if(i){const c=r.get(i);if(c&&c!==a[0])throw new Error(`Duplicate schema id "${i}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(i,a[0])}}const o=a=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const l=e.external.registry.get(a[0])?.id,h=e.external.uri??(m=>m);if(l)return{ref:h(l)};const u=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=u,{defId:u,ref:`${h("__shared")}#/${i}/${u}`}}if(a[1]===n)return{ref:"#"};const d=`#/${i}/`,f=a[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},s=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:d}=o(a);i.def={...i.schema},d&&(i.defId=d);const f=i.schema;for(const l in f)delete f[l];f.$ref=c};if(e.cycles==="throw")for(const a of e.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const i=a[1];if(t===a[0]){s(a);continue}if(e.external){const d=e.external.registry.get(a[0])?.id;if(t!==a[0]&&d){s(a);continue}}if(e.metadataRegistry.get(a[0])?.id){s(a);continue}if(i.cycle){s(a);continue}if(i.count>1&&e.reused==="ref"){s(a);continue}}}function Es(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const i=e.seen.get(a);if(i.ref===null)return;const c=i.def??i.schema,d={...c},f=i.ref;if(i.ref=null,f){r(f);const h=e.seen.get(f),u=h.schema;if(u.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(u)):Object.assign(c,u),Object.assign(c,d),a._zod.parent===f)for(const v in c)v==="$ref"||v==="allOf"||v in d||delete c[v];if(u.$ref&&h.def)for(const v in c)v==="$ref"||v==="allOf"||v in h.def&&JSON.stringify(c[v])===JSON.stringify(h.def[v])&&delete c[v]}const l=a._zod.parent;if(l&&l!==f){r(l);const h=e.seen.get(l);if(h?.schema.$ref&&(c.$ref=h.schema.$ref,h.def))for(const u in c)u==="$ref"||u==="allOf"||u in h.def&&JSON.stringify(c[u])===JSON.stringify(h.def[u])&&delete c[u]}e.override({zodSchema:a,jsonSchema:c,path:i.path??[]})};for(const a of[...e.seen.entries()].reverse())r(a[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(a)}Object.assign(o,n.def??n.schema);const s=e.external?.defs??{};for(const a of e.seen.entries()){const i=a[1];i.def&&i.defId&&(s[i.defId]=i.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?o.$defs=s:o.definitions=s);try{const a=JSON.parse(JSON.stringify(o));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Ut(t,"input",e.processors),output:Ut(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function te(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return te(r.element,n);if(r.type==="set")return te(r.valueType,n);if(r.type==="lazy")return te(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return te(r.innerType,n);if(r.type==="intersection")return te(r.left,n)||te(r.right,n);if(r.type==="record"||r.type==="map")return te(r.keyType,n)||te(r.valueType,n);if(r.type==="pipe")return te(r.in,n)||te(r.out,n);if(r.type==="object"){for(const o in r.shape)if(te(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(te(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(te(o,n))return!0;return!!(r.rest&&te(r.rest,n))}return!1}const Vh=(e,t={})=>n=>{const r=Ds({...n,processors:t});return X(e,r),xs(r,e),Es(r,e)},Ut=(e,t,n={})=>r=>{const{libraryOptions:o,target:s}=r??{},a=Ds({...o??{},target:s,io:t,processors:n});return X(e,a),xs(a,e),Es(a,e)},Wh={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Zh=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:s,maximum:a,format:i,patterns:c,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof a=="number"&&(o.maxLength=a),i&&(o.format=Wh[i]??i,o.format===""&&delete o.format,i==="time"&&delete o.format),d&&(o.contentEncoding=d),c&&c.size>0){const f=[...c];f.length===1?o.pattern=f[0].source:f.length>1&&(o.allOf=[...f.map(l=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:l.source}))])}},Lh=(e,t,n,r)=>{n.not={}},Yh=(e,t,n,r)=>{},Rh=(e,t,n,r)=>{const o=e._zod.def,s=ls(o.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},Bh=(e,t,n,r)=>{const o=e._zod.def,s=[];for(const a of o.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(a))}else s.push(a);if(s.length!==0)if(s.length===1){const a=s[0];n.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[a]:n.const=a}else s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),s.every(a=>typeof a=="boolean")&&(n.type="boolean"),s.every(a=>a===null)&&(n.type="null"),n.enum=s},Uh=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Hh=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},qh=(e,t,n,r)=>{const o=n,s=e._zod.def,{minimum:a,maximum:i}=e._zod.bag;typeof a=="number"&&(o.minItems=a),typeof i=="number"&&(o.maxItems=i),o.type="array",o.items=X(s.element,t,{...r,path:[...r.path,"items"]})},Gh=(e,t,n,r)=>{const o=n,s=e._zod.def;o.type="object",o.properties={};const a=s.shape;for(const d in a)o.properties[d]=X(a[d],t,{...r,path:[...r.path,"properties",d]});const i=new Set(Object.keys(a)),c=new Set([...i].filter(d=>{const f=s.shape[d]._zod;return t.io==="input"?f.optin===void 0:f.optout===void 0}));c.size>0&&(o.required=Array.from(c)),s.catchall?._zod.def.type==="never"?o.additionalProperties=!1:s.catchall?s.catchall&&(o.additionalProperties=X(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},Jh=(e,t,n,r)=>{const o=e._zod.def,s=o.inclusive===!1,a=o.options.map((i,c)=>X(i,t,{...r,path:[...r.path,s?"oneOf":"anyOf",c]}));s?n.oneOf=a:n.anyOf=a},Kh=(e,t,n,r)=>{const o=e._zod.def,s=X(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=X(o.right,t,{...r,path:[...r.path,"allOf",1]}),i=d=>"allOf"in d&&Object.keys(d).length===1,c=[...i(s)?s.allOf:[s],...i(a)?a.allOf:[a]];n.allOf=c},Xh=(e,t,n,r)=>{const o=e._zod.def,s=X(o.innerType,t,r),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Qh=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},em=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},tm=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},nm=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},rm=(e,t,n,r)=>{const o=e._zod.def,s=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;X(s,t,r);const a=t.seen.get(e);a.ref=s},om=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.readOnly=!0},Cs=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},sm=b("ZodISODateTime",(e,t)=>{pf.init(e,t),U.init(e,t)});function am(e){return yh(sm,e)}const im=b("ZodISODate",(e,t)=>{gf.init(e,t),U.init(e,t)});function cm(e){return bh(im,e)}const um=b("ZodISOTime",(e,t)=>{vf.init(e,t),U.init(e,t)});function lm(e){return wh(um,e)}const dm=b("ZodISODuration",(e,t)=>{yf.init(e,t),U.init(e,t)});function fm(e){return _h(dm,e)}const hm=(e,t)=>{ps.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>dd(e,n)},flatten:{value:n=>ld(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Fn,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Fn,2)}},isEmpty:{get(){return e.issues.length===0}}})},de=b("ZodError",hm,{Parent:Error}),mm=nr(de),pm=rr(de),gm=Kt(de),vm=Xt(de),ym=md(de),bm=pd(de),wm=gd(de),_m=vd(de),Mm=yd(de),km=bd(de),Sm=wd(de),Om=_d(de),G=b("ZodType",(e,t)=>(q.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Ut(e,"input"),output:Ut(e,"output")}}),e.toJSONSchema=Vh(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Te(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Fe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>mm(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>gm(e,n,r),e.parseAsync=async(n,r)=>pm(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>vm(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ym(e,n,r),e.decode=(n,r)=>bm(e,n,r),e.encodeAsync=async(n,r)=>wm(e,n,r),e.decodeAsync=async(n,r)=>_m(e,n,r),e.safeEncode=(n,r)=>Mm(e,n,r),e.safeDecode=(n,r)=>km(e,n,r),e.safeEncodeAsync=async(n,r)=>Sm(e,n,r),e.safeDecodeAsync=async(n,r)=>Om(e,n,r),e.refine=(n,r)=>e.check(bp(n,r)),e.superRefine=n=>e.check(wp(n)),e.overwrite=n=>e.check(at(n)),e.optional=()=>ro(e),e.exactOptional=()=>ap(e),e.nullable=()=>oo(e),e.nullish=()=>ro(oo(e)),e.nonoptional=n=>fp(e,n),e.array=()=>qm(e),e.or=n=>Ns([e,n]),e.and=n=>Qm(e,n),e.transform=n=>so(e,op(n)),e.default=n=>up(e,n),e.prefault=n=>dp(e,n),e.catch=n=>mp(e,n),e.pipe=n=>so(e,n),e.readonly=()=>vp(e),e.describe=n=>{const r=e.clone();return ft.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return ft.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return ft.get(e);const r=e.clone();return ft.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),zs=b("_ZodString",(e,t)=>{or.init(e,t),G.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Zh(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Sh(...r)),e.includes=(...r)=>e.check(xh(...r)),e.startsWith=(...r)=>e.check(Eh(...r)),e.endsWith=(...r)=>e.check(Ch(...r)),e.min=(...r)=>e.check(Bt(...r)),e.max=(...r)=>e.check(Ss(...r)),e.length=(...r)=>e.check(Os(...r)),e.nonempty=(...r)=>e.check(Bt(1,...r)),e.lowercase=r=>e.check(Oh(r)),e.uppercase=r=>e.check(Dh(r)),e.trim=()=>e.check(Nh()),e.normalize=(...r)=>e.check(zh(...r)),e.toLowerCase=()=>e.check(Th()),e.toUpperCase=()=>e.check(Fh()),e.slugify=()=>e.check(Ph())}),Dm=b("ZodString",(e,t)=>{or.init(e,t),zs.init(e,t),e.email=n=>e.check(Kf(xm,n)),e.url=n=>e.check(nh(Em,n)),e.jwt=n=>e.check(vh(Ym,n)),e.emoji=n=>e.check(rh(Cm,n)),e.guid=n=>e.check(eo(to,n)),e.uuid=n=>e.check(Xf(It,n)),e.uuidv4=n=>e.check(Qf(It,n)),e.uuidv6=n=>e.check(eh(It,n)),e.uuidv7=n=>e.check(th(It,n)),e.nanoid=n=>e.check(oh(zm,n)),e.guid=n=>e.check(eo(to,n)),e.cuid=n=>e.check(sh(Nm,n)),e.cuid2=n=>e.check(ah(Tm,n)),e.ulid=n=>e.check(ih(Fm,n)),e.base64=n=>e.check(mh(Wm,n)),e.base64url=n=>e.check(ph(Zm,n)),e.xid=n=>e.check(ch(Pm,n)),e.ksuid=n=>e.check(uh(Im,n)),e.ipv4=n=>e.check(lh($m,n)),e.ipv6=n=>e.check(dh(Am,n)),e.cidrv4=n=>e.check(fh(jm,n)),e.cidrv6=n=>e.check(hh(Vm,n)),e.e164=n=>e.check(gh(Lm,n)),e.datetime=n=>e.check(am(n)),e.date=n=>e.check(cm(n)),e.time=n=>e.check(lm(n)),e.duration=n=>e.check(fm(n))});function ie(e){return Jf(Dm,e)}const U=b("ZodStringFormat",(e,t)=>{Y.init(e,t),zs.init(e,t)}),xm=b("ZodEmail",(e,t)=>{sf.init(e,t),U.init(e,t)}),to=b("ZodGUID",(e,t)=>{rf.init(e,t),U.init(e,t)}),It=b("ZodUUID",(e,t)=>{of.init(e,t),U.init(e,t)}),Em=b("ZodURL",(e,t)=>{af.init(e,t),U.init(e,t)}),Cm=b("ZodEmoji",(e,t)=>{cf.init(e,t),U.init(e,t)}),zm=b("ZodNanoID",(e,t)=>{uf.init(e,t),U.init(e,t)}),Nm=b("ZodCUID",(e,t)=>{lf.init(e,t),U.init(e,t)}),Tm=b("ZodCUID2",(e,t)=>{df.init(e,t),U.init(e,t)}),Fm=b("ZodULID",(e,t)=>{ff.init(e,t),U.init(e,t)}),Pm=b("ZodXID",(e,t)=>{hf.init(e,t),U.init(e,t)}),Im=b("ZodKSUID",(e,t)=>{mf.init(e,t),U.init(e,t)}),$m=b("ZodIPv4",(e,t)=>{bf.init(e,t),U.init(e,t)}),Am=b("ZodIPv6",(e,t)=>{wf.init(e,t),U.init(e,t)}),jm=b("ZodCIDRv4",(e,t)=>{_f.init(e,t),U.init(e,t)}),Vm=b("ZodCIDRv6",(e,t)=>{Mf.init(e,t),U.init(e,t)}),Wm=b("ZodBase64",(e,t)=>{kf.init(e,t),U.init(e,t)}),Zm=b("ZodBase64URL",(e,t)=>{Of.init(e,t),U.init(e,t)}),Lm=b("ZodE164",(e,t)=>{Df.init(e,t),U.init(e,t)}),Ym=b("ZodJWT",(e,t)=>{Ef.init(e,t),U.init(e,t)}),Rm=b("ZodUnknown",(e,t)=>{Cf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Yh()});function no(){return Mh(Rm)}const Bm=b("ZodNever",(e,t)=>{zf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Lh(e,n,r)});function Um(e){return kh(Bm,e)}const Hm=b("ZodArray",(e,t)=>{Nf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>qh(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Bt(n,r)),e.nonempty=n=>e.check(Bt(1,n)),e.max=(n,r)=>e.check(Ss(n,r)),e.length=(n,r)=>e.check(Os(n,r)),e.unwrap=()=>e.element});function qm(e,t){return Ih(Hm,e,t)}const Gm=b("ZodObject",(e,t)=>{Ff.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Gh(e,n,r,o),W(e,"shape",()=>t.shape),e.keyof=()=>ep(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:no()}),e.loose=()=>e.clone({...e._zod.def,catchall:no()}),e.strict=()=>e.clone({...e._zod.def,catchall:Um()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>sd(e,n),e.safeExtend=n=>ad(e,n),e.merge=n=>id(e,n),e.pick=n=>rd(e,n),e.omit=n=>od(e,n),e.partial=(...n)=>cd(Ts,e,n[0]),e.required=(...n)=>ud(Fs,e,n[0])});function Jm(e,t){const n={type:"object",shape:e??{},...z(t)};return new Gm(n)}const Km=b("ZodUnion",(e,t)=>{Pf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Jh(e,n,r,o),e.options=t.options});function Ns(e,t){return new Km({type:"union",options:e,...z(t)})}const Xm=b("ZodIntersection",(e,t)=>{If.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Kh(e,n,r,o)});function Qm(e,t){return new Xm({type:"intersection",left:e,right:t})}const In=b("ZodEnum",(e,t)=>{$f.init(e,t),G.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Rh(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const s={};for(const a of r)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new In({...t,checks:[],...z(o),entries:s})},e.exclude=(r,o)=>{const s={...t.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new In({...t,checks:[],...z(o),entries:s})}});function ep(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new In({type:"enum",entries:n,...z(t)})}const tp=b("ZodLiteral",(e,t)=>{Af.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Bh(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function np(e,t){return new tp({type:"literal",values:Array.isArray(e)?e:[e],...z(t)})}const rp=b("ZodTransform",(e,t)=>{jf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Hh(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new cs(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(yt(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(yt(a))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function op(e){return new rp({type:"transform",transform:e})}const Ts=b("ZodOptional",(e,t)=>{ks.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Cs(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function ro(e){return new Ts({type:"optional",innerType:e})}const sp=b("ZodExactOptional",(e,t)=>{Vf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Cs(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function ap(e){return new sp({type:"optional",innerType:e})}const ip=b("ZodNullable",(e,t)=>{Wf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Xh(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function oo(e){return new ip({type:"nullable",innerType:e})}const cp=b("ZodDefault",(e,t)=>{Zf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>em(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function up(e,t){return new cp({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():fs(t)}})}const lp=b("ZodPrefault",(e,t)=>{Lf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>tm(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function dp(e,t){return new lp({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():fs(t)}})}const Fs=b("ZodNonOptional",(e,t)=>{Yf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Qh(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function fp(e,t){return new Fs({type:"nonoptional",innerType:e,...z(t)})}const hp=b("ZodCatch",(e,t)=>{Rf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>nm(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function mp(e,t){return new hp({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const pp=b("ZodPipe",(e,t)=>{Bf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>rm(e,n,r,o),e.in=t.in,e.out=t.out});function so(e,t){return new pp({type:"pipe",in:e,out:t})}const gp=b("ZodReadonly",(e,t)=>{Uf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>om(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function vp(e){return new gp({type:"readonly",innerType:e})}const yp=b("ZodCustom",(e,t)=>{Hf.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Uh(e,n)});function bp(e,t={}){return $h(yp,e,t)}function wp(e){return Ah(e)}const _p=Jm({firstName:ie(),lastName:ie(),phone:ie().refine(e=>e===""||Pr(e),"מספר טלפון לא תקין"),homePhone:ie().refine(e=>e===""||Pr(e),"מספר טלפון לא תקין"),email:Ns([np(""),ie().email("כתובת אימייל לא תקינה")]),city:ie(),address:ie(),shiurYear:ie(),teudatZehut:ie().refine(e=>e===""||zl(e),"תעודת זהות לא תקינה"),birthDate:ie(),notes:ie(),studentCode:ie()}).refine(e=>Object.values(e).filter(n=>typeof n=="string"&&n.trim()!=="").length>0,{message:"יש להזין לפחות נתון אחד",path:["root"]}),Mp={teudat_zehut:"teudatZehut",first_name:"firstName",last_name:"lastName",phone:"phone",home_phone:"homePhone",email:"email",city:"city",address:"address",shiur_year:"shiurYear",birth_date:"birthDate",student_code:"studentCode",notes:"notes"};function Np(){const{id:e}=da(),t=fa(),{isSuperAdmin:n,isShiurManager:r,user:o}=Da(),[s,a]=w.useState(!1),[i,c]=w.useState(""),[d,f]=w.useState(!!e),l=Xl({defaultValues:{firstName:"",lastName:"",phone:"",homePhone:"",email:"",city:"",address:"",shiurYear:"",teudatZehut:"",birthDate:"",notes:"",studentCode:""},validatorAdapter:je,validators:{onChange:_p},onSubmit:async({value:u})=>{c("");try{if(r&&u.shiurYear&&!o?.shiurs?.includes(u.shiurYear))throw new Error("אין לך הרשאה לשייך בוגר למחזור שאינו בניהולך");const m={first_name:u.firstName,last_name:u.lastName,phone:xn(u.phone),home_phone:xn(u.homePhone),email:u.email,city:u.city,address:u.address,shiur_year:u.shiurYear||void 0,teudat_zehut:u.teudatZehut,birth_date:u.birthDate,notes:u.notes,student_code:n?u.studentCode:void 0};e?await ln.updateGraduate(e,m):await ln.createGraduate(m),t("/graduates")}catch(m){const v=m?.response?.data;if(v&&v.error==="VALIDATION_ERROR"&&v.field){const y=Mp[v.field];if(y){l.setFieldMeta(y,D=>({...D,errorMap:{onChange:v.message},errors:[v.message]})),c(v.message);return}}const g=m?.response?.data?.error?.message||(m instanceof Error?m.message:"אירעה שגיאה בשמירת הנתונים");c(g)}}});w.useEffect(()=>{e?(f(!0),ln.getGraduateById(e).then(u=>{l.setFieldValue("firstName",u.first_name||""),l.setFieldValue("lastName",u.last_name||""),l.setFieldValue("phone",u.phone||""),l.setFieldValue("homePhone",u.home_phone||""),l.setFieldValue("email",u.email||""),l.setFieldValue("city",u.city||""),l.setFieldValue("address",u.address||""),l.setFieldValue("shiurYear",u.shiur_year?.toString()||""),l.setFieldValue("teudatZehut",u.teudat_zehut||""),l.setFieldValue("birthDate",u.birth_date||""),l.setFieldValue("notes",u.notes||""),l.setFieldValue("studentCode",u.student_code||""),(u.teudat_zehut||u.birth_date||u.notes||u.student_code)&&a(!0)}).catch(u=>{console.error(u),c("לא ניתן לטעון את פרטי הבוגר")}).finally(()=>{f(!1)})):r&&o?.shiurs?.length===1&&l.setFieldValue("shiurYear",o.shiurs[0])},[e,r,o]);const h=n;return d?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx(dr,{className:"h-8 w-8 animate-spin text-primary"})}):p.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx(Xe,{variant:"ghost",size:"icon",onClick:()=>t("/graduates"),children:p.jsx(ca,{className:"h-5 w-5"})}),p.jsx("h1",{className:"text-2xl font-bold",children:e?"עריכת פרטי בוגר":"רישום בוגר חדש"})]}),p.jsxs("div",{className:"bg-card border rounded-lg p-6 shadow-sm",children:[p.jsx("p",{className:"text-muted-foreground mb-6",children:"שדות אינם חובה, אך נדרש למלא לפחות אחד מהם לשמירה."}),p.jsxs("form",{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),l.handleSubmit()},className:"grid gap-6",children:[(i||l.state.errors.length>0)&&p.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:[p.jsx(ua,{size:18}),p.jsx("span",{children:i||"יש להזין לפחות נתון אחד או לתקן את השגיאות"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"firstName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם פרטי"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"lastName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם משפחה"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"phone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"פלאפון"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"homePhone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"טלפון (בית)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"email",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"אימייל"}),p.jsx(me,{id:u.name,name:u.name,type:"email",value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"city",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"עיר"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"address",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"כתובת"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),placeholder:"רחוב ומס' בית"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"shiurYear",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"מחזור (שנה/אותיות)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value),placeholder:"לדוגמה: נח, פו"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"border rounded-md p-4 bg-muted/50",children:[p.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-medium hover:underline",onClick:()=>a(!s),children:["פרטים נוספים",s?p.jsx(la,{size:16}):p.jsx($n,{size:16})]}),s&&p.jsxs("div",{className:"mt-4 grid gap-4 animate-in slide-in-from-top-2 fade-in duration-200",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(l.Field,{name:"teudatZehut",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תעודת זהות"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),p.jsx(l.Field,{name:"birthDate",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תאריך לידה"}),p.jsx(Cl,{value:u.state.value,onChange:m=>u.handleChange(m)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]}),p.jsx(l.Field,{name:"notes",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"הערות"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})}),h&&p.jsx(l.Field,{name:"studentCode",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,className:"text-destructive font-semibold",children:"קוד תלמיד (מנהל)"}),p.jsx(me,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:m=>u.handleChange(m.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(m=>typeof m=="string"?m:m?.message||"שגיאה").join(", ")})]})})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx(Xe,{type:"button",variant:"outline",onClick:()=>t("/graduates"),disabled:l.state.isSubmitting,children:"ביטול"}),p.jsx(l.Subscribe,{selector:u=>[u.canSubmit,u.isSubmitting],children:([u,m])=>p.jsxs(Xe,{type:"submit",disabled:!u||m,children:[m&&p.jsx(dr,{className:"ml-2 h-4 w-4 animate-spin"}),e?"שמור שינויים":"שמור בוגר"]})})]})]})]})]})}export{Np as default};
