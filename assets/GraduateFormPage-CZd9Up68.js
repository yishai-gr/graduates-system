import{R as w,a as x,j as p,U as Hr,q as qr,X as zn,Y as Ps,w as Gr,Z as js,v as Jr,_ as As}from"./ui-J8zN8ojh.js";import{u as Kr,d as Ws}from"./vendor-DK4z8uX1.js";import{c as D,M as Pt,B as tt,a as Xr}from"./index-DNpSr7TS.js";import{u as Vs}from"./useDocumentTitle-mo0ffS8w.js";import{g as sn}from"./graduatesService-B-eS1lEg.js";import{I as ye}from"./input-p9w5ixzj.js";import{L as ae}from"./label-BwTpjIUa.js";import{H as K,g as jt}from"./calendar-A3vjW2LN.js";import{t as Y,c as de,g as rr,m as Zs,a as Qr,b as eo,d as Cn,e as Tn,f as Ys,h as Ls,i as He,j as to,l as Bs,k as Rs,n as Us,w as Hs,o as an,p as at,q as it,r as qs,s as Gs,u as Js,v as Ks,x as Xs}from"./parse-j4cdIc96.js";import{P as Qs,a as ea,b as ta}from"./popover-9AYq1YrO.js";import{T as na,a as ra,b as or,c as sr}from"./tabs-DqgDeQiy.js";import{w as oa,H as sa,g as aa}from"./HebrewYearCombobox-CGp5HyK7.js";function ia(e){if(e.length!==9){if(e.length>9||e.length===0)return!1;e=e.padStart(9,"0")}let t=0;for(let n=0;n<9;n++){const r=parseInt(e.charAt(n),10);if(isNaN(r))return!1;let o=r*(n%2+1);o>9&&(o-=9),t+=o}return t%10===0}function pn(e){return e.replace(/\D/g,"")}function ar(e){const t=pn(e);return!!/^0\d{8,9}$/.test(t)}function no(e,t,n){const r=Y(e,n?.in);if(isNaN(t))return de(e,NaN);if(!t)return r;const o=r.getDate(),s=de(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return o>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function ot(e,...t){const n=de.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function ht(e,t){const n=Y(e,t?.in);return n.setHours(0,0,0,0),n}function Nn(e,t,n){const[r,o]=ot(n?.in,e,t),s=ht(r),a=ht(o),i=+s-rr(s),c=+a-rr(a);return Math.round((i-c)/Zs)}function ca(e,t,n){return Qr(e,t*7,n)}function ua(e,t,n){return no(e,t*12,n)}function la(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=de.bind(null,o));const s=Y(o,r);(!n||n<s||isNaN(+s))&&(n=s)}),de(r,n||NaN)}function da(e,t){let n,r=t?.in;return e.forEach(o=>{!r&&typeof o=="object"&&(r=de.bind(null,o));const s=Y(o,r);(!n||n>s||isNaN(+s))&&(n=s)}),de(r,n||NaN)}function fa(e,t,n){const[r,o]=ot(n?.in,e,t);return+ht(r)==+ht(o)}function ro(e,t,n){const[r,o]=ot(n?.in,e,t),s=r.getFullYear()-o.getFullYear(),a=r.getMonth()-o.getMonth();return s*12+a}function ha(e,t){const n=Y(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function oo(e,t){const[n,r]=ot(e,t.start,t.end);return{start:n,end:r}}function ma(e,t){const{start:n,end:r}=oo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setDate(1);let i=1;const c=[];for(;+a<=s;)c.push(de(n,a)),a.setMonth(a.getMonth()+i);return o?c.reverse():c}function pa(e,t){const n=Y(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ga(e,t){const n=Y(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function so(e,t){const n=Y(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ya(e,t){const{start:n,end:r}=oo(t?.in,e);let o=+n>+r;const s=o?+n:+r,a=o?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let i=1;const c=[];for(;+a<=s;)c.push(de(n,a)),a.setFullYear(a.getFullYear()+i);return o?c.reverse():c}function ao(e,t){const n=eo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Y(e,t?.in),s=o.getDay(),a=(s<r?-7:0)+6-(s-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function va(e,t){return ao(e,{...t,weekStartsOn:1})}function ba(e,t){const n=Y(e,t?.in);return Nn(n,so(n))+1}function W(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ze={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return W(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):W(n+1,2)},d(e,t){return W(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return W(e.getHours()%12||12,t.length)},H(e,t){return W(e.getHours(),t.length)},m(e,t){return W(e.getMinutes(),t.length)},s(e,t){return W(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return W(o,t.length)}},Re={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ir={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return ze.y(e,t)},Y:function(e,t,n,r){const o=Ls(e,r),s=o>0?o:1-o;if(t==="YY"){const a=s%100;return W(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):W(s,t.length)},R:function(e,t){const n=Ys(e);return W(n,t.length)},u:function(e,t){const n=e.getFullYear();return W(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return W(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return W(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ze.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return W(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Tn(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):W(o,t.length)},I:function(e,t,n){const r=Cn(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):W(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ze.d(e,t)},D:function(e,t,n){const r=ba(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):W(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return W(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return W(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return W(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=Re.noon:r===0?o=Re.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=Re.evening:r>=12?o=Re.afternoon:r>=4?o=Re.morning:o=Re.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ze.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ze.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ze.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ze.s(e,t)},S:function(e,t){return ze.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ur(r);case"XXXX":case"XX":return Ie(r);default:return Ie(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ur(r);case"xxxx":case"xx":return Ie(r);default:return Ie(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cr(r,":");default:return"GMT"+Ie(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cr(r,":");default:return"GMT"+Ie(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return W(r,t.length)},T:function(e,t,n){return W(+e,t.length)}};function cr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+W(s,2)}function ur(e,t){return e%60===0?(e>0?"-":"+")+W(Math.abs(e)/60,2):Ie(e,t)}function Ie(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=W(Math.trunc(r/60),2),s=W(r%60,2);return n+o+t+s}const wa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ma=/^'([^]*?)'?$/,ka=/''/g,Sa=/[a-zA-Z]/;function $e(e,t,n){const r=eo(),o=n?.locale??r.locale??He,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Y(e,n?.in);if(!to(i))throw new RangeError("Invalid time value");let c=t.match(_a).map(f=>{const u=f[0];if(u==="p"||u==="P"){const l=Bs[u];return l(f,o.formatLong)}return f}).join("").match(wa).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const u=f[0];if(u==="'")return{isToken:!1,value:xa(f)};if(ir[u])return{isToken:!0,value:f};if(u.match(Sa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:f}});o.localize.preprocessor&&(c=o.localize.preprocessor(i,c));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:o};return c.map(f=>{if(!f.isToken)return f.value;const u=f.value;(!n?.useAdditionalWeekYearTokens&&Rs(u)||!n?.useAdditionalDayOfYearTokens&&Us(u))&&Hs(u,t,String(e));const l=ir[u[0]];return l(i,u,o.localize,d)}).join("")}function xa(e){const t=e.match(Ma);return t?t[1].replace(ka,"'"):e}function Oa(e,t){const n=Y(e,t?.in),r=n.getFullYear(),o=n.getMonth(),s=de(n,0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()}function Da(e,t){return Y(e,t?.in).getMonth()}function Ea(e,t){return Y(e,t?.in).getFullYear()}function za(e,t){return+Y(e)>+Y(t)}function Ca(e,t){return+Y(e)<+Y(t)}function Ta(e,t,n){const[r,o]=ot(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Na(e,t,n){const[r,o]=ot(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Fa(e,t,n){const r=Y(e,n?.in),o=r.getFullYear(),s=r.getDate(),a=de(e,0);a.setFullYear(o,t,15),a.setHours(0,0,0,0);const i=Oa(a);return r.setMonth(t,Math.min(s,i)),r}function Ia(e,t,n){const r=Y(e,n?.in);return isNaN(+r)?de(e,NaN):(r.setFullYear(t),r)}function $a(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Pa={},ut={};function Pe(e,t){try{const r=(Pa[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in ut?ut[r]:lr(r,r.split(":"))}catch{if(e in ut)return ut[e];const n=e?.match(ja);return n?lr(e,n.slice(1)):NaN}}const ja=/([+-]\d\d):?(\d\d)?/;function lr(e,t){const n=+(t[0]||0),r=+(t[1]||0),o=+(t[2]||0)/60;return ut[e]=n*60+r>0?n*60+r+o:n*60-r-o}class we extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Pe(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),io(this),gn(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new we(...n,t):new we(Date.now(),t)}withTimeZone(t){return new we(+this,t)}getTimezoneOffset(){const t=-Pe(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),gn(this),+this}[Symbol.for("constructDateFrom")](t){return new we(+new Date(t),this.timeZone)}}const dr=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!dr.test(e))return;const t=e.replace(dr,"$1UTC");we.prototype[t]&&(e.startsWith("get")?we.prototype[e]=function(){return this.internal[t]()}:(we.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Aa(this),+this},we.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),gn(this),+this}))});function gn(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Pe(e.timeZone,e)*60))}function Aa(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),io(e)}function io(e){const t=Pe(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const o=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),a=o-s,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=o-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const d=new Date(+e);d.setUTCSeconds(0);const f=o>0?d.getSeconds():(d.getSeconds()-60)%60,u=Math.round(-(Pe(e.timeZone,e)*60))%60;(u||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+f));const l=Pe(e.timeZone,e),h=l>0?Math.floor(l):Math.ceil(l),b=-new Date(+e).getTimezoneOffset()-h,g=h!==n,v=b-c;if(g&&v){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+v);const O=Pe(e.timeZone,e),_=O>0?Math.floor(O):Math.ceil(O),M=h-_;M&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+M),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+M))}}class ee extends we{static tz(t,...n){return n.length?new ee(...n,t):new ee(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),o=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,o]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${o}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,o]=this.tzComponents();return`${t} GMT${n}${r}${o} (${$a(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0");return[n,r,o]}withTimeZone(t){return new ee(+this,t)}[Symbol.for("constructDateFrom")](t){return new ee(+new Date(t),this.timeZone)}}const fr=5,Wa=4;function Va(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,o=t.addDays(e,-r+1),s=t.addDays(o,fr*7-1);return t.getMonth(e)===t.getMonth(s)?fr:Wa}function co(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function Za(e,t){const n=co(e,t),r=Va(e,t);return t.addDays(n,r*7-1)}const Ya={lessThanXSeconds:{one:"פחות משנייה",two:"פחות משתי שניות",other:"פחות מ־{{count}} שניות"},xSeconds:{one:"שנייה",two:"שתי שניות",other:"{{count}} שניות"},halfAMinute:"חצי דקה",lessThanXMinutes:{one:"פחות מדקה",two:"פחות משתי דקות",other:"פחות מ־{{count}} דקות"},xMinutes:{one:"דקה",two:"שתי דקות",other:"{{count}} דקות"},aboutXHours:{one:"כשעה",two:"כשעתיים",other:"כ־{{count}} שעות"},xHours:{one:"שעה",two:"שעתיים",other:"{{count}} שעות"},xDays:{one:"יום",two:"יומיים",other:"{{count}} ימים"},aboutXWeeks:{one:"כשבוע",two:"כשבועיים",other:"כ־{{count}} שבועות"},xWeeks:{one:"שבוע",two:"שבועיים",other:"{{count}} שבועות"},aboutXMonths:{one:"כחודש",two:"כחודשיים",other:"כ־{{count}} חודשים"},xMonths:{one:"חודש",two:"חודשיים",other:"{{count}} חודשים"},aboutXYears:{one:"כשנה",two:"כשנתיים",other:"כ־{{count}} שנים"},xYears:{one:"שנה",two:"שנתיים",other:"{{count}} שנים"},overXYears:{one:"יותר משנה",two:"יותר משנתיים",other:"יותר מ־{{count}} שנים"},almostXYears:{one:"כמעט שנה",two:"כמעט שנתיים",other:"כמעט {{count}} שנים"}},La=(e,t,n)=>{if(e==="xDays"&&n?.addSuffix&&t<=2)return n.comparison&&n.comparison>0?t===1?"מחר":"מחרתיים":t===1?"אתמול":"שלשום";let r;const o=Ya[e];return typeof o=="string"?r=o:t===1?r=o.one:t===2?r=o.two:r=o.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"בעוד "+r:"לפני "+r:r},Ba={full:"EEEE, d בMMMM y",long:"d בMMMM y",medium:"d בMMM y",short:"d.M.y"},Ra={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Ua={full:"{{date}} 'בשעה' {{time}}",long:"{{date}} 'בשעה' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ha={date:an({formats:Ba,defaultWidth:"full"}),time:an({formats:Ra,defaultWidth:"full"}),dateTime:an({formats:Ua,defaultWidth:"full"})},qa={lastWeek:"eeee 'שעבר בשעה' p",yesterday:"'אתמול בשעה' p",today:"'היום בשעה' p",tomorrow:"'מחר בשעה' p",nextWeek:"eeee 'בשעה' p",other:"P"},Ga=(e,t,n,r)=>qa[e],Ja={narrow:["לפנה״ס","לספירה"],abbreviated:["לפנה״ס","לספירה"],wide:["לפני הספירה","לספירה"]},Ka={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"]},Xa={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],wide:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},Qa={narrow:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],short:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],abbreviated:["יום א׳","יום ב׳","יום ג׳","יום ד׳","יום ה׳","יום ו׳","שבת"],wide:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"]},ei={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בוקר",afternoon:"אחר הצהריים",evening:"ערב",night:"לילה"}},ti={narrow:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"בצהריים",evening:"בערב",night:"בלילה"},abbreviated:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"},wide:{am:"לפנה״צ",pm:"אחה״צ",midnight:"חצות",noon:"צהריים",morning:"בבוקר",afternoon:"אחר הצהריים",evening:"בערב",night:"בלילה"}},ni=(e,t)=>{const n=Number(e);if(n<=0||n>10)return String(n);const r=String(t?.unit),o=["year","hour","minute","second"].indexOf(r)>=0,s=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שביעי","שמיני","תשיעי","עשירי"],a=["ראשונה","שנייה","שלישית","רביעית","חמישית","שישית","שביעית","שמינית","תשיעית","עשירית"],i=n-1;return o?a[i]:s[i]},ri={ordinalNumber:ni,era:at({values:Ja,defaultWidth:"wide"}),quarter:at({values:Ka,defaultWidth:"wide",argumentCallback:e=>e-1}),month:at({values:Xa,defaultWidth:"wide"}),day:at({values:Qa,defaultWidth:"wide"}),dayPeriod:at({values:ei,defaultWidth:"wide",formattingValues:ti,defaultFormattingWidth:"wide"})},oi=/^(\d+|(ראשון|שני|שלישי|רביעי|חמישי|שישי|שביעי|שמיני|תשיעי|עשירי|ראשונה|שנייה|שלישית|רביעית|חמישית|שישית|שביעית|שמינית|תשיעית|עשירית))/i,si=/^(\d+|רא|שנ|של|רב|ח|שי|שב|שמ|ת|ע)/i,ai={narrow:/^ל(ספירה|פנה״ס)/i,abbreviated:/^ל(ספירה|פנה״ס)/i,wide:/^ל(פני ה)?ספירה/i},ii={any:[/^לפ/i,/^לס/i]},ci={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^רבעון [1234]/i},ui={any:[/1/i,/2/i,/3/i,/4/i]},li={narrow:/^\d+/i,abbreviated:/^(ינו|פבר|מרץ|אפר|מאי|יוני|יולי|אוג|ספט|אוק|נוב|דצמ)׳?/i,wide:/^(ינואר|פברואר|מרץ|אפריל|מאי|יוני|יולי|אוגוסט|ספטמבר|אוקטובר|נובמבר|דצמבר)/i},di={narrow:[/^1$/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^7/i,/^8/i,/^9/i,/^10/i,/^11/i,/^12/i],any:[/^ינ/i,/^פ/i,/^מר/i,/^אפ/i,/^מא/i,/^יונ/i,/^יול/i,/^אוג/i,/^ס/i,/^אוק/i,/^נ/i,/^ד/i]},fi={narrow:/^[אבגדהוש]׳/i,short:/^[אבגדהוש]׳/i,abbreviated:/^(שבת|יום (א|ב|ג|ד|ה|ו)׳)/i,wide:/^יום (ראשון|שני|שלישי|רביעי|חמישי|שישי|שבת)/i},hi={abbreviated:[/א׳$/i,/ב׳$/i,/ג׳$/i,/ד׳$/i,/ה׳$/i,/ו׳$/i,/^ש/i],wide:[/ן$/i,/ני$/i,/לישי$/i,/עי$/i,/מישי$/i,/שישי$/i,/ת$/i],any:[/^א/i,/^ב/i,/^ג/i,/^ד/i,/^ה/i,/^ו/i,/^ש/i]},mi={any:/^(אחר ה|ב)?(חצות|צהריים|בוקר|ערב|לילה|אחה״צ|לפנה״צ)/i},pi={any:{am:/^לפ/i,pm:/^אחה/i,midnight:/^ח/i,noon:/^צ/i,morning:/בוקר/i,afternoon:/בצ|אחר/i,evening:/ערב/i,night:/לילה/i}},gi=["רא","שנ","של","רב","ח","שי","שב","שמ","ת","ע"],yi={ordinalNumber:qs({matchPattern:oi,parsePattern:si,valueCallback:e=>{const t=parseInt(e,10);return isNaN(t)?gi.indexOf(e)+1:t}}),era:it({matchPatterns:ai,defaultMatchWidth:"wide",parsePatterns:ii,defaultParseWidth:"any"}),quarter:it({matchPatterns:ci,defaultMatchWidth:"wide",parsePatterns:ui,defaultParseWidth:"any",valueCallback:e=>e+1}),month:it({matchPatterns:li,defaultMatchWidth:"wide",parsePatterns:di,defaultParseWidth:"any"}),day:it({matchPatterns:fi,defaultMatchWidth:"wide",parsePatterns:hi,defaultParseWidth:"any"}),dayPeriod:it({matchPatterns:mi,defaultMatchWidth:"any",parsePatterns:pi,defaultParseWidth:"any"})},uo={code:"he",formatDistance:La,formatLong:Ha,formatRelative:Ga,localize:ri,match:yi,options:{weekStartsOn:0,firstWeekContainsDate:1}},lo={...He,labels:{labelDayButton:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>$e(a,i,{locale:He,...n});let s=o(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>$e(o,s,{locale:He,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let o;r&&typeof r.format=="function"?o=r.format.bind(r):o=(a,i)=>$e(a,i,{locale:He,...n});let s=o(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(o,s)=>$e(o,s,{locale:He,...t}),r(e,"cccc")}}};class J{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ee.tz(this.options.timeZone):new this.Date,this.newDate=(r,o,s)=>this.overrides?.newDate?this.overrides.newDate(r,o,s):this.options.timeZone?new ee(r,o,s,this.options.timeZone):new Date(r,o,s),this.addDays=(r,o)=>this.overrides?.addDays?this.overrides.addDays(r,o):Qr(r,o),this.addMonths=(r,o)=>this.overrides?.addMonths?this.overrides.addMonths(r,o):no(r,o),this.addWeeks=(r,o)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,o):ca(r,o),this.addYears=(r,o)=>this.overrides?.addYears?this.overrides.addYears(r,o):ua(r,o),this.differenceInCalendarDays=(r,o)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,o):Nn(r,o),this.differenceInCalendarMonths=(r,o)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,o):ro(r,o),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):ma(r),this.eachYearOfInterval=r=>{const o=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):ya(r),s=new Set(o.map(i=>this.getYear(i)));if(s.size===o.length)return o;const a=[];return s.forEach(i=>{a.push(new Date(i,0,1))}),a},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):Za(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):va(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):ha(r),this.endOfWeek=(r,o)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,o):ao(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):ga(r),this.format=(r,o,s)=>{const a=this.overrides?.format?this.overrides.format(r,o,this.options):$e(r,o,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Cn(r),this.getMonth=(r,o)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Da(r,this.options),this.getYear=(r,o)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Ea(r,this.options),this.getWeek=(r,o)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Tn(r,this.options),this.isAfter=(r,o)=>this.overrides?.isAfter?this.overrides.isAfter(r,o):za(r,o),this.isBefore=(r,o)=>this.overrides?.isBefore?this.overrides.isBefore(r,o):Ca(r,o),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Gs(r),this.isSameDay=(r,o)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,o):fa(r,o),this.isSameMonth=(r,o)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,o):Ta(r,o),this.isSameYear=(r,o)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,o):Na(r,o),this.max=r=>this.overrides?.max?this.overrides.max(r):la(r),this.min=r=>this.overrides?.min?this.overrides.min(r):da(r),this.setMonth=(r,o)=>this.overrides?.setMonth?this.overrides.setMonth(r,o):Fa(r,o),this.setYear=(r,o)=>this.overrides?.setYear?this.overrides.setYear(r,o):Ia(r,o),this.startOfBroadcastWeek=(r,o)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):co(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):ht(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Js(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):pa(r),this.startOfWeek=(r,o)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Ks(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):so(r),this.options={locale:lo,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let o=0;o<10;o++)r[o.toString()]=n.format(o);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&J.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:o}=this.options,s=n?.code;if(s&&J.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:o}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}J.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const _e=new J;class fo{constructor(t,n,r=_e){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class vi{constructor(t,n){this.date=t,this.weeks=n}}class bi{constructor(t,n){this.days=n,this.weekNumber=t}}function wi(e){return w.createElement("button",{...e})}function _i(e){return w.createElement("span",{...e})}function Mi(e){const{size:t=24,orientation:n="left",className:r}=e;return w.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&w.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&w.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&w.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&w.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function ki(e){const{day:t,modifiers:n,...r}=e;return w.createElement("td",{...r})}function Si(e){const{day:t,modifiers:n,...r}=e,o=w.useRef(null);return w.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),w.createElement("button",{ref:o,...r})}var E;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(E||(E={}));var B;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(B||(B={}));var ge;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ge||(ge={}));var se;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(se||(se={}));function xi(e){const{options:t,className:n,components:r,classNames:o,...s}=e,a=[o[E.Dropdown],n].join(" "),i=t?.find(({value:c})=>c===s.value);return w.createElement("span",{"data-disabled":s.disabled,className:o[E.DropdownRoot]},w.createElement(r.Select,{className:a,...s},t?.map(({value:c,label:d,disabled:f})=>w.createElement(r.Option,{key:c,value:c,disabled:f},d))),w.createElement("span",{className:o[E.CaptionLabel],"aria-hidden":!0},i?.label,w.createElement(r.Chevron,{orientation:"down",size:18,className:o[E.Chevron]})))}function Oi(e){return w.createElement("div",{...e})}function Di(e){return w.createElement("div",{...e})}function Ei(e){const{calendarMonth:t,displayIndex:n,...r}=e;return w.createElement("div",{...r},e.children)}function zi(e){const{calendarMonth:t,displayIndex:n,...r}=e;return w.createElement("div",{...r})}function Ci(e){return w.createElement("table",{...e})}function Ti(e){return w.createElement("div",{...e})}const ho=x.createContext(void 0);function Ye(){const e=x.useContext(ho);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Ni(e){const{components:t}=Ye();return w.createElement(t.Dropdown,{...e})}function Fi(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:o,...s}=e,{components:a,classNames:i,labels:{labelPrevious:c,labelNext:d}}=Ye(),f=x.useCallback(l=>{o&&n?.(l)},[o,n]),u=x.useCallback(l=>{r&&t?.(l)},[r,t]);return w.createElement("nav",{...s},w.createElement(a.PreviousMonthButton,{type:"button",className:i[E.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:u},w.createElement(a.Chevron,{disabled:r?void 0:!0,className:i[E.Chevron],orientation:"left"})),w.createElement(a.NextMonthButton,{type:"button",className:i[E.NextMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":d(o),onClick:f},w.createElement(a.Chevron,{disabled:o?void 0:!0,orientation:"right",className:i[E.Chevron]})))}function Ii(e){const{components:t}=Ye();return w.createElement(t.Button,{...e})}function $i(e){return w.createElement("option",{...e})}function Pi(e){const{components:t}=Ye();return w.createElement(t.Button,{...e})}function ji(e){const{rootRef:t,...n}=e;return w.createElement("div",{...n,ref:t})}function Ai(e){return w.createElement("select",{...e})}function Wi(e){const{week:t,...n}=e;return w.createElement("tr",{...n})}function Vi(e){return w.createElement("th",{...e})}function Zi(e){return w.createElement("thead",{"aria-hidden":!0},w.createElement("tr",{...e}))}function Yi(e){const{week:t,...n}=e;return w.createElement("th",{...n})}function Li(e){return w.createElement("th",{...e})}function Bi(e){return w.createElement("tbody",{...e})}function Ri(e){const{components:t}=Ye();return w.createElement(t.Dropdown,{...e})}const Ui=Object.freeze(Object.defineProperty({__proto__:null,Button:wi,CaptionLabel:_i,Chevron:Mi,Day:ki,DayButton:Si,Dropdown:xi,DropdownNav:Oi,Footer:Di,Month:Ei,MonthCaption:zi,MonthGrid:Ci,Months:Ti,MonthsDropdown:Ni,Nav:Fi,NextMonthButton:Ii,Option:$i,PreviousMonthButton:Pi,Root:ji,Select:Ai,Week:Wi,WeekNumber:Yi,WeekNumberHeader:Li,Weekday:Vi,Weekdays:Zi,Weeks:Bi,YearsDropdown:Ri},Symbol.toStringTag,{value:"Module"}));function Oe(e,t,n=!1,r=_e){let{from:o,to:s}=e;const{differenceInCalendarDays:a,isSameDay:i}=r;return o&&s?(a(s,o)<0&&([o,s]=[s,o]),a(t,o)>=(n?1:0)&&a(s,t)>=(n?1:0)):!n&&s?i(s,t):!n&&o?i(o,t):!1}function Fn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Bt(e){return!!(e&&typeof e=="object"&&"from"in e)}function In(e){return!!(e&&typeof e=="object"&&"after"in e)}function $n(e){return!!(e&&typeof e=="object"&&"before"in e)}function mo(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function po(e,t){return Array.isArray(e)&&e.every(t.isDate)}function De(e,t,n=_e){const r=Array.isArray(t)?t:[t],{isSameDay:o,differenceInCalendarDays:s,isAfter:a}=n;return r.some(i=>{if(typeof i=="boolean")return i;if(n.isDate(i))return o(e,i);if(po(i,n))return i.some(c=>o(e,c));if(Bt(i))return Oe(i,e,!1,n);if(mo(i))return Array.isArray(i.dayOfWeek)?i.dayOfWeek.includes(e.getDay()):i.dayOfWeek===e.getDay();if(Fn(i)){const c=s(i.before,e),d=s(i.after,e),f=c>0,u=d<0;return a(i.before,i.after)?u&&f:f||u}return In(i)?s(e,i.after)>0:$n(i)?s(i.before,e)>0:typeof i=="function"?i(e):!1})}function Hi(e,t,n,r,o){const{disabled:s,hidden:a,modifiers:i,showOutsideDays:c,broadcastCalendar:d,today:f=o.today()}=t,{isSameDay:u,isSameMonth:l,startOfMonth:h,isBefore:m,endOfMonth:b,isAfter:g}=o,v=n&&h(n),O=r&&b(r),_={[B.focused]:[],[B.outside]:[],[B.disabled]:[],[B.hidden]:[],[B.today]:[]},M={};for(const k of e){const{date:S,displayMonth:T}=k,I=!!(T&&!l(S,T)),P=!!(v&&m(S,v)),Z=!!(O&&g(S,O)),Q=!!(s&&De(S,s,o)),Se=!!(a&&De(S,a,o))||P||Z||!d&&!c&&I||d&&c===!1&&I,F=u(S,f);I&&_.outside.push(k),Q&&_.disabled.push(k),Se&&_.hidden.push(k),F&&_.today.push(k),i&&Object.keys(i).forEach(H=>{const Be=i?.[H];Be&&De(S,Be,o)&&(M[H]?M[H].push(k):M[H]=[k])})}return k=>{const S={[B.focused]:!1,[B.disabled]:!1,[B.hidden]:!1,[B.outside]:!1,[B.today]:!1},T={};for(const I in _){const P=_[I];S[I]=P.some(Z=>Z===k)}for(const I in M)T[I]=M[I].some(P=>P===k);return{...S,...T}}}function qi(e,t,n={}){return Object.entries(e).filter(([,o])=>o===!0).reduce((o,[s])=>(n[s]?o.push(n[s]):t[B[s]]?o.push(t[B[s]]):t[ge[s]]&&o.push(t[ge[s]]),o),[t[E.Day]])}function Gi(e){return{...Ui,...e}}function Ji(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function yt(){const e={};for(const t in E)e[E[t]]=`rdp-${E[t]}`;for(const t in B)e[B[t]]=`rdp-${B[t]}`;for(const t in ge)e[ge[t]]=`rdp-${ge[t]}`;for(const t in se)e[se[t]]=`rdp-${se[t]}`;return e}function go(e,t,n){return(n??new J(t)).formatMonthYear(e)}const Ki=go;function Xi(e,t,n){return(n??new J(t)).format(e,"d")}function Qi(e,t=_e){return t.format(e,"LLLL")}function ec(e,t,n){return(n??new J(t)).format(e,"cccccc")}function tc(e,t=_e){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function nc(){return""}function yo(e,t=_e){return t.format(e,"yyyy")}const rc=yo,oc=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:go,formatDay:Xi,formatMonthCaption:Ki,formatMonthDropdown:Qi,formatWeekNumber:tc,formatWeekNumberHeader:nc,formatWeekdayName:ec,formatYearCaption:rc,formatYearDropdown:yo},Symbol.toStringTag,{value:"Module"}));function sc(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...oc,...e}}function Pn(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t.today&&(o=`Today, ${o}`),t.selected&&(o=`${o}, selected`),o}const ac=Pn;function jn(e,t,n){return(n??new J(t)).formatMonthYear(e)}const ic=jn;function vo(e,t,n,r){let o=(r??new J(n)).format(e,"PPPP");return t?.today&&(o=`Today, ${o}`),o}function bo(e){return"Choose the Month"}function wo(){return""}const cc="Go to the Next Month";function _o(e,t){return cc}function Mo(e){return"Go to the Previous Month"}function ko(e,t,n){return(n??new J(t)).format(e,"cccc")}function So(e,t){return`Week ${e}`}function xo(e){return"Week Number"}function Oo(e){return"Choose the Year"}const uc=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:ic,labelDay:ac,labelDayButton:Pn,labelGrid:jn,labelGridcell:vo,labelMonthDropdown:bo,labelNav:wo,labelNext:_o,labelPrevious:Mo,labelWeekNumber:So,labelWeekNumberHeader:xo,labelWeekday:ko,labelYearDropdown:Oo},Symbol.toStringTag,{value:"Module"})),pe=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function lc(e,t){const n=t.locale?.labels??{};return{...uc,...e??{},labelDayButton:pe(Pn,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:pe(bo,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:pe(_o,e?.labelNext,n.labelNext),labelPrevious:pe(Mo,e?.labelPrevious,n.labelPrevious),labelWeekNumber:pe(So,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:pe(Oo,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:pe(jn,e?.labelGrid,n.labelGrid),labelGridcell:pe(vo,e?.labelGridcell,n.labelGridcell),labelNav:pe(wo,e?.labelNav,n.labelNav),labelWeekNumberHeader:pe(xo,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:pe(ko,e?.labelWeekday,n.labelWeekday)}}function dc(e,t,n,r,o){const{startOfMonth:s,startOfYear:a,endOfYear:i,eachMonthOfInterval:c,getMonth:d}=o;return c({start:a(e),end:i(e)}).map(l=>{const h=r.formatMonthDropdown(l,o),m=d(l),b=t&&l<s(t)||n&&l>s(n)||!1;return{value:m,label:h,disabled:b}})}function fc(e,t={},n={}){let r={...t?.[E.Day]};return Object.entries(e).filter(([,o])=>o===!0).forEach(([o])=>{r={...r,...n?.[o]}}),r}function hc(e,t,n,r){const o=r??e.today(),s=n?e.startOfBroadcastWeek(o,e):t?e.startOfISOWeek(o):e.startOfWeek(o),a=[];for(let i=0;i<7;i++){const c=e.addDays(s,i);a.push(c)}return a}function mc(e,t,n,r,o=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:a,eachYearOfInterval:i,getYear:c}=r,d=s(e),f=a(t),u=i({start:d,end:f});return o&&u.reverse(),u.map(l=>{const h=n.formatYearDropdown(l,r);return{value:c(l),label:h,disabled:!1}})}function pc(e,t={}){const{weekStartsOn:n,locale:r}=t,o=n??r?.options?.weekStartsOn??0,s=i=>{const c=typeof i=="number"||typeof i=="string"?new Date(i):i;return new ee(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,e)},a=i=>{const c=s(i);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>s(ee.tz(e)),newDate:(i,c,d)=>new ee(i,c,d,12,0,0,e),startOfDay:i=>s(i),startOfWeek:(i,c)=>{const d=s(i),f=c?.weekStartsOn??o,u=(d.getDay()-f+7)%7;return d.setDate(d.getDate()-u),d},startOfISOWeek:i=>{const c=s(i),d=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-d),c},startOfMonth:i=>{const c=s(i);return c.setDate(1),c},startOfYear:i=>{const c=s(i);return c.setMonth(0,1),c},endOfWeek:(i,c)=>{const d=s(i),l=(((c?.weekStartsOn??o)+6)%7-d.getDay()+7)%7;return d.setDate(d.getDate()+l),d},endOfISOWeek:i=>{const c=s(i),d=(7-c.getDay())%7;return c.setDate(c.getDate()+d),c},endOfMonth:i=>{const c=s(i);return c.setMonth(c.getMonth()+1,0),c},endOfYear:i=>{const c=s(i);return c.setMonth(11,31),c},eachMonthOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],u=new ee(c.getFullYear(),c.getMonth(),1,12,0,0,e),l=d.getFullYear()*12+d.getMonth();for(;u.getFullYear()*12+u.getMonth()<=l;)f.push(new ee(u,e)),u.setMonth(u.getMonth()+1,1);return f},addDays:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c),d},addWeeks:(i,c)=>{const d=s(i);return d.setDate(d.getDate()+c*7),d},addMonths:(i,c)=>{const d=s(i);return d.setMonth(d.getMonth()+c),d},addYears:(i,c)=>{const d=s(i);return d.setFullYear(d.getFullYear()+c),d},eachYearOfInterval:i=>{const c=s(i.start),d=s(i.end),f=[],u=new ee(c.getFullYear(),0,1,12,0,0,e);for(;u.getFullYear()<=d.getFullYear();)f.push(new ee(u,e)),u.setFullYear(u.getFullYear()+1,0,1);return f},getWeek:(i,c)=>{const d=a(i);return Tn(d,{weekStartsOn:c?.weekStartsOn??o,firstWeekContainsDate:c?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1})},getISOWeek:i=>{const c=a(i);return Cn(c)},differenceInCalendarDays:(i,c)=>{const d=a(i),f=a(c);return Nn(d,f)},differenceInCalendarMonths:(i,c)=>{const d=a(i),f=a(c);return ro(d,f)}}}const vt=e=>e instanceof HTMLElement?e:null,cn=e=>[...e.querySelectorAll("[data-animated-month]")??[]],gc=e=>vt(e.querySelector("[data-animated-month]")),un=e=>vt(e.querySelector("[data-animated-caption]")),ln=e=>vt(e.querySelector("[data-animated-weeks]")),yc=e=>vt(e.querySelector("[data-animated-nav]")),vc=e=>vt(e.querySelector("[data-animated-weekdays]"));function bc(e,t,{classNames:n,months:r,focused:o,dateLib:s}){const a=x.useRef(null),i=x.useRef(r),c=x.useRef(!1);x.useLayoutEffect(()=>{const d=i.current;if(i.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const f=s.isSameMonth(r[0].date,d[0].date),u=s.isAfter(r[0].date,d[0].date),l=u?n[se.caption_after_enter]:n[se.caption_before_enter],h=u?n[se.weeks_after_enter]:n[se.weeks_before_enter],m=a.current,b=e.current.cloneNode(!0);if(b instanceof HTMLElement?(cn(b).forEach(_=>{if(!(_ instanceof HTMLElement))return;const M=gc(_);M&&_.contains(M)&&_.removeChild(M);const k=un(_);k&&k.classList.remove(l);const S=ln(_);S&&S.classList.remove(h)}),a.current=b):a.current=null,c.current||f||o)return;const g=m instanceof HTMLElement?cn(m):[],v=cn(e.current);if(v?.every(O=>O instanceof HTMLElement)&&g&&g.every(O=>O instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const O=yc(e.current);O&&(O.style.zIndex="1"),v.forEach((_,M)=>{const k=g[M];if(!k)return;_.style.position="relative",_.style.overflow="hidden";const S=un(_);S&&S.classList.add(l);const T=ln(_);T&&T.classList.add(h);const I=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),O&&(O.style.zIndex=""),S&&S.classList.remove(l),T&&T.classList.remove(h),_.style.position="",_.style.overflow="",_.contains(k)&&_.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const P=vc(k);P&&(P.style.opacity="0");const Z=un(k);Z&&(Z.classList.add(u?n[se.caption_before_exit]:n[se.caption_after_exit]),Z.addEventListener("animationend",I));const Q=ln(k);Q&&Q.classList.add(u?n[se.weeks_before_exit]:n[se.weeks_after_exit]),_.insertBefore(k,_.firstChild)})}})}function wc(e,t,n,r){const o=e[0],s=e[e.length-1],{ISOWeek:a,fixedWeeks:i,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:f,differenceInCalendarMonths:u,endOfBroadcastWeek:l,endOfISOWeek:h,endOfMonth:m,endOfWeek:b,isAfter:g,startOfBroadcastWeek:v,startOfISOWeek:O,startOfWeek:_}=r,M=c?v(o,r):a?O(o):_(o),k=c?l(s):a?h(m(s)):b(m(s)),S=t&&(c?l(t):a?h(t):b(t)),T=S&&g(k,S)?S:k,I=f(T,M),P=u(s,o)+1,Z=[];for(let F=0;F<=I;F++){const H=d(M,F);Z.push(H)}const Se=(c?35:42)*P;if(i&&Z.length<Se){const F=Se-Z.length;for(let H=0;H<F;H++){const Be=d(Z[Z.length-1],1);Z.push(Be)}}return Z}function _c(e){const t=[];return e.reduce((n,r)=>{const o=r.weeks.reduce((s,a)=>s.concat(a.days.slice()),t.slice());return n.concat(o.slice())},t.slice())}function Mc(e,t,n,r){const{numberOfMonths:o=1}=n,s=[];for(let a=0;a<o;a++){const i=r.addMonths(e,a);if(t&&i>t)break;s.push(i)}return s}function hr(e,t,n,r){const{month:o,defaultMonth:s,today:a=r.today(),numberOfMonths:i=1}=e;let c=o||s||a;const{differenceInCalendarMonths:d,addMonths:f,startOfMonth:u}=r;if(n&&d(n,c)<i-1){const l=-1*(i-1);c=f(n,l)}return t&&d(c,t)<0&&(c=t),u(c)}function kc(e,t,n,r){const{addDays:o,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:i,endOfWeek:c,getISOWeek:d,getWeek:f,startOfBroadcastWeek:u,startOfISOWeek:l,startOfWeek:h}=r,m=e.reduce((b,g)=>{const v=n.broadcastCalendar?u(g,r):n.ISOWeek?l(g):h(g),O=n.broadcastCalendar?s(g):n.ISOWeek?a(i(g)):c(i(g)),_=t.filter(T=>T>=v&&T<=O),M=n.broadcastCalendar?35:42;if(n.fixedWeeks&&_.length<M){const T=t.filter(I=>{const P=M-_.length;return I>O&&I<=o(O,P)});_.push(...T)}const k=_.reduce((T,I)=>{const P=n.ISOWeek?d(I):f(I),Z=T.find(Se=>Se.weekNumber===P),Q=new fo(I,g,r);return Z?Z.days.push(Q):T.push(new bi(P,[Q])),T},[]),S=new vi(g,k);return b.push(S),b},[]);return n.reverseMonths?m.reverse():m}function Sc(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:o,startOfDay:s,startOfMonth:a,endOfMonth:i,addYears:c,endOfYear:d,newDate:f,today:u}=t,{fromYear:l,toYear:h,fromMonth:m,toMonth:b}=e;!n&&m&&(n=m),!n&&l&&(n=t.newDate(l,0,1)),!r&&b&&(r=b),!r&&h&&(r=f(h,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):l?n=f(l,0,1):!n&&g&&(n=o(c(e.today??u(),-100))),r?r=i(r):h?r=f(h,11,31):!r&&g&&(r=d(e.today??u())),[n&&s(n),r&&s(r)]}function xc(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s=1}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s:1,f=a(e);if(!t)return i(f,d);if(!(c(t,e)<s))return i(f,d)}function Oc(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:o,numberOfMonths:s}=n,{startOfMonth:a,addMonths:i,differenceInCalendarMonths:c}=r,d=o?s??1:1,f=a(e);if(!t)return i(f,-d);if(!(c(f,t)<=0))return i(f,-d)}function Dc(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function Rt(e,t){const[n,r]=x.useState(e);return[t===void 0?n:t,r]}function Ec(e,t){const[n,r]=Sc(e,t),{startOfMonth:o,endOfMonth:s}=t,a=hr(e,n,r,t),[i,c]=Rt(a,e.month?a:void 0);x.useEffect(()=>{const M=hr(e,n,r,t);c(M)},[e.timeZone]);const{months:d,weeks:f,days:u,previousMonth:l,nextMonth:h}=x.useMemo(()=>{const M=Mc(i,r,{numberOfMonths:e.numberOfMonths},t),k=wc(M,e.endMonth?s(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),S=kc(M,k,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),T=Dc(S),I=_c(S),P=Oc(i,n,e,t),Z=xc(i,r,e,t);return{months:S,weeks:T,days:I,previousMonth:P,nextMonth:Z}},[t,i.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:m,onMonthChange:b}=e,g=M=>f.some(k=>k.days.some(S=>S.isEqualTo(M))),v=M=>{if(m)return;let k=o(M);n&&k<o(n)&&(k=o(n)),r&&k>o(r)&&(k=o(r)),c(k),b?.(k)};return{months:d,weeks:f,days:u,navStart:n,navEnd:r,previousMonth:l,nextMonth:h,goToMonth:v,goToDay:M=>{g(M)||v(M.date)}}}var be;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(be||(be={}));function mr(e){return!e[B.disabled]&&!e[B.hidden]&&!e[B.outside]}function zc(e,t,n,r){let o,s=-1;for(const a of e){const i=t(a);mr(i)&&(i[B.focused]&&s<be.FocusedModifier?(o=a,s=be.FocusedModifier):r?.isEqualTo(a)&&s<be.LastFocused?(o=a,s=be.LastFocused):n(a.date)&&s<be.Selected?(o=a,s=be.Selected):i[B.today]&&s<be.Today&&(o=a,s=be.Today))}return o||(o=e.find(a=>mr(t(a)))),o}function Cc(e,t,n,r,o,s,a){const{ISOWeek:i,broadcastCalendar:c}=s,{addDays:d,addMonths:f,addWeeks:u,addYears:l,endOfBroadcastWeek:h,endOfISOWeek:m,endOfWeek:b,max:g,min:v,startOfBroadcastWeek:O,startOfISOWeek:_,startOfWeek:M}=a;let S={day:d,week:u,month:f,year:l,startOfWeek:T=>c?O(T,a):i?_(T):M(T),endOfWeek:T=>c?h(T):i?m(T):b(T)}[e](n,t==="after"?1:-1);return t==="before"&&r?S=g([r,S]):t==="after"&&o&&(S=v([o,S])),S}function Do(e,t,n,r,o,s,a,i=0){if(i>365)return;const c=Cc(e,t,n.date,r,o,s,a),d=!!(s.disabled&&De(c,s.disabled,a)),f=!!(s.hidden&&De(c,s.hidden,a)),u=c,l=new fo(c,u,a);return!d&&!f?l:Do(e,t,l,r,o,s,a,i+1)}function Tc(e,t,n,r,o){const{autoFocus:s}=e,[a,i]=x.useState(),c=zc(t.days,n,r||(()=>!1),a),[d,f]=x.useState(s?c:void 0);return{isFocusTarget:b=>!!c?.isEqualTo(b),setFocused:f,focused:d,blur:()=>{i(d),f(void 0)},moveFocus:(b,g)=>{if(!d)return;const v=Do(b,g,d,t.navStart,t.navEnd,e,o);v&&(e.disableNavigation&&!t.days.some(_=>_.isEqualTo(v))||(t.goToDay(v),f(v)))}}}function Nc(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Rt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t,d=h=>i?.some(m=>c(m,h))??!1,{min:f,max:u}=e;return{selected:i,select:(h,m,b)=>{let g=[...i??[]];if(d(h)){if(i?.length===f||r&&i?.length===1)return;g=i?.filter(v=>!c(v,h))}else i?.length===u?g=[h]:g=[...g,h];return o||a(g),o?.(g,h,m,b),g},isSelected:d}}function Fc(e,t,n=0,r=0,o=!1,s=_e){const{from:a,to:i}=t||{},{isSameDay:c,isAfter:d,isBefore:f}=s;let u;if(!a&&!i)u={from:e,to:n>0?void 0:e};else if(a&&!i)c(a,e)?n===0?u={from:a,to:e}:o?u={from:a,to:void 0}:u=void 0:f(e,a)?u={from:e,to:a}:u={from:a,to:e};else if(a&&i)if(c(a,e)&&c(i,e))o?u={from:a,to:i}:u=void 0;else if(c(a,e))u={from:a,to:n>0?void 0:e};else if(c(i,e))u={from:e,to:n>0?void 0:e};else if(f(e,a))u={from:e,to:i};else if(d(e,a))u={from:a,to:e};else if(d(e,i))u={from:a,to:e};else throw new Error("Invalid range");if(u?.from&&u?.to){const l=s.differenceInCalendarDays(u.to,u.from);r>0&&l>r?u={from:e,to:void 0}:n>1&&l<n&&(u={from:e,to:void 0})}return u}function Ic(e,t,n=_e){const r=Array.isArray(t)?t:[t];let o=e.from;const s=n.differenceInCalendarDays(e.to,e.from),a=Math.min(s,6);for(let i=0;i<=a;i++){if(r.includes(o.getDay()))return!0;o=n.addDays(o,1)}return!1}function pr(e,t,n=_e){return Oe(e,t.from,!1,n)||Oe(e,t.to,!1,n)||Oe(t,e.from,!1,n)||Oe(t,e.to,!1,n)}function $c(e,t,n=_e){const r=Array.isArray(t)?t:[t];if(r.filter(i=>typeof i!="function").some(i=>typeof i=="boolean"?i:n.isDate(i)?Oe(e,i,!1,n):po(i,n)?i.some(c=>Oe(e,c,!1,n)):Bt(i)?i.from&&i.to?pr(e,{from:i.from,to:i.to},n):!1:mo(i)?Ic(e,i.dayOfWeek,n):Fn(i)?n.isAfter(i.before,i.after)?pr(e,{from:n.addDays(i.after,1),to:n.addDays(i.before,-1)},n):De(e.from,i,n)||De(e.to,i,n):In(i)||$n(i)?De(e.from,i,n)||De(e.to,i,n):!1))return!0;const a=r.filter(i=>typeof i=="function");if(a.length){let i=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(a.some(f=>f(i)))return!0;i=n.addDays(i,1)}}return!1}function Pc(e,t){const{disabled:n,excludeDisabled:r,selected:o,required:s,onSelect:a}=e,[i,c]=Rt(o,a?o:void 0),d=a?o:i;return{selected:d,select:(l,h,m)=>{const{min:b,max:g}=e,v=l?Fc(l,d,b,g,s,t):void 0;return r&&n&&v?.from&&v.to&&$c({from:v.from,to:v.to},n,t)&&(v.from=l,v.to=void 0),a||c(v),a?.(v,l,h,m),v},isSelected:l=>d&&Oe(d,l,!1,t)}}function jc(e,t){const{selected:n,required:r,onSelect:o}=e,[s,a]=Rt(n,o?n:void 0),i=o?n:s,{isSameDay:c}=t;return{selected:i,select:(u,l,h)=>{let m=u;return!r&&i&&i&&c(u,i)&&(m=void 0),o||a(m),o?.(m,u,l,h),m},isSelected:u=>i?c(i,u):!1}}function Ac(e,t){const n=jc(e,t),r=Nc(e,t),o=Pc(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return o;default:return}}function ue(e,t){return e instanceof ee&&e.timeZone===t?e:new ee(e,t)}function Ue(e,t,n){return ue(e,t)}function gr(e,t,n){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Ue(e,t):Array.isArray(e)?e.map(r=>r instanceof Date?Ue(r,t):r):Bt(e)?{...e,from:e.from?ue(e.from,t):e.from,to:e.to?ue(e.to,t):e.to}:Fn(e)?{before:Ue(e.before,t),after:Ue(e.after,t)}:In(e)?{after:Ue(e.after,t)}:$n(e)?{before:Ue(e.before,t)}:e}function dn(e,t,n){return e&&(Array.isArray(e)?e.map(r=>gr(r,t)):gr(e,t))}function Eo(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=ue(t.today,n)),t.month&&(t.month=ue(t.month,n)),t.defaultMonth&&(t.defaultMonth=ue(t.defaultMonth,n)),t.startMonth&&(t.startMonth=ue(t.startMonth,n)),t.endMonth&&(t.endMonth=ue(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=ue(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(N=>ue(N,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?ue(t.selected.from,n):t.selected.from,to:t.selected.to?ue(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=dn(t.disabled,n)),t.hidden!==void 0&&(t.hidden=dn(t.hidden,n)),t.modifiers)){const N={};Object.keys(t.modifiers).forEach(A=>{N[A]=dn(t.modifiers?.[A],n)}),t.modifiers=N}const{components:r,formatters:o,labels:s,dateLib:a,locale:i,classNames:c}=x.useMemo(()=>{const N={...lo,...t.locale},A=t.broadcastCalendar?1:t.weekStartsOn,C=t.noonSafe&&t.timeZone?pc(t.timeZone,{weekStartsOn:A,locale:N}):void 0,j=t.dateLib&&C?{...C,...t.dateLib}:t.dateLib??C,oe=new J({locale:N,weekStartsOn:A,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},j);return{dateLib:oe,components:Gi(t.components),formatters:sc(t.formatters),labels:lc(t.labels,oe.options),locale:N,classNames:{...yt(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:a.today()});const{captionLayout:d,mode:f,navLayout:u,numberOfMonths:l=1,onDayBlur:h,onDayClick:m,onDayFocus:b,onDayKeyDown:g,onDayMouseEnter:v,onDayMouseLeave:O,onNextClick:_,onPrevClick:M,showWeekNumber:k,styles:S}=t,{formatCaption:T,formatDay:I,formatMonthDropdown:P,formatWeekNumber:Z,formatWeekNumberHeader:Q,formatWeekdayName:Se,formatYearDropdown:F}=o,H=Ec(t,a),{days:Be,months:wt,navStart:Jt,navEnd:Kt,previousMonth:he,nextMonth:me,goToMonth:xe}=H,Xt=Hi(Be,t,Jt,Kt,a),{isSelected:Qt,select:en,selected:_t}=Ac(t,a)??{},{blur:Kn,focused:Xn,isFocusTarget:us,moveFocus:Qn,setFocused:Mt}=Tc(t,H,Xt,Qt??(()=>!1),a),{labelDayButton:ls,labelGridcell:ds,labelGrid:fs,labelMonthDropdown:hs,labelNav:er,labelPrevious:ms,labelNext:ps,labelWeekday:gs,labelWeekNumber:ys,labelWeekNumberHeader:vs,labelYearDropdown:bs}=s,ws=x.useMemo(()=>hc(a,t.ISOWeek,t.broadcastCalendar,t.today),[a,t.ISOWeek,t.broadcastCalendar,t.today]),tr=f!==void 0||m!==void 0,tn=x.useCallback(()=>{he&&(xe(he),M?.(he))},[he,xe,M]),nn=x.useCallback(()=>{me&&(xe(me),_?.(me))},[xe,me,_]),_s=x.useCallback((N,A)=>C=>{C.preventDefault(),C.stopPropagation(),Mt(N),!A.disabled&&(en?.(N.date,A,C),m?.(N.date,A,C))},[en,m,Mt]),Ms=x.useCallback((N,A)=>C=>{Mt(N),b?.(N.date,A,C)},[b,Mt]),ks=x.useCallback((N,A)=>C=>{Kn(),h?.(N.date,A,C)},[Kn,h]),Ss=x.useCallback((N,A)=>C=>{const j={ArrowLeft:[C.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[C.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[C.shiftKey?"year":"week","after"],ArrowUp:[C.shiftKey?"year":"week","before"],PageUp:[C.shiftKey?"year":"month","before"],PageDown:[C.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(j[C.key]){C.preventDefault(),C.stopPropagation();const[oe,$]=j[C.key];Qn(oe,$)}g?.(N.date,A,C)},[Qn,g,t.dir]),xs=x.useCallback((N,A)=>C=>{v?.(N.date,A,C)},[v]),Os=x.useCallback((N,A)=>C=>{O?.(N.date,A,C)},[O]),Ds=x.useCallback(N=>A=>{const C=Number(A.target.value),j=a.setMonth(a.startOfMonth(N),C);xe(j)},[a,xe]),Es=x.useCallback(N=>A=>{const C=Number(A.target.value),j=a.setYear(a.startOfMonth(N),C);xe(j)},[a,xe]),{className:zs,style:Cs}=x.useMemo(()=>({className:[c[E.Root],t.className].filter(Boolean).join(" "),style:{...S?.[E.Root],...t.style}}),[c,t.className,t.style,S]),Ts=Ji(t),nr=x.useRef(null);bc(nr,!!t.animate,{classNames:c,months:wt,focused:Xn,dateLib:a});const Ns={dayPickerProps:t,selected:_t,select:en,isSelected:Qt,months:wt,nextMonth:me,previousMonth:he,goToMonth:xe,getModifiers:Xt,components:r,classNames:c,styles:S,labels:s,formatters:o};return w.createElement(ho.Provider,{value:Ns},w.createElement(r.Root,{rootRef:t.animate?nr:void 0,className:zs,style:Cs,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Ts},w.createElement(r.Months,{className:c[E.Months],style:S?.[E.Months]},!t.hideNavigation&&!u&&w.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:S?.[E.Nav],"aria-label":er(),onPreviousClick:tn,onNextClick:nn,previousMonth:he,nextMonth:me}),wt.map((N,A)=>w.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[E.Month],style:S?.[E.Month],key:A,displayIndex:A,calendarMonth:N},u==="around"&&!t.hideNavigation&&A===0&&w.createElement(r.PreviousMonthButton,{type:"button",className:c[E.PreviousMonthButton],tabIndex:he?void 0:-1,"aria-disabled":he?void 0:!0,"aria-label":ms(he),onClick:tn,"data-animated-button":t.animate?"true":void 0},w.createElement(r.Chevron,{disabled:he?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"right":"left"})),w.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[E.MonthCaption],style:S?.[E.MonthCaption],calendarMonth:N,displayIndex:A},d?.startsWith("dropdown")?w.createElement(r.DropdownNav,{className:c[E.Dropdowns],style:S?.[E.Dropdowns]},(()=>{const C=d==="dropdown"||d==="dropdown-months"?w.createElement(r.MonthsDropdown,{key:"month",className:c[E.MonthsDropdown],"aria-label":hs(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Ds(N.date),options:dc(N.date,Jt,Kt,o,a),style:S?.[E.Dropdown],value:a.getMonth(N.date)}):w.createElement("span",{key:"month"},P(N.date,a)),j=d==="dropdown"||d==="dropdown-years"?w.createElement(r.YearsDropdown,{key:"year",className:c[E.YearsDropdown],"aria-label":bs(a.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Es(N.date),options:mc(Jt,Kt,o,a,!!t.reverseYears),style:S?.[E.Dropdown],value:a.getYear(N.date)}):w.createElement("span",{key:"year"},F(N.date,a));return a.getMonthYearOrder()==="year-first"?[j,C]:[C,j]})(),w.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(N.date,a.options,a))):w.createElement(r.CaptionLabel,{className:c[E.CaptionLabel],role:"status","aria-live":"polite"},T(N.date,a.options,a))),u==="around"&&!t.hideNavigation&&A===l-1&&w.createElement(r.NextMonthButton,{type:"button",className:c[E.NextMonthButton],tabIndex:me?void 0:-1,"aria-disabled":me?void 0:!0,"aria-label":ps(me),onClick:nn,"data-animated-button":t.animate?"true":void 0},w.createElement(r.Chevron,{disabled:me?void 0:!0,className:c[E.Chevron],orientation:t.dir==="rtl"?"left":"right"})),A===l-1&&u==="after"&&!t.hideNavigation&&w.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[E.Nav],style:S?.[E.Nav],"aria-label":er(),onPreviousClick:tn,onNextClick:nn,previousMonth:he,nextMonth:me}),w.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":fs(N.date,a.options,a)||void 0,className:c[E.MonthGrid],style:S?.[E.MonthGrid]},!t.hideWeekdays&&w.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[E.Weekdays],style:S?.[E.Weekdays]},k&&w.createElement(r.WeekNumberHeader,{"aria-label":vs(a.options),className:c[E.WeekNumberHeader],style:S?.[E.WeekNumberHeader],scope:"col"},Q()),ws.map(C=>w.createElement(r.Weekday,{"aria-label":gs(C,a.options,a),className:c[E.Weekday],key:String(C),style:S?.[E.Weekday],scope:"col"},Se(C,a.options,a)))),w.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[E.Weeks],style:S?.[E.Weeks]},N.weeks.map(C=>w.createElement(r.Week,{className:c[E.Week],key:C.weekNumber,style:S?.[E.Week],week:C},k&&w.createElement(r.WeekNumber,{week:C,style:S?.[E.WeekNumber],"aria-label":ys(C.weekNumber,{locale:i}),className:c[E.WeekNumber],scope:"row",role:"rowheader"},Z(C.weekNumber,a)),C.days.map(j=>{const{date:oe}=j,$=Xt(j);if($[B.focused]=!$.hidden&&!!Xn?.isEqualTo(j),$[ge.selected]=Qt?.(oe)||$.selected,Bt(_t)){const{from:rn,to:on}=_t;$[ge.range_start]=!!(rn&&on&&a.isSameDay(oe,rn)),$[ge.range_end]=!!(rn&&on&&a.isSameDay(oe,on)),$[ge.range_middle]=Oe(_t,oe,!0,a)}const Fs=fc($,S,t.modifiersStyles),Is=qi($,c,t.modifiersClassNames),$s=!tr&&!$.hidden?ds(oe,$,a.options,a):void 0;return w.createElement(r.Day,{key:`${j.isoDate}_${j.displayMonthId}`,day:j,modifiers:$,className:Is.join(" "),style:Fs,role:"gridcell","aria-selected":$.selected||void 0,"aria-label":$s,"data-day":j.isoDate,"data-month":j.outside?j.dateMonthId:void 0,"data-selected":$.selected||void 0,"data-disabled":$.disabled||void 0,"data-hidden":$.hidden||void 0,"data-outside":j.outside||void 0,"data-focused":$.focused||void 0,"data-today":$.today||void 0},!$.hidden&&tr?w.createElement(r.DayButton,{className:c[E.DayButton],style:S?.[E.DayButton],type:"button",day:j,modifiers:$,disabled:!$.focused&&$.disabled||void 0,"aria-disabled":$.focused&&$.disabled||void 0,tabIndex:us(j)?0:-1,"aria-label":ls(oe,$,a.options,a),onClick:_s(j,$),onBlur:ks(j,$),onFocus:Ms(j,$),onKeyDown:Ss(j,$),onMouseEnter:xs(j,$),onMouseLeave:Os(j,$)},I(oe,a.options,a)):!$.hidden&&I(j.date,a.options,a))})))))))),t.footer&&w.createElement(r.Footer,{className:c[E.Footer],style:S?.[E.Footer],role:"status","aria-live":"polite"},t.footer)))}function Wc({calendarMonth:e,startYear:t,endYear:n}){const{goToMonth:r}=Ye(),o=e.date,s=o.getFullYear(),a=o.getMonth(),i=x.useMemo(()=>{const u=t??s-100,l=n??s+10,h=[];for(let m=u;m<=l;m++)h.push(m);return h},[t,n,s]),c=x.useMemo(()=>{const u=[];for(let l=0;l<12;l++){const h=new Date(2e3,l,1);u.push(h.toLocaleString("he-IL",{month:"long"}))}return u},[]),d=u=>{const l=parseInt(u.target.value,10),h=new Date(l,a,1);r(h)},f=u=>{const l=parseInt(u.target.value,10),h=new Date(s,l,1);r(h)};return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:f,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:c.map((u,l)=>p.jsx("option",{value:l,children:u},l))}),p.jsx("select",{value:s,onChange:d,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:i.map(u=>p.jsx("option",{value:u,children:u},u))})]})}function Vc({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",buttonVariant:o="ghost",formatters:s,components:a,startYear:i,endYear:c,...d}){const f=yt();return p.jsx(Eo,{locale:uo,showOutsideDays:n,className:D("p-2 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...s},classNames:{root:D("w-fit",f.root),months:D("flex gap-4 flex-col md:flex-row relative",f.months),month:D("flex flex-col w-full gap-4",f.month),nav:D("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:D(Pt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:D(Pt({variant:o}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:D("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:D("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:D("relative cn-calendar-dropdown-root rounded-(--cell-radius)",f.dropdown_root),dropdown:D("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:D("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:D("flex",f.weekdays),weekday:D("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:D("flex w-full mt-2",f.week),week_number_header:D("select-none w-(--cell-size)",f.week_number_header),week_number:D("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:D("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",d.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",f.day),range_start:D("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",f.range_start),range_middle:D("rounded-none",f.range_middle),range_end:D("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",f.range_end),today:D("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",f.today),outside:D("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:D("text-muted-foreground opacity-50",f.disabled),hidden:D("invisible",f.hidden),...t},components:{Root:({className:u,rootRef:l,...h})=>p.jsx("div",{"data-slot":"calendar",ref:l,className:D(u),...h}),Chevron:({className:u,orientation:l,...h})=>l==="left"?p.jsx(Hr,{className:D("size-4",u),...h}):l==="right"?p.jsx(qr,{className:D("size-4",u),...h}):p.jsx(zn,{className:D("size-4",u),...h}),DayButton:Zc,WeekNumber:({children:u,...l})=>p.jsx("td",{...l,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:u})}),MonthCaption:u=>p.jsx(Wc,{...u,startYear:i,endYear:c}),...a},...d})}function Zc({className:e,day:t,modifiers:n,...r}){const o=yt(),s=x.useRef(null);return x.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(tt,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:D("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}const Yc={...uo,labels:{labelDayButton:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t.today&&(s=`היום, ${s}`),t.selected&&(s=`${s}, נבחר`),s},labelMonthDropdown:"בחר את החודש",labelNext:"עבור לחודש הבא",labelPrevious:"עבור לחודש הקודם",labelWeekNumber:e=>`שבוע ${e}`,labelYearDropdown:"בחר את השנה",labelGrid:(e,t,n)=>(n??new J(t)).formatMonthYear(e),labelGridcell:(e,t,n,r)=>{let s=(r??new J(n)).format(e,"PPPP");return t?.today&&(s=`היום, ${s}`),s},labelNav:"סרגל ניווט",labelWeekNumberHeader:"מספר שבוע",labelWeekday:(e,t,n)=>(n??new J(t)).format(e,"cccc")}},An=1440*60*1e3,Wn=Date.UTC(1,0,1),Lc=-2067381,Bc=["tishrei","cheshvan","kislev","tevet","shevat","adar","nisan","iyar","sivan","tamuz","av","elul"],Rc=["tishrei","cheshvan","kislev","tevet","shevat","adarI","adar","nisan","iyar","sivan","tamuz","av","elul"],yn=235,yr=new Map,vr=new Map;function qe(e,t){return(e%t+t)%t}function mt(e){return qe(7*e+1,19)<7}function Uc(e){return Math.floor((235*e-234)/19)}function Hc(e){const t=Uc(e),n=204+793*qe(t,1080),r=5+12*t+793*Math.floor(t/1080),o=1+29*t+Math.floor(r/24),s=qe(r,24)*1080+n;let a=o;const i=mt(e),c=mt(e-1);(s>=19440||qe(a,7)===2&&s>=9924&&!i||qe(a,7)===1&&s>=16789&&c)&&(a+=1);const d=qe(a,7);return(d===0||d===3||d===5)&&(a+=1),a}function Xe(e){const t=yr.get(e);if(t!==void 0)return t;const n=Lc+Hc(e);return yr.set(e,n),n}function qc(e){const t=vr.get(e);if(t!==void 0)return t;const n=Xe(e+1)-Xe(e);return vr.set(e,n),n}function Gc(e){const t=qc(e);return mt(e)?t===383?"deficient":t===384?"regular":"complete":t===353?"deficient":t===354?"regular":"complete"}function zo(e){return mt(e)?Rc:Bc}function Co(e,t){const n=zo(e);if(t<0||t>=n.length)throw new RangeError(`Invalid month index ${t} for year ${e}`);return n[t]}function We(e){return zo(e).length}function bt(e,t){const n=Co(e,t),r=Gc(e);switch(n){case"tishrei":return 30;case"cheshvan":return r==="complete"?30:29;case"kislev":return r==="deficient"?29:30;case"tevet":return 29;case"shevat":return 30;case"adarI":return 30;case"adar":return 29;case"nisan":return 30;case"iyar":return 29;case"sivan":return 30;case"tamuz":return 29;case"av":return 30;case"elul":return 29;default:return 0}}function Vn(e,t){return Co(e,t)}function Jc(e){const t=e.getFullYear()<100,n=t?e.getUTCFullYear():e.getFullYear(),r=t?e.getUTCMonth():e.getMonth(),o=t?e.getUTCDate():e.getDate(),s=new Date(0);return s.setUTCFullYear(n,r,o),s.setUTCHours(0,0,0,0),Math.floor((s.getTime()-Wn)/An)+1}function Kc(e){const t=new Date(Wn+(e-1)*An),n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(0,0,0,0),n}function Xc({year:e,monthIndex:t,day:n}){let r=n-1;for(let o=0;o<t;o+=1)r+=bt(e,o);return Xe(e)+r}function Qc(e){const t=new Date(Wn+(e-1)*An);let n=t.getUTCFullYear()+3760;for(t.getUTCMonth()>=8&&(n+=1);e>=Xe(n+1);)n+=1;for(;e<Xe(n);)n-=1;let r=e-Xe(n);const o=We(n);let s=0;for(;s<o;){const a=bt(n,s);if(r<a)break;r-=a,s+=1}return{year:n,monthIndex:s,day:r+1}}function R(e){return Qc(Jc(e))}function Me(e){return Kc(Xc(e))}function eu(e){if(e<=1)return 0;const t=Math.floor((e-1)/19);let n=t*yn,r=t*19+1;for(;r<e;)n+=We(r),r+=1;return n}function nt({year:e,monthIndex:t}){return eu(e)+t}function tu(e){let t=e,n=1;if(t>=0){const r=Math.floor(t/yn);for(n+=r*19,t-=r*yn;;){const o=We(n);if(t<o)break;t-=o,n+=1}return{year:n,month:t}}for(;t<0;){n-=1;const r=We(n);t+=r}return{year:n,month:t}}function Zn(e,t,n){const r=bt(e,t);return Math.min(n,r)}function Yn(e,t){const{year:n,month:r}=tu(e);return{year:n,monthIndex:r,day:Zn(n,r,t)}}function nu(e){return e+1}function ru(e,t){if(t===0)return new Date(e.getTime());const n=R(e),r=nt(n)+t,o=Yn(r,n.day),s=Zn(o.year,o.monthIndex,o.day);return Me({...o,day:s})}function fn(e,t){const n=We(e);for(let r=0;r<n;r+=1)if(Vn(e,r)===t)return r;return-1}function To(e,t){const n=R(e),r=t,o=Vn(n.year,n.monthIndex);let s=fn(r,o);if(s===-1)if(o==="adarI")s=fn(r,"adar");else if(o==="adar"&&!mt(r))s=fn(r,"adar");else{const i=We(r);s=Math.min(n.monthIndex,i-1)}const a=Zn(r,s,n.day);return Me({year:r,monthIndex:s,day:a})}function ou(e,t){if(t===0)return new Date(e.getTime());const n=R(e);return To(e,n.year+t)}function su(e,t){const n=R(e),r=R(t);return nt(n)-nt(r)}function au(e){const t=Y(e.start),n=Y(e.end);if(n.getTime()<t.getTime())return[];const r=R(t),o=R(n),s=nt(r),a=nt(o),i=[];for(let c=s;c<=a;c+=1){const d=Yn(c,1);i.push(Me(d))}return i}function iu(e){const t=Y(e.start),n=Y(e.end);if(n.getTime()<t.getTime())return[];const r=R(t).year,o=R(n).year,s=[];for(let a=r;a<=o;a+=1)s.push(Me({year:a,monthIndex:0,day:1}));return s}function cu(e){const t=R(e),n=bt(t.year,t.monthIndex);return Me({...t,day:n})}function uu(e){const t=R(e),n=We(t.year)-1,r=bt(t.year,n);return Me({year:t.year,monthIndex:n,day:r})}const br={tishrei:{en:"Tishrei",he:"תשרי"},cheshvan:{en:"Cheshvan",he:"חשוון"},kislev:{en:"Kislev",he:"כסלו"},tevet:{en:"Tevet",he:"טבת"},shevat:{en:"Shevat",he:"שבט"},adarI:{en:"Adar I",he:"אדר א׳"},adar:{en:"Adar",he:"אדר"},nisan:{en:"Nisan",he:"ניסן"},iyar:{en:"Iyar",he:"אייר"},sivan:{en:"Sivan",he:"סיוון"},tamuz:{en:"Tammuz",he:"תמוז"},av:{en:"Av",he:"אב"},elul:{en:"Elul",he:"אלול"}},wr={long:{en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","שבת"]},narrow:{en:["S","M","T","W","T","F","S"],he:["א","ב","ג","ד","ה","ו","ש"]}},lu=e=>e?.locale?.code??"he",du=e=>{const t=R(e);return Vn(t.year,t.monthIndex)},vn=(e,t)=>{try{return new Intl.DateTimeFormat(t,{month:"long",calendar:"hebrew"}).format(e)}catch{const n=du(e);return t.startsWith("he")?br[n].he:br[n].en}},bn=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{weekday:n,calendar:"hebrew"}).format(e)}catch{const r=e.getDay();return t.startsWith("he")?wr[n].he[r]:wr[n].en[r]}},_r=(e,t,n)=>{try{return new Intl.DateTimeFormat(t,{dateStyle:n,calendar:"hebrew"}).format(e)}catch{const r=R(e),o=vn(e,t);return n==="full"?`${bn(e,t,"long")}, ${o} ${r.day}, ${r.year}`:`${o} ${r.day}, ${r.year}`}},ne=e=>e.toString(),fu=(e,t,n)=>{const r=n.includes("a");return new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:r}).format(e)};function hu(e,t,n){const o=lu(n),s=R(e),a=nu(s.monthIndex);switch(t){case"LLLL y":case"LLLL yyyy":return`${vn(e,o)} ${ne(s.year)}`;case"LLLL":return vn(e,o);case"PPP":return _r(e,o,"long");case"PPPP":return _r(e,o,"full");case"cccc":return bn(e,o,"long");case"cccccc":return bn(e,o,"narrow");case"yyyy":case"y":return ne(s.year);case"yyyy-MM":return`${ne(s.year)}-${ne(a).padStart(2,"0")}`;case"yyyy-MM-dd":return`${ne(s.year)}-${ne(a).padStart(2,"0")}-${ne(s.day).padStart(2,"0")}`;case"MM":return ne(a).padStart(2,"0");case"M":return ne(a);case"dd":return ne(s.day).padStart(2,"0");case"d":return ne(s.day);default:return/[Hh]/.test(t)&&/m/.test(t)?fu(e,o,t):`${ne(s.day)}/${ne(a)}/${ne(s.year)}`}}function mu(e){return R(e).monthIndex}function pu(e){return R(e).year}function gu(e,t){const n=R(e),r=R(t);return n.year===r.year&&n.monthIndex===r.monthIndex}function yu(e,t){return R(e).year===R(t).year}function vu(e,t,n){return Me({year:e,monthIndex:t,day:n})}function bu(e,t){const n=R(e),o=nt({year:n.year,monthIndex:0})+t,s=Yn(o,n.day);return Me(s)}function wu(e){const t=R(e);return Me({...t,day:1})}function _u(e){const t=R(e);return Me({year:t.year,monthIndex:0,day:1})}const Mu=Object.freeze(Object.defineProperty({__proto__:null,addMonths:ru,addYears:ou,differenceInCalendarMonths:su,eachMonthOfInterval:au,eachYearOfInterval:iu,endOfMonth:cu,endOfYear:uu,format:hu,getMonth:mu,getYear:pu,isSameMonth:gu,isSameYear:yu,newDate:vu,setMonth:bu,setYear:To,startOfMonth:wu,startOfYear:_u},Symbol.toStringTag,{value:"Module"}));function ku(e){const t=Su({locale:e.locale,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone});return w.createElement(Eo,{...e,locale:e.locale??Yc,numerals:e.numerals??"latn",dir:e.dir??"rtl",dateLib:t})}const Su=e=>new J(e,Mu);function xu({calendarMonth:e}){const{goToMonth:t,dayPickerProps:n}=Ye(),r=e.date,o=x.useMemo(()=>new K(r),[r]),s=o.getFullYear(),a=o.getMonthName(),{startMonth:i,endMonth:c}=n,d=x.useMemo(()=>{const m=i?new K(i).getFullYear():s-10,b=c?new K(c).getFullYear():s+10,g=[];for(let v=m;v<=b;v++)g.push(v);return g},[i,c,s]),f=x.useMemo(()=>(new K(1,"Tishrei",s).isLeapYear()?["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar I","Adar II","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]:["Tishrei","Cheshvan","Kislev","Tevet","Sh'vat","Adar","Nisan","Iyyar","Sivan","Tamuz","Av","Elul"]).map(g=>{const O=new K(1,g,s).greg().toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return{value:g,label:O}}),[s]),u=x.useMemo(()=>d.map(m=>({value:m,label:jt(m)})),[d]),l=x.useCallback(m=>{const b=parseInt(m.target.value,10);let g=a;const v=new K(1,"Tishrei",b).isLeapYear();g==="Adar II"&&!v||g==="Adar I"&&!v?g="Adar":g==="Adar"&&v&&(g="Adar II");try{t(new K(1,g,b).greg())}catch{t(new K(1,"Tishrei",b).greg())}},[a,t]),h=x.useCallback(m=>{const b=m.target.value;t(new K(1,b,s).greg())},[s,t]);return p.jsxs("div",{className:"flex items-center justify-center gap-1 z-20 flex-wrap",children:[p.jsx("select",{value:a,onChange:h,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0 max-w-[120px]",children:f.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))}),p.jsx("select",{value:s,onChange:l,className:"opacity-100 relative z-20 appearance-auto cursor-pointer py-1 px-2 border rounded-md bg-background text-foreground text-sm font-normal shadow-sm h-8 min-w-0",children:u.map(m=>p.jsx("option",{value:m.value,children:m.label},m.value))})]})}function Ou({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="dropdown",startMonth:o,endMonth:s,startYear:a,endYear:i,buttonVariant:c="ghost",formatters:d,components:f,...u}){const l=yt(),{startMonth:h,endMonth:m}=x.useMemo(()=>{const g=new K().getFullYear();return{startMonth:a?new K(1,"Tishrei",a).greg():o||new K(1,"Tishrei",g-120).greg(),endMonth:i?new K(29,"Elul",i).greg():s||new K(29,"Elul",g+20).greg()}},[o,s,a,i]),b=x.useMemo(()=>({formatDay:g=>jt(new K(g).getDate()),...d}),[d]);return p.jsx(ku,{dir:"rtl",showOutsideDays:n,className:D("p-3 [--cell-radius:var(--radius-md)] [--cell-size:--spacing(8)] bg-background group/calendar [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,startMonth:h,endMonth:m,formatters:b,classNames:{root:D("w-fit",l.root),months:D("flex gap-4 flex-col md:flex-row relative",l.months),month:D("flex flex-col w-full gap-4",l.month),nav:D("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:D(Pt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",l.button_previous),button_next:D(Pt({variant:c}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none z-30",l.button_next),month_caption:D("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:D("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-2 z-20"),caption_label:D("select-none font-medium",r==="label"?"text-sm":"cn-calendar-caption-label rounded-(--cell-radius) flex items-center gap-1 text-sm  [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:D("flex",l.weekdays),weekday:D("text-muted-foreground rounded-(--cell-radius) flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:D("flex w-full mt-2",l.week),week_number_header:D("select-none w-(--cell-size)",l.week_number_header),week_number:D("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:D("relative w-full rounded-(--cell-radius) h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-(--cell-radius) group/day aspect-square select-none",u.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-(--cell-radius)":"[&:first-child[data-selected=true]_button]:rounded-l-(--cell-radius)",l.day),range_start:D("rounded-l-(--cell-radius) bg-muted relative after:bg-muted after:absolute after:inset-y-0 after:w-4 after:right-0 -z-0 isolate",l.range_start),range_middle:D("rounded-none",l.range_middle),range_end:D("rounded-r-(--cell-radius) bg-muted relative after:bg-muted-200 after:absolute after:inset-y-0 after:w-4 after:left-0 -z-0 isolate",l.range_end),today:D("bg-muted text-foreground rounded-(--cell-radius) data-[selected=true]:rounded-none",l.today),outside:D("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:D("text-muted-foreground opacity-50",l.disabled),hidden:D("invisible",l.hidden),...t},components:{Root:({className:g,rootRef:v,...O})=>p.jsx("div",{"data-slot":"calendar",ref:v,className:D(g),...O}),Chevron:({className:g,orientation:v,...O})=>v==="left"?p.jsx(Hr,{className:D("size-4",g),...O}):v==="right"?p.jsx(qr,{className:D("size-4",g),...O}):p.jsx(zn,{className:D("size-4",g),...O}),DayButton:Du,WeekNumber:({children:g,...v})=>p.jsx("td",{...v,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:g})}),MonthCaption:xu,...f},...u})}function Du({className:e,day:t,modifiers:n,...r}){const o=yt(),s=x.useRef(null);return x.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(tt,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:D("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-muted data-[range-middle=true]:text-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-foreground relative isolate z-10 flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 border-0 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-(--cell-radius) data-[range-end=true]:rounded-r-(--cell-radius) data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-(--cell-radius) data-[range-start=true]:rounded-l-(--cell-radius) [&>span]:text-xs [&>span]:opacity-70",o.day,e),...r})}function Eu({value:e,onChange:t,disabled:n,maxDate:r,minDate:o}){const[s,a]=x.useState("gregorian"),[i,c]=x.useState(!1),d=r??new Date,f=x.useMemo(()=>{if(!e)return;const g=Xs(e,"yyyy-MM-dd",new Date);return to(g)?g:void 0},[e]),u=g=>{g&&(t($e(g,"yyyy-MM-dd")),c(!1))},l=x.useMemo(()=>{if(!f)return null;if(s==="hebrew"){const g=new K(f),v=f.toLocaleString("he-IL",{calendar:"hebrew",month:"long"});return`${jt(g.getDate())} ${v} ${jt(g.getFullYear())}`}else return $e(f,"dd/MM/yyyy")},[f,s]),h=x.useMemo(()=>new K().getFullYear(),[]),m=o?o.getFullYear():new Date().getFullYear()-100,b=d.getFullYear();return p.jsxs(Qs,{open:i,onOpenChange:c,children:[p.jsx(ea,{asChild:!0,children:p.jsxs(tt,{variant:"outline",className:D("w-full justify-start text-right font-normal",!e&&"text-muted-foreground"),disabled:n,children:[p.jsx(Ps,{className:"ml-2 h-4 w-4 shrink-0"}),l||p.jsx("span",{children:"בחר תאריך..."})]})}),p.jsx(ta,{className:"w-auto p-0",align:"start",children:p.jsxs(na,{value:s,onValueChange:g=>a(g),className:"w-full min-w-[280px] max-w-[300px]",children:[p.jsxs(ra,{className:"grid w-full grid-cols-2",children:[p.jsx(or,{value:"gregorian",children:"לועזי"}),p.jsx(or,{value:"hebrew",children:"עברי"})]}),p.jsx(sr,{value:"gregorian",className:"p-0",children:p.jsx(Vc,{mode:"single",selected:f,onSelect:u,defaultMonth:f,toDate:d,fromDate:o,startYear:m,endYear:b})}),p.jsxs(sr,{value:"hebrew",className:"p-0",children:[p.jsx("div",{className:"text-xs text-muted-foreground px-3 pt-2 pb-1 text-center",children:"הגריד מבוסס על מבנה לועזי, התאריכים העבריים אינם מדויקים"}),p.jsx(Ou,{mode:"single",selected:f,onSelect:u,defaultMonth:f,endYear:h,startYear:h-120})]})]})})]})}const Qe=new WeakMap,Ft=new WeakMap,At={current:[]};let hn=!1,ft=0;const lt=new Set,kt=new Map;function No(e){const t=Array.from(e).sort((n,r)=>n instanceof Ee&&n.options.deps.includes(r)?1:r instanceof Ee&&r.options.deps.includes(n)?-1:0);for(const n of t){if(At.current.includes(n))continue;At.current.push(n),n.recompute();const r=Ft.get(n);if(r)for(const o of r){const s=Qe.get(o);s&&No(s)}}}function zu(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Cu(e){const t={prevVal:e.prevState,currentVal:e.state};for(const n of e.listeners)n(t)}function Fo(e){if(ft>0&&!kt.has(e)&&kt.set(e,e.prevState),lt.add(e),!(ft>0)&&!hn)try{for(hn=!0;lt.size>0;){const t=Array.from(lt);lt.clear();for(const n of t){const r=kt.get(n)??n.prevState;n.prevState=r,zu(n)}for(const n of t){const r=Qe.get(n);r&&(At.current.push(n),No(r))}for(const n of t){const r=Qe.get(n);if(r)for(const o of r)Cu(o)}}}finally{hn=!1,At.current=[],kt.clear()}}function ve(e){ft++;try{e()}finally{if(ft--,ft===0){const t=lt.values().next().value;t&&Fo(t)}}}function Tu(e){return typeof e=="function"}class wn{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var o,s;this.listeners.add(r);const a=(s=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:s.call(o,r,this);return()=>{this.listeners.delete(r),a?.()}},this.prevState=t,this.state=t,this.options=n}setState(t){var n,r,o;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(t):Tu(t)?this.state=t(this.prevState):this.state=t,(o=(r=this.options)==null?void 0:r.onUpdate)==null||o.call(r),Fo(this)}}class Ee{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,r=new Array(n),o=new Array(n);for(let s=0;s<n;s++){const a=this.options.deps[s];r[s]=a.prevState,o[s]=a.state}return this.lastSeenDepValues=o,{prevDepVals:r,currDepVals:o,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const o=this.getDepVals();this.state=this.options.fn(o),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof Ee&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let s=0;s<o.length;s++)if(o[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,o;this.listeners.add(n);const s=(o=(r=this.options).onSubscribe)==null?void 0:o.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof Ee)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof wn){let r=Qe.get(n);r||(r=new Set,Qe.set(n,r)),r.add(this);let o=Ft.get(this);o||(o=new Set,Ft.set(this,o)),o.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof Ee)this.unregisterFromGraph(n.options.deps);else if(n instanceof wn){const r=Qe.get(n);r&&r.delete(this);const o=Ft.get(this);o&&o.delete(n)}}}var Nu=class{constructor(e,t){this.fn=e,this.options=t,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...n)=>{const r=Date.now()-this.lastExecutionTime;if(this.options.leading&&r>=this.options.wait)this.execute(...n);else if(this.lastArgs=n,!this.timeoutId&&this.options.trailing){const o=this.options.wait-r;this.isPending=!0,this.timeoutId=setTimeout(()=>{this.lastArgs!==void 0&&this.execute(...this.lastArgs)},o)}},this.execute=(...n)=>{this.fn(...n),this.options.onExecute?.(n,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},this.options.leading===void 0&&this.options.trailing===void 0&&(this.options.leading=!0,this.options.trailing=!0)}};function Fu(e,t){return new Nu(e,t).maybeExecute}class Iu{#s=!0;#t;#e;#d;#n;#i;#r;#c;#f=0;#m=5;#a=!1;#u=!1;#o=null;#h=()=>{this.debugLog("Connected to event bus"),this.#i=!0,this.#a=!1,this.debugLog("Emitting queued events",this.#n),this.#n.forEach(t=>this.emitEventToBus(t)),this.#n=[],this.stopConnectLoop(),this.#e().removeEventListener("tanstack-connect-success",this.#h)};#l=()=>{if(this.#f<this.#m){this.#f++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#e().removeEventListener("tanstack-connect",this.#l),this.#u=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#a||(this.#a=!0,this.#e().addEventListener("tanstack-connect-success",this.#h),this.#l())};constructor({pluginId:t,debug:n=!1,enabled:r=!0,reconnectEveryMs:o=300}){this.#t=t,this.#s=r,this.#e=this.getGlobalTarget,this.#d=n,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#n=[],this.#i=!1,this.#u=!1,this.#r=null,this.#c=o}startConnectLoop(){this.#r!==null||this.#i||(this.debugLog(`Starting connect loop (every ${this.#c}ms)`),this.#r=setInterval(this.#l,this.#c))}stopConnectLoop(){this.#a=!1,this.#r!==null&&(clearInterval(this.#r),this.#r=null,this.#n=[],this.debugLog("Stopped connect loop"))}debugLog(...t){this.#d&&console.log(`🌴 [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if(typeof globalThis<"u"&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if(typeof window<"u"&&typeof window.addEventListener<"u")return this.debugLog("Using window as event target"),window;const t=typeof EventTarget<"u"?new EventTarget:void 0;return typeof t>"u"||typeof t.addEventListener>"u"?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#t}dispatchCustomEventShim(t,n){try{const r=new Event(t,{detail:n});this.#e().dispatchEvent(r)}catch{this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,n){try{this.#e().dispatchEvent(new CustomEvent(t,{detail:n}))}catch{this.dispatchCustomEventShim(t,n)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}createEventPayload(t,n){return{type:`${this.#t}:${t}`,payload:n,pluginId:this.#t}}emit(t,n){if(!this.#s){this.debugLog("Event bus client is disabled, not emitting event",t,n);return}if(this.#o&&(this.debugLog("Emitting event to internal event target",t,n),this.#o.dispatchEvent(new CustomEvent(`${this.#t}:${t}`,{detail:this.createEventPayload(t,n)}))),this.#u){this.debugLog("Previously failed to connect, not emitting to bus");return}if(!this.#i){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#n.push(this.createEventPayload(t,n)),typeof CustomEvent<"u"&&!this.#a&&(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(t,n))}on(t,n,r){const o=r?.withEventTarget??!1,s=`${this.#t}:${t}`;if(o&&(this.#o||(this.#o=new EventTarget),this.#o.addEventListener(s,i=>{n(i.detail)})),!this.#s)return this.debugLog("Event bus client is disabled, not registering event",s),()=>{};const a=i=>{this.debugLog("Received event from bus",i.detail),n(i.detail)};return this.#e().addEventListener(s,a),this.debugLog("Registered event to bus",s),()=>{o&&this.#o?.removeEventListener(s,a),this.#e().removeEventListener(s,a)}}onAll(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}onAllPluginEvents(t){if(!this.#s)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const n=r=>{const o=r.detail;this.#t&&o.pluginId!==this.#t||t(o)};return this.#e().addEventListener("tanstack-devtools-global",n),()=>this.#e().removeEventListener("tanstack-devtools-global",n)}}class $u extends Iu{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}}const ce=new $u;function Ut(e,t){return typeof e=="function"?e(t):e}function St(e,t){return Ln(t).reduce((r,o)=>{if(r===null)return null;if(typeof r<"u")return r[o]},e)}function xt(e,t,n){const r=Ln(t);function o(s){if(!r.length)return Ut(n,s);const a=r.shift();if(typeof a=="string"||typeof a=="number"&&!Array.isArray(s))return typeof s=="object"?(s===null&&(s={}),{...s,[a]:o(s[a])}):{[a]:o()};if(Array.isArray(s)&&typeof a=="number"){const i=s.slice(0,a);return[...i.length?i:new Array(a),o(s[a]),...s.slice(a+1)]}return[...new Array(a),o()]}return o(e)}function Pu(e,t){const n=Ln(t);function r(o){if(!o)return;if(n.length===1){const a=n[0];if(Array.isArray(o)&&typeof a=="number")return o.filter((d,f)=>f!==a);const{[a]:i,...c}=o;return c}const s=n.shift();if((typeof s=="string"||typeof s=="number"&&!Array.isArray(o))&&typeof o=="object")return{...o,[s]:r(o[s])};if(typeof s=="number"&&Array.isArray(o)){if(s>=o.length)return o;const a=o.slice(0,s);return[...a.length?a:new Array(s),r(o[s]),...o.slice(s+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const ju=/^(\d+)$/gm,Au=/\.(\d+)(?=\.)/gm,Wu=/^(\d+)\./gm,Vu=/\.(\d+$)/gm,Zu=/\.{2,}/gm,_n="__int__",Ot=`${_n}$1`;function Ln(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(ju,Ot).replace(Au,`.${Ot}.`).replace(Wu,`${Ot}.`).replace(Vu,`.${Ot}`).replace(Zu,".").split(".").map(t=>{if(t.startsWith(_n)){const n=t.substring(_n.length),r=parseInt(n,10);return String(r)===n?r:n}return t})}function Yu(e){return!(Array.isArray(e)&&e.length===0)}function Mn(e,t){const n=r=>r.validators.filter(Boolean).map(o=>({cause:o.cause,validate:o.fn}));return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:n})}function kn(e,t){const{asyncDebounceMs:n}=t,{onBlurAsyncDebounceMs:r,onChangeAsyncDebounceMs:o,onDynamicAsyncDebounceMs:s}=t.validators||{},a=n??0,i=c=>c.validators.filter(Boolean).map(d=>{const f=d?.cause||e;let u=a;switch(f){case"change":u=o??a;break;case"blur":u=r??a;break;case"dynamic":u=s??a;break;case"submit":u=0;break}return e==="submit"&&(u=0),{cause:f,validate:d.fn,debounceMs:u}});return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:i})}const Sn=e=>!!e&&typeof e=="object"&&"fields"in e;function Te(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,s]of e)if(!t.has(o)||!Object.is(s,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!r.includes(o)||!Te(e[o],t[o]))return!1;return!0}const Mr=({newFormValidatorError:e,isPreviousErrorFromFormValidator:t,previousErrorValue:n})=>e?{newErrorValue:e,newSource:"form"}:t?{newErrorValue:void 0,newSource:void 0}:n?{newErrorValue:n,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},kr=({formLevelError:e,fieldLevelError:t})=>t?{newErrorValue:t,newSource:"field"}:e?{newErrorValue:e,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function re(e,t){return e==null?t:{...e,...t}}let je=256;const It=[];let Dt;for(;je--;)It[je]=(je+256).toString(16).substring(1);function Io(){let e=0,t,n="";if(!Dt||je+16>256){for(Dt=new Array(256),e=256;e--;)Dt[e]=256*Math.random()|0;e=0,je=0}for(;e<16;e++)t=Dt[je+e],e===6?n+=It[t&15|64]:e===8?n+=It[t&63|128]:n+=It[t],e&1&&e>1&&e<11&&(n+="-");return je++,n}const Lu=Fu(e=>ce.emit("form-state",{id:e.formId,state:e.store.state}),{wait:300}),Ge=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});const t=e.event.async,n=t?void 0:{fn:e.validators.onMount,cause:"mount"},r={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},o={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},s={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},a=t?void 0:{fn:()=>{},cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[n],form:e.form});case"submit":return e.runValidation({validators:[r,o,s,a],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[o,a],form:e.form});case"change":return e.runValidation({validators:[r,a],form:e.form});default:throw new Error(`Unknown validation event type: ${e.event.type}`)}};function Bu(e,t){const n=new Map;for(const r of e){const o=r.path??[];let s=t,a="";for(let i=0;i<o.length;i++){const c=o[i];if(c===void 0)continue;const d=typeof c=="object"?c.key:c,f=Number(d);Array.isArray(s)&&!Number.isNaN(f)?a+=`[${f}]`:a+=(i>0?".":"")+String(d),typeof s=="object"&&s!==null?s=s[d]:s=void 0}n.set(a,(n.get(a)??[]).concat(r))}return Object.fromEntries(n)}const Sr=(e,t)=>{const n=Bu(e,t);return{form:n,fields:n}},Ae={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return t==="field"?r.issues:Sr(r.issues,e)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return t==="field"?r.issues:Sr(r.issues,e)}},$o=e=>!!e&&"~standard"in e,Je={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function Et(e){function t(f,u,l){const h=a(f,u,"move",l),m=Math.min(u,l),b=Math.max(u,l);for(let v=m;v<=b;v++)h.push(s(f,v));const g=Object.keys(e.fieldInfo).reduce((v,O)=>(O.startsWith(s(f,u))&&v.set(O,e.getFieldMeta(O)),v),new Map);c(h,u<l?"up":"down"),Object.keys(e.fieldInfo).filter(v=>v.startsWith(s(f,l))).forEach(v=>{const O=v.replace(s(f,l),s(f,u)),_=g.get(O);_&&e.setFieldMeta(v,_)})}function n(f,u){const l=a(f,u,"remove");c(l,"up")}function r(f,u,l){a(f,u,"swap",l).forEach(m=>{if(!m.toString().startsWith(s(f,u)))return;const b=m.toString().replace(s(f,u),s(f,l)),[g,v]=[e.getFieldMeta(m),e.getFieldMeta(b)];g&&e.setFieldMeta(b,g),v&&e.setFieldMeta(m,v)})}function o(f,u){const l=a(f,u,"insert");c(l,"down"),l.forEach(h=>{h.toString().startsWith(s(f,u))&&e.setFieldMeta(h,d())})}function s(f,u){return`${f}[${u}]`}function a(f,u,l,h){const m=[s(f,u)];switch(l){case"swap":m.push(s(f,h));break;case"move":{const[b,g]=[Math.min(u,h),Math.max(u,h)];for(let v=b;v<=g;v++)m.push(s(f,v));break}default:{const b=e.getFieldValue(f),g=Array.isArray(b)?b.length:0;for(let v=u+1;v<g;v++)m.push(s(f,v));break}}return Object.keys(e.fieldInfo).filter(b=>m.some(g=>b.startsWith(g)))}function i(f,u){return f.replace(/\[(\d+)\]/,(l,h)=>{const m=parseInt(h,10);return`[${u==="up"?m+1:Math.max(0,m-1)}]`})}function c(f,u){(u==="up"?f:[...f].reverse()).forEach(h=>{const m=i(h.toString(),u),b=e.getFieldMeta(m);b?e.setFieldMeta(h,b):e.setFieldMeta(h,d())})}const d=()=>Je;return{handleArrayMove:t,handleArrayRemove:n,handleArraySwap:r,handleArrayInsert:o}}function mn(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class xr{constructor(t){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const n=this.fieldMetaDerived.mount(),r=this.store.mount(),o=this.store.subscribe(()=>{Lu(this)}),s=ce.on("request-form-state",f=>{f.payload.id===this._formId&&ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),a=ce.on("request-form-reset",f=>{f.payload.id===this._formId&&this.reset()}),i=ce.on("request-form-force-submit",f=>{f.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),c=()=>{i(),a(),s(),o(),n(),r(),ce.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:d}=this.options.validators||{};return ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),d&&this.validateSync("mount"),c},this.update=n=>{if(!n)return;const r=this.options;this.options=n;const o=!!n.transform?.deps?.some((i,c)=>i!==this.prevTransformArray[c]),s=n.defaultValues&&!Te(n.defaultValues,r.defaultValues)&&!this.state.isTouched,a=!Te(n.defaultState,r.defaultState)&&!this.state.isTouched;!s&&!a&&!o||(ve(()=>{this.baseStore.setState(()=>mn(Object.assign({},this.state,a?n.defaultState:{},s?{values:n.defaultValues}:{},o?{_force_re_eval:!this.state._force_re_eval}:{})))}),ce.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(n,r)=>{const{fieldMeta:o}=this.state,s=this.resetFieldMeta(o);n&&!r?.keepDefaultValues&&(this.options={...this.options,defaultValues:n}),this.baseStore.setState(()=>mn({...this.options.defaultState,values:n??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:s}))},this.validateAllFields=async n=>{const r=[];return ve(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const a=s.instance;r.push(Promise.resolve().then(()=>a.validate(n,{skipFormValidation:!0}))),s.instance.state.meta.isTouched||s.instance.setMeta(i=>({...i,isTouched:!0}))})}),(await Promise.all(r)).flat()},this.validateArrayFieldsStartingFrom=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null,i=[`${n}[${r}]`];for(let u=r+1;u<=(a??0);u++)i.push(`${n}[${u}]`);const c=Object.keys(this.fieldInfo).filter(u=>i.some(l=>u.startsWith(l))),d=[];return ve(()=>{c.forEach(u=>{d.push(Promise.resolve().then(()=>this.validateField(u,o)))})}),(await Promise.all(d)).flat()},this.validateField=(n,r)=>{const o=this.fieldInfo[n]?.instance;return o?(o.state.meta.isTouched||o.setMeta(s=>({...s,isTouched:!0})),o.validate(r)):[]},this.validateSync=n=>{const r=Mn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Ge});let o=!1;const s={};return ve(()=>{for(const c of r){if(!c.validate)continue;const d=this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:f,fieldErrors:u}=$t(d),l=ct(c.cause),h=new Set([...Object.keys(this.state.fieldMeta),...Object.keys(u||{})]);for(const m of h){if(this.baseStore.state.fieldMetaBase[m]===void 0&&!u?.[m])continue;const b=this.getFieldMeta(m)??Je,{errorMap:g,errorSourceMap:v}=b,O=u?.[m],{newErrorValue:_,newSource:M}=Mr({newFormValidatorError:O,isPreviousErrorFromFormValidator:v?.[l]==="form",previousErrorValue:g?.[l]});M==="form"&&(s[m]={...s[m],[l]:O}),g?.[l]!==_&&this.setFieldMeta(m,(k=Je)=>({...k,errorMap:{...k.errorMap,[l]:_},errorSourceMap:{...k.errorSourceMap,[l]:M}}))}this.state.errorMap?.[l]!==f&&this.baseStore.setState(m=>({...m,errorMap:{...m.errorMap,[l]:f}})),(f||u)&&(o=!0)}const a=ct("submit");this.state.errorMap?.[a]&&n!=="submit"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[a]:void 0}}));const i=ct("server");this.state.errorMap?.[i]&&n!=="server"&&!o&&this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[i]:void 0}}))}),{hasErrored:o,fieldsErrorMap:s}},this.validateAsync=async n=>{const r=kn(n,{...this.options,form:this,validationLogic:this.options.validationLogic||Ge});this.state.isFormValidating||this.baseStore.setState(c=>({...c,isFormValidating:!0}));const o=[];let s;for(const c of r){if(!c.validate)continue;const d=ct(c.cause);this.state.validationMetaMap[d]?.lastAbortController.abort();const u=new AbortController;this.state.validationMetaMap[d]={lastAbortController:u},o.push(new Promise(async l=>{let h;try{h=await new Promise((v,O)=>{setTimeout(async()=>{if(u.signal.aborted)return v(void 0);try{v(await this.runValidator({validate:c.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:u.signal},type:"validateAsync"}))}catch(_){O(_)}},c.debounceMs)})}catch(v){h=v}const{formError:m,fieldErrors:b}=$t(h);b&&(s=s?{...s,...b}:b);const g=ct(c.cause);for(const v of Object.keys(this.state.fieldMeta)){if(this.baseStore.state.fieldMetaBase[v]===void 0)continue;const O=this.getFieldMeta(v);if(!O)continue;const{errorMap:_,errorSourceMap:M}=O,k=s?.[v],{newErrorValue:S,newSource:T}=Mr({newFormValidatorError:k,isPreviousErrorFromFormValidator:M?.[g]==="form",previousErrorValue:_?.[g]});_?.[g]!==S&&this.setFieldMeta(v,I=>({...I,errorMap:{...I.errorMap,[g]:S},errorSourceMap:{...I.errorSourceMap,[g]:T}}))}this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[g]:m}})),l(s?{fieldErrors:s,errorMapKey:g}:void 0)}))}let a=[];const i={};if(o.length){a=await Promise.all(o);for(const c of a)if(c?.fieldErrors){const{errorMapKey:d}=c;for(const[f,u]of Object.entries(c.fieldErrors)){const h={...i[f]||{},[d]:u};i[f]=h}}}return this.baseStore.setState(c=>({...c,isFormValidating:!1})),i},this.validate=n=>{const{hasErrored:r,fieldsErrorMap:o}=this.validateSync(n);return r&&!this.options.asyncAlways?o:this.validateAsync(n)},this._handleSubmit=async n=>{this.baseStore.setState(s=>({...s,isSubmitted:!1,submissionAttempts:s.submissionAttempts+1,isSubmitSuccessful:!1})),ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance&&(s.instance.state.meta.isTouched||s.instance.setMeta(a=>({...a,isTouched:!0})))})});const r=n??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride){this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r});return}this.baseStore.setState(s=>({...s,isSubmitting:!0}));const o=()=>{this.baseStore.setState(s=>({...s,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(s=>s.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){o(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:r}),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}ve(()=>{Object.values(this.fieldInfo).forEach(s=>{s.instance?.options.listeners?.onSubmit?.({value:s.instance.state.value,fieldApi:s.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:r});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:r}),ve(()=>{this.baseStore.setState(s=>({...s,isSubmitted:!0,isSubmitSuccessful:!0})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),o()})}catch(s){throw this.baseStore.setState(a=>({...a,isSubmitSuccessful:!1})),ce.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:s}),o(),s}},this.getFieldValue=n=>St(this.state.values,n),this.getFieldMeta=n=>this.state.fieldMeta[n],this.getFieldInfo=n=>this.fieldInfo[n]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(n,r)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[n]:Ut(r,o.fieldMetaBase[n])}}))},this.resetFieldMeta=n=>Object.keys(n).reduce((r,o)=>{const s=o;return r[s]=Je,r},{}),this.setFieldValue=(n,r,o)=>{const s=o?.dontUpdateMeta??!1,a=o?.dontRunListeners??!1,i=o?.dontValidate??!1;ve(()=>{s||this.setFieldMeta(n,c=>({...c,isTouched:!0,isDirty:!0,errorMap:{...c?.errorMap,onMount:void 0}})),this.baseStore.setState(c=>({...c,values:xt(c.values,n,r)}))}),a||this.getFieldInfo(n).instance?.triggerOnChangeListener(),i||this.validateField(n,"change")},this.deleteField=n=>{const o=[...Object.keys(this.fieldInfo).filter(s=>{const a=n.toString();return s!==a&&s.startsWith(a)}),n];this.baseStore.setState(s=>{const a={...s};return o.forEach(i=>{a.values=Pu(a.values,i),delete this.fieldInfo[i],delete a.fieldMetaBase[i]}),a})},this.pushFieldValue=(n,r,o)=>{this.setFieldValue(n,s=>[...Array.isArray(s)?s:[],r],o)},this.insertFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>[...i.slice(0,r),o,...i.slice(r)],re(s,{dontValidate:!0}));const a=s?.dontValidate??!1;a||await this.validateField(n,"change"),Et(this).handleArrayInsert(n,r),a||await this.validateArrayFieldsStartingFrom(n,r,"change")},this.replaceFieldValue=async(n,r,o,s)=>{this.setFieldValue(n,i=>i.map((c,d)=>d===r?o:c),re(s,{dontValidate:!0})),(s?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.removeFieldValue=async(n,r,o)=>{const s=this.getFieldValue(n),a=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(n,c=>c.filter((d,f)=>f!==r),re(o,{dontValidate:!0})),Et(this).handleArrayRemove(n,r),a!==null){const c=`${n}[${a}]`;this.deleteField(c)}(o?.dontValidate??!1)||(await this.validateField(n,"change"),await this.validateArrayFieldsStartingFrom(n,r,"change"))},this.swapFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=i[r],d=i[o];return xt(xt(i,`${r}`,d),`${o}`,c)},re(s,{dontValidate:!0})),Et(this).handleArraySwap(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.moveFieldValues=(n,r,o,s)=>{this.setFieldValue(n,i=>{const c=[...i];return c.splice(o,0,c.splice(r,1)[0]),c},re(s,{dontValidate:!0})),Et(this).handleArrayMove(n,r,o),(s?.dontValidate??!1)||(this.validateField(n,"change"),this.validateField(`${n}[${r}]`,"change"),this.validateField(`${n}[${o}]`,"change"))},this.clearFieldValues=(n,r)=>{const o=this.getFieldValue(n),s=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(n,[],re(r,{dontValidate:!0})),s!==null)for(let i=0;i<=s;i++){const c=`${n}[${i}]`;this.deleteField(c)}(r?.dontValidate??!1)||this.validateField(n,"change")},this.resetField=n=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[n]:Je},values:this.options.defaultValues?xt(r.values,n,St(this.options.defaultValues,n)):r.values}))},this.setErrorMap=n=>{ve(()=>{Object.entries(n).forEach(([r,o])=>{const s=r;if(Sn(o)){const{formError:a,fieldErrors:i}=$t(o);for(const c of Object.keys(this.fieldInfo))this.getFieldMeta(c)&&this.setFieldMeta(c,f=>({...f,errorMap:{...f.errorMap,[s]:i?.[c]},errorSourceMap:{...f.errorSourceMap,[s]:"form"}}));this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[s]:a}}))}else this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[s]:o}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((n,[r,o])=>(Object.keys(o).length&&o.errors.length&&(n[r]={errors:o.errors,errorMap:o.errorMap}),n),{})}),this.parseValuesWithSchema=n=>Ae.validate({value:this.state.values,validationSource:"form"},n),this.parseValuesWithSchemaAsync=n=>Ae.validateAsync({value:this.state.values,validationSource:"form"},n),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??Io(),this._devtoolsSubmissionOverride=!1,this.baseStore=new wn(mn({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values})),this.fieldMetaDerived=new Ee({deps:[this.baseStore],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0];let c=0;const d={};for(const f of Object.keys(i.fieldMetaBase)){const u=i.fieldMetaBase[f],l=a?.fieldMetaBase[f],h=s?.[f],m=St(i.values,f);let b=h?.errors;if(!l||u.errorMap!==l.errorMap){b=Object.values(u.errorMap??{}).filter(M=>M!==void 0);const _=this.getFieldInfo(f)?.instance;_&&!_.options.disableErrorFlat&&(b=b.flat(1))}const g=!Yu(b),v=!u.isDirty,O=Te(m,St(this.options.defaultValues,f))||Te(m,this.getFieldInfo(f)?.instance?.options.defaultValue);if(h&&h.isPristine===v&&h.isValid===g&&h.isDefaultValue===O&&h.errors===b&&u===l){d[f]=h,c++;continue}d[f]={...u,errors:b??[],isPristine:v,isValid:g,isDefaultValue:O}}return Object.keys(i.fieldMetaBase).length&&s&&c===Object.keys(i.fieldMetaBase).length?s:d}}),this.store=new Ee({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:n,currDepVals:r,prevVal:o})=>{const s=o,a=n?.[0],i=r[0],c=r[1],d=Object.values(c).filter(Boolean),f=d.some(F=>F.isValidating),u=d.every(F=>F.isValid),l=d.some(F=>F.isTouched),h=d.some(F=>F.isBlurred),m=d.every(F=>F.isDefaultValue),b=l&&i.errorMap?.onMount,g=d.some(F=>F.isDirty),v=!g,O=!!(i.errorMap?.onMount||d.some(F=>F?.errorMap?.onMount)),_=!!f;let M=s?.errors??[];(!a||i.errorMap!==a.errorMap)&&(M=Object.values(i.errorMap).reduce((F,H)=>H===void 0?F:H&&Sn(H)?(F.push(H.form),F):(F.push(H),F),[]));const k=M.length===0,S=u&&k,T=this.options.canSubmitWhenInvalid??!1,I=i.submissionAttempts===0&&!l&&!O||!_&&!i.isSubmitting&&S||T;let P=i.errorMap;if(b&&(M=M.filter(F=>F!==i.errorMap.onMount),P=Object.assign(P,{onMount:void 0})),s&&a&&s.errorMap===P&&s.fieldMeta===this.fieldMetaDerived.state&&s.errors===M&&s.isFieldsValidating===f&&s.isFieldsValid===u&&s.isFormValid===k&&s.isValid===S&&s.canSubmit===I&&s.isTouched===l&&s.isBlurred===h&&s.isPristine===v&&s.isDefaultValue===m&&s.isDirty===g&&Te(a,i))return s;let Z={...i,errorMap:P,fieldMeta:this.fieldMetaDerived.state,errors:M,isFieldsValidating:f,isFieldsValid:u,isFormValid:k,isValid:S,canSubmit:I,isTouched:l,isBlurred:h,isPristine:v,isDefaultValue:m,isDirty:g};const Q=this.options.transform?.deps??[];if(Q.length!==this.prevTransformArray.length||Q.some((F,H)=>F!==this.prevTransformArray[H])){const F=Object.assign({},this,{state:Z});this.options.transform?.fn(F),Z=F.state,this.prevTransformArray=Q}return Z}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return $o(t.validate)?Ae[t.type](t.value,t.validate):t.validate(t.value)}handleSubmit(t){return this._handleSubmit(t)}}function $t(e){if(e){if(Sn(e)){const t=$t(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function ct(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Or{constructor(t){this.options={},this.mount=()=>{const n=this.store.mount();this.options.defaultValue!==void 0&&!this.getMeta().isTouched&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const r=this.getInfo();r.instance=this,this.update(this.options);const{onMount:o}=this.options.validators||{};if(o){const s=this.runValidator({validate:o,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});s&&this.setMeta(a=>({...a,errorMap:{...a?.errorMap,onMount:s},errorSourceMap:{...a?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),n},this.update=n=>{if(this.options=n,this.name=n.name,!this.state.meta.isTouched&&this.options.defaultValue!==void 0){const r=this.form.getFieldValue(this.name);Te(r,n.defaultValue)||this.form.setFieldValue(this.name,n.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})}this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{this.form.setFieldValue(this.name,n,re(r,{dontRunListeners:!0,dontValidate:!0})),r?.dontRunListeners||this.triggerOnChangeListener(),r?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{this.form.pushFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(n,r,o)=>{this.form.insertFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(n,r,o)=>{this.form.replaceFieldValue(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(n,r)=>{this.form.removeFieldValue(this.name,n,re(r,{dontRunListeners:!0})),r?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(n,r,o)=>{this.form.swapFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(n,r,o)=>{this.form.moveFieldValues(this.name,n,r,re(o,{dontRunListeners:!0})),o?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=n=>{this.form.clearFieldValues(this.name,re(n,{dontRunListeners:!0})),n?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),o=[];for(const s of r){if(!s.instance)continue;const{onChangeListenTo:a,onBlurListenTo:i}=s.instance.options.validators||{};n==="change"&&a?.includes(this.name)&&o.push(s.instance),n==="blur"&&i?.includes(this.name)&&o.push(s.instance)}return o},this.validateSync=(n,r)=>{const o=Mn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ge}),a=this.getLinkedFields(n).reduce((d,f)=>{const u=Mn(n,{...f.options,form:f.form,validationLogic:f.form.options.validationLogic||Ge});return u.forEach(l=>{l.field=f}),d.concat(u)},[]);let i=!1;ve(()=>{const d=(f,u)=>{const l=zt(u.cause),h=u.validate?Dr(f.runValidator({validate:u.validate,value:{value:f.store.state.value,validationSource:"field",fieldApi:f},type:"validate"})):void 0,m=r[l],{newErrorValue:b,newSource:g}=kr({formLevelError:m,fieldLevelError:h});f.state.meta.errorMap?.[l]!==b&&f.setMeta(v=>({...v,errorMap:{...v.errorMap,[l]:b},errorSourceMap:{...v.errorSourceMap,[l]:g}})),b&&(i=!0)};for(const f of o)d(this,f);for(const f of a)f.validate&&d(f.field,f)});const c=zt("submit");return this.state.meta.errorMap?.[c]&&n!=="submit"&&!i&&this.setMeta(d=>({...d,errorMap:{...d.errorMap,[c]:void 0},errorSourceMap:{...d.errorSourceMap,[c]:void 0}})),{hasErrored:i}},this.validateAsync=async(n,r)=>{const o=kn(n,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Ge}),s=await r,a=this.getLinkedFields(n),i=a.reduce((h,m)=>{const b=kn(n,{...m.options,form:m.form,validationLogic:m.form.options.validationLogic||Ge});return b.forEach(g=>{g.field=m}),h.concat(b)},[]),c=[],d=[],f=o.some(h=>h.validate)||i.some(h=>h.validate);if(f){this.state.meta.isValidating||this.setMeta(h=>({...h,isValidating:!0}));for(const h of a)h.setMeta(m=>({...m,isValidating:!0}))}const u=(h,m,b)=>{const g=zt(m.cause);h.getInfo().validationMetaMap[g]?.lastAbortController.abort();const O=new AbortController;this.getInfo().validationMetaMap[g]={lastAbortController:O},b.push(new Promise(async _=>{let M;try{M=await new Promise((P,Z)=>{this.timeoutIds.validations[m.cause]&&clearTimeout(this.timeoutIds.validations[m.cause]),this.timeoutIds.validations[m.cause]=setTimeout(async()=>{if(O.signal.aborted)return P(void 0);try{P(await this.runValidator({validate:m.validate,value:{value:h.store.state.value,fieldApi:h,signal:O.signal,validationSource:"field"},type:"validateAsync"}))}catch(Q){Z(Q)}},m.debounceMs)})}catch(P){M=P}if(O.signal.aborted)return _(void 0);const k=Dr(M),S=s[this.name]?.[g],{newErrorValue:T,newSource:I}=kr({formLevelError:S,fieldLevelError:k});h.setMeta(P=>({...P,errorMap:{...P?.errorMap,[g]:T},errorSourceMap:{...P.errorSourceMap,[g]:I}})),_(T)}))};for(const h of o)h.validate&&u(this,h,c);for(const h of i)h.validate&&u(h.field,h,d);let l=[];if((c.length||d.length)&&(l=await Promise.all(c),await Promise.all(d)),f){this.setMeta(h=>({...h,isValidating:!1}));for(const h of a)h.setMeta(m=>({...m,isValidating:!1}))}return l.filter(Boolean)},this.validate=(n,r)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=r?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:s}=this.validateSync(n,o[this.name]??{});if(s&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[zt(n)]?.lastAbortController.abort(),this.state.meta.errors;const a=r?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(r=>({...r,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(r=>({...r,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=n=>{this.setMeta(r=>({...r,errorMap:{...r.errorMap,...n}}))},this.parseValueWithSchema=n=>Ae.validate({value:this.state.value,validationSource:"field"},n),this.parseValueWithSchemaAsync=n=>Ae.validateAsync({value:this.state.value,validationSource:"field"},n),this.triggerOnChangeListener=()=>{const n=this.form.options.listeners?.onChangeDebounceMs;n&&n>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},n)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const r=this.options.listeners?.onChangeDebounceMs;r&&r>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},r)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.options=t,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Ee({deps:[this.form.store],fn:({prevVal:n})=>{const r=n,o=this.form.getFieldMeta(this.name)??{...Je,...t.defaultMeta};let s=this.form.getFieldValue(this.name);return!o.isTouched&&s===void 0&&this.options.defaultValue!==void 0&&!Te(s,this.options.defaultValue)&&(s=this.options.defaultValue),r&&r.value===s&&r.meta===o?r:{value:s,meta:o}}})}get state(){return this.store.state}runValidator(t){return $o(t.validate)?Ae[t.type](t.value,t.validate):t.validate(t.value)}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const n=this.options.listeners?.onBlurDebounceMs;n&&n>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},n)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function Dr(e){if(e)return e}function zt(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}function Ce(e,t=r=>r,n={}){const r=n.equal??Ru;return oa.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,r)}function Ru(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!t.has(r)||!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();const n=Er(e);if(n.length!==Er(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Er(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}const Wt=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Uu(e){const[t,n]=x.useState(()=>({form:e.form,name:e.name})),[r,o]=x.useState(()=>new Or({...e}));(t.form!==e.form||t.name!==e.name)&&(o(new Or({...e})),n({form:e.form,name:e.name}));const s=Ce(r.store,e.mode==="array"?h=>Object.keys(h.value??[]).length:h=>h.value),a=Ce(r.store,h=>h.meta.isTouched),i=Ce(r.store,h=>h.meta.isBlurred),c=Ce(r.store,h=>h.meta.isDirty),d=Ce(r.store,h=>h.meta.errorMap),f=Ce(r.store,h=>h.meta.errorSourceMap),u=Ce(r.store,h=>h.meta.isValidating),l=x.useMemo(()=>{const m={...r,get state(){return{value:e.mode==="array"?r.state.value:s,get meta(){return{...r.state.meta,isTouched:a,isBlurred:i,isDirty:c,errorMap:d,errorSourceMap:f,isValidating:u}}}}};return m.Field=Po,m},[r,e.mode,s,a,i,c,d,f,u]);return Wt(r.mount,[r]),Wt(()=>{r.update(e)}),l}const Po=(({children:e,...t})=>{const n=Uu(t),r=x.useMemo(()=>Ut(e,n),[e,n]);return p.jsx(p.Fragment,{children:r})});function Hu(){return x.useState(()=>Io())[0]}const qu=x.version.split(".")[0]==="17"?Hu:x.useId;function Gu({form:e,selector:t,children:n}){const r=Ce(e.store,t);return p.jsx(p.Fragment,{children:Ut(n,r)})}function Ju(e){const t=qu(),[n,r]=x.useState(e?.formId),[o,s]=x.useState(()=>new xr({...e,formId:e?.formId??t}));if(n!==e?.formId){const i=e?.formId??t;s(new xr({...e,formId:i})),r(i)}const a=x.useMemo(()=>{const i={...o,handleSubmit:((...c)=>o._handleSubmit(...c)),get formId(){return o._formId},get state(){return o.store.state}};return i.Field=function(d){return p.jsx(Po,{...d,form:o})},i.Subscribe=function(d){return p.jsx(Gu,{form:o,selector:d.selector,children:d.children})},i},[o]);return Wt(o.mount,[]),Wt(()=>{o.update(e)}),a}function y(e,t,n){function r(i,c){if(i._zod||Object.defineProperty(i,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),i._zod.traits.has(e))return;i._zod.traits.add(e),t(i,c);const d=a.prototype,f=Object.keys(d);for(let u=0;u<f.length;u++){const l=f[u];l in i||(i[l]=d[l].bind(i))}}const o=n?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function a(i){var c;const d=n?.Parent?new s:this;r(d,i),(c=d._zod).deferred??(c.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:i=>n?.Parent&&i instanceof n.Parent?!0:i?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class et extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class jo extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Ao={};function Ve(e){return Ao}function Wo(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function xn(e,t){return typeof t=="bigint"?t.toString():t}function Bn(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Rn(e){return e==null}function Un(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const zr=Symbol("evaluating");function V(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==zr)return r===void 0&&(r=zr,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Le(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ne(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Cr(e){return JSON.stringify(e)}function Ku(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Vo="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Vt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Xu=Bn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function pt(e){if(Vt(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Vt(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Zo(e){return pt(e)?{...e}:Array.isArray(e)?[...e]:e}const Qu=new Set(["string","number","symbol"]);function rt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function el(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function tl(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Ne(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=n.shape[i])}return Le(this,"shape",a),a},checks:[]});return Fe(e,s)}function nl(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Ne(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return Le(this,"shape",a),a},checks:[]});return Fe(e,s)}function rl(e,t){if(!pt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=Ne(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Le(this,"shape",s),s}});return Fe(e,o)}function ol(e,t){if(!pt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Ne(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Le(this,"shape",r),r}});return Fe(e,n)}function sl(e,t){const n=Ne(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Le(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Fe(e,n)}function al(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Ne(t._zod.def,{get shape(){const i=t._zod.def.shape,c={...i};if(n)for(const d in n){if(!(d in i))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(c[d]=e?new e({type:"optional",innerType:i[d]}):i[d])}else for(const d in i)c[d]=e?new e({type:"optional",innerType:i[d]}):i[d];return Le(this,"shape",c),c},checks:[]});return Fe(t,a)}function il(e,t,n){const r=Ne(t._zod.def,{get shape(){const o=t._zod.def.shape,s={...o};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:o[a]}))}else for(const a in o)s[a]=new e({type:"nonoptional",innerType:o[a]});return Le(this,"shape",s),s}});return Fe(t,r)}function Ke(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Yo(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ct(e){return typeof e=="string"?e:e?.message}function Ze(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Ct(e.inst?._zod.def?.error?.(e))??Ct(t?.error?.(e))??Ct(n.customError?.(e))??Ct(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Hn(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function gt(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Lo=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,xn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Bo=y("$ZodError",Lo),Ro=y("$ZodError",Lo,{Parent:Error});function cl(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function ul(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,i=0;for(;i<s.path.length;){const c=s.path[i];i===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(s))):a[c]=a[c]||{_errors:[]},a=a[c],i++}}};return r(e),n}const qn=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new et;if(a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Ze(c,s,Ve())));throw Vo(i,o?.callee),i}return a.value},Gn=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const i=new(o?.Err??e)(a.issues.map(c=>Ze(c,s,Ve())));throw Vo(i,o?.callee),i}return a.value},Ht=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new et;return s.issues.length?{success:!1,error:new(e??Bo)(s.issues.map(a=>Ze(a,o,Ve())))}:{success:!0,data:s.value}},ll=Ht(Ro),qt=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>Ze(a,o,Ve())))}:{success:!0,data:s.value}},dl=qt(Ro),fl=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qn(e)(t,n,o)},hl=e=>(t,n,r)=>qn(e)(t,n,r),ml=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gn(e)(t,n,o)},pl=e=>async(t,n,r)=>Gn(e)(t,n,r),gl=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ht(e)(t,n,o)},yl=e=>(t,n,r)=>Ht(e)(t,n,r),vl=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return qt(e)(t,n,o)},bl=e=>async(t,n,r)=>qt(e)(t,n,r),wl=/^[cC][^\s-]{8,}$/,_l=/^[0-9a-z]+$/,Ml=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kl=/^[0-9a-vA-V]{20}$/,Sl=/^[A-Za-z0-9]{27}$/,xl=/^[a-zA-Z0-9_-]{21}$/,Ol=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Dl=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Tr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,El=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,zl="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Cl(){return new RegExp(zl,"u")}const Tl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Fl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Il=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$l=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Uo=/^[A-Za-z0-9_-]*$/,Pl=/^\+[1-9]\d{6,14}$/,Ho="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jl=new RegExp(`^${Ho}$`);function qo(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Al(e){return new RegExp(`^${qo(e)}$`)}function Wl(e){const t=qo({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ho}T(?:${r})$`)}const Vl=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Zl=/^[^A-Z]*$/,Yl=/^[^a-z]*$/,ke=y("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Ll=y("$ZodCheckMaxLength",(e,t)=>{var n;ke.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Rn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const a=Hn(o);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Bl=y("$ZodCheckMinLength",(e,t)=>{var n;ke.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Rn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const a=Hn(o);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Rl=y("$ZodCheckLengthEquals",(e,t)=>{var n;ke.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Rn(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,s=o.length;if(s===t.length)return;const a=Hn(o),i=s>t.length;r.issues.push({origin:a,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Gt=y("$ZodCheckStringFormat",(e,t)=>{var n,r;ke.init(e,t),e._zod.onattach.push(o=>{const s=o._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Ul=y("$ZodCheckRegex",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Hl=y("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Zl),Gt.init(e,t)}),ql=y("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Yl),Gt.init(e,t)}),Gl=y("$ZodCheckIncludes",(e,t)=>{ke.init(e,t);const n=rt(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),Jl=y("$ZodCheckStartsWith",(e,t)=>{ke.init(e,t);const n=new RegExp(`^${rt(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Kl=y("$ZodCheckEndsWith",(e,t)=>{ke.init(e,t);const n=new RegExp(`.*${rt(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Xl=y("$ZodCheckOverwrite",(e,t)=>{ke.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Ql{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),o=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(o)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...n,o.join(`
`))}}const ed={major:4,minor:3,patch:6},q=y("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ed;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(a,i,c)=>{let d=Ke(a),f;for(const u of i){if(u._zod.def.when){if(!u._zod.def.when(a))continue}else if(d)continue;const l=a.issues.length,h=u._zod.check(a);if(h instanceof Promise&&c?.async===!1)throw new et;if(f||h instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await h,a.issues.length!==l&&(d||(d=Ke(a,l)))});else{if(a.issues.length===l)continue;d||(d=Ke(a,l))}}return f?f.then(()=>a):a},s=(a,i,c)=>{if(Ke(a))return a.aborted=!0,a;const d=o(i,r,c);if(d instanceof Promise){if(c.async===!1)throw new et;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,i)=>{if(i.skipChecks)return e._zod.parse(a,i);if(i.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...i,skipChecks:!0});return d instanceof Promise?d.then(f=>s(f,a,i)):s(d,a,i)}const c=e._zod.parse(a,i);if(c instanceof Promise){if(i.async===!1)throw new et;return c.then(d=>o(d,r,i))}return o(c,r,i)}}V(e,"~standard",()=>({validate:o=>{try{const s=ll(e,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return dl(e,o).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),Jn=y("$ZodString",(e,t)=>{q.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Vl(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),L=y("$ZodStringFormat",(e,t)=>{Gt.init(e,t),Jn.init(e,t)}),td=y("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Dl),L.init(e,t)}),nd=y("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Tr(r))}else t.pattern??(t.pattern=Tr());L.init(e,t)}),rd=y("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=El),L.init(e,t)}),od=y("$ZodURL",(e,t)=>{L.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),sd=y("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Cl()),L.init(e,t)}),ad=y("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=xl),L.init(e,t)}),id=y("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=wl),L.init(e,t)}),cd=y("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_l),L.init(e,t)}),ud=y("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Ml),L.init(e,t)}),ld=y("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kl),L.init(e,t)}),dd=y("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Sl),L.init(e,t)}),fd=y("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Wl(t)),L.init(e,t)}),hd=y("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=jl),L.init(e,t)}),md=y("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Al(t)),L.init(e,t)}),pd=y("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ol),L.init(e,t)}),gd=y("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Tl),L.init(e,t),e._zod.bag.format="ipv4"}),yd=y("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Nl),L.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),vd=y("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Fl),L.init(e,t)}),bd=y("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Il),L.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Go(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const wd=y("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$l),L.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Go(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function _d(e){if(!Uo.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Go(n)}const Md=y("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Uo),L.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{_d(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),kd=y("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Pl),L.init(e,t)});function Sd(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const xd=y("$ZodJWT",(e,t)=>{L.init(e,t),e._zod.check=n=>{Sd(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Od=y("$ZodUnknown",(e,t)=>{q.init(e,t),e._zod.parse=n=>n}),Dd=y("$ZodNever",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Nr(e,t,n){e.issues.length&&t.issues.push(...Yo(n,e.issues)),t.value[n]=e.value}const Ed=y("$ZodArray",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let a=0;a<o.length;a++){const i=o[a],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?s.push(c.then(d=>Nr(d,n,a))):Nr(c,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Zt(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...Yo(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Jo(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=el(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ko(e,t,n,r,o,s){const a=[],i=o.keySet,c=o.catchall._zod,d=c.def.type,f=c.optout==="optional";for(const u in t){if(i.has(u))continue;if(d==="never"){a.push(u);continue}const l=c.run({value:t[u],issues:[]},r);l instanceof Promise?e.push(l.then(h=>Zt(h,n,u,t,f))):Zt(l,n,u,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const zd=y("$ZodObject",(e,t)=>{if(q.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const i=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...i};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Bn(()=>Jo(t));V(e._zod,"propValues",()=>{const i=t.shape,c={};for(const d in i){const f=i[d]._zod;if(f.values){c[d]??(c[d]=new Set);for(const u of f.values)c[d].add(u)}}return c});const o=Vt,s=t.catchall;let a;e._zod.parse=(i,c)=>{a??(a=r.value);const d=i.value;if(!o(d))return i.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),i;i.value={};const f=[],u=a.shape;for(const l of a.keys){const h=u[l],m=h._zod.optout==="optional",b=h._zod.run({value:d[l],issues:[]},c);b instanceof Promise?f.push(b.then(g=>Zt(g,i,l,d,m))):Zt(b,i,l,d,m)}return s?Ko(f,d,i,c,r.value,e):f.length?Promise.all(f).then(()=>i):i}}),Cd=y("$ZodObjectJIT",(e,t)=>{zd.init(e,t);const n=e._zod.parse,r=Bn(()=>Jo(t)),o=l=>{const h=new Ql(["shape","payload","ctx"]),m=r.value,b=_=>{const M=Cr(_);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};h.write("const input = payload.value;");const g=Object.create(null);let v=0;for(const _ of m.keys)g[_]=`key_${v++}`;h.write("const newResult = {};");for(const _ of m.keys){const M=g[_],k=Cr(_),T=l[_]?._zod?.optout==="optional";h.write(`const ${M} = ${b(_)};`),T?h.write(`
        if (${M}.issues.length) {
          if (${k} in input) {
            payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${k}, ...iss.path] : [${k}]
            })));
          }
        }
        
        if (${M}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${M}.value;
        }
        
      `):h.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        if (${M}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${M}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const O=h.compile();return(_,M)=>O(l,_,M)};let s;const a=Vt,i=!Ao.jitless,d=i&&Xu.value,f=t.catchall;let u;e._zod.parse=(l,h)=>{u??(u=r.value);const m=l.value;return a(m)?i&&d&&h?.async===!1&&h.jitless!==!0?(s||(s=o(t.shape)),l=s(l,h),f?Ko([],m,l,h,u,e):l):n(l,h):(l.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),l)}});function Fr(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const o=e.filter(s=>!Ke(s));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>Ze(a,r,Ve())))}),t)}const Td=y("$ZodUnion",(e,t)=>{q.init(e,t),V(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),V(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),V(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),V(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>Un(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,s)=>{if(n)return r(o,s);let a=!1;const i=[];for(const c of t.options){const d=c._zod.run({value:o.value,issues:[]},s);if(d instanceof Promise)i.push(d),a=!0;else{if(d.issues.length===0)return d;i.push(d)}}return a?Promise.all(i).then(c=>Fr(c,o,e,s)):Fr(i,o,e,s)}}),Nd=y("$ZodIntersection",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,s=t.left._zod.run({value:o,issues:[]},r),a=t.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,d])=>Ir(n,c,d)):Ir(n,s,a)}});function On(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(pt(e)&&pt(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),o={...e,...t};for(const s of r){const a=On(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};o[s]=a.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r],a=On(o,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ir(e,t,n){const r=new Map;let o;for(const i of t.issues)if(i.code==="unrecognized_keys"){o??(o=i);for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else e.issues.push(i);for(const i of n.issues)if(i.code==="unrecognized_keys")for(const c of i.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else e.issues.push(i);const s=[...r].filter(([,i])=>i.l&&i.r).map(([i])=>i);if(s.length&&o&&e.issues.push({...o,keys:s}),Ke(e))return e;const a=On(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const Fd=y("$ZodEnum",(e,t)=>{q.init(e,t);const n=Wo(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>Qu.has(typeof o)).map(o=>typeof o=="string"?rt(o):o.toString()).join("|")})$`),e._zod.parse=(o,s)=>{const a=o.value;return r.has(a)||o.issues.push({code:"invalid_value",values:n,input:a,inst:e}),o}}),Id=y("$ZodLiteral",(e,t)=>{if(q.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?rt(r):r?rt(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),$d=y("$ZodTransform",(e,t)=>{q.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new jo(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(a=>(n.value=a,n));if(o instanceof Promise)throw new et;return n.value=o,n}});function $r(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Xo=y("$ZodOptional",(e,t)=>{q.init(e,t),e._zod.optin="optional",e._zod.optout="optional",V(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),V(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Un(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>$r(s,n.value)):$r(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Pd=y("$ZodExactOptional",(e,t)=>{Xo.init(e,t),V(e._zod,"values",()=>t.innerType._zod.values),V(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),jd=y("$ZodNullable",(e,t)=>{q.init(e,t),V(e._zod,"optin",()=>t.innerType._zod.optin),V(e._zod,"optout",()=>t.innerType._zod.optout),V(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Un(n.source)}|null)$`):void 0}),V(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Ad=y("$ZodDefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",V(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Pr(s,t)):Pr(o,t)}});function Pr(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Wd=y("$ZodPrefault",(e,t)=>{q.init(e,t),e._zod.optin="optional",V(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Vd=y("$ZodNonOptional",(e,t)=>{q.init(e,t),V(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>jr(s,e)):jr(o,e)}});function jr(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Zd=y("$ZodCatch",(e,t)=>{q.init(e,t),V(e._zod,"optin",()=>t.innerType._zod.optin),V(e._zod,"optout",()=>t.innerType._zod.optout),V(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>Ze(a,r,Ve()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Ze(s,r,Ve()))},input:n.value}),n.issues=[]),n)}}),Yd=y("$ZodPipe",(e,t)=>{q.init(e,t),V(e._zod,"values",()=>t.in._zod.values),V(e._zod,"optin",()=>t.in._zod.optin),V(e._zod,"optout",()=>t.out._zod.optout),V(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(a=>Tt(a,t.in,r)):Tt(s,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(s=>Tt(s,t.out,r)):Tt(o,t.out,r)}});function Tt(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Ld=y("$ZodReadonly",(e,t)=>{q.init(e,t),V(e._zod,"propValues",()=>t.innerType._zod.propValues),V(e._zod,"values",()=>t.innerType._zod.values),V(e._zod,"optin",()=>t.innerType?._zod?.optin),V(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Ar):Ar(o)}});function Ar(e){return e.value=Object.freeze(e.value),e}const Bd=y("$ZodCustom",(e,t)=>{ke.init(e,t),q.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(s=>Wr(s,n,r,e));Wr(o,n,r,e)}});function Wr(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(gt(o))}}var Vr;class Rd{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Ud(){return new Rd}(Vr=globalThis).__zod_globalRegistry??(Vr.__zod_globalRegistry=Ud());const dt=globalThis.__zod_globalRegistry;function Hd(e,t){return new e({type:"string",...z(t)})}function qd(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function Zr(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function Gd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function Jd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function Kd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function Xd(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function Qd(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function ef(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function tf(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function nf(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function rf(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function of(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function sf(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function af(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function cf(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function uf(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function lf(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function df(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function ff(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function hf(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function mf(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function pf(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function gf(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function yf(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function vf(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function bf(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function wf(e){return new e({type:"unknown"})}function _f(e,t){return new e({type:"never",...z(t)})}function Qo(e,t){return new Ll({check:"max_length",...z(t),maximum:e})}function Yt(e,t){return new Bl({check:"min_length",...z(t),minimum:e})}function es(e,t){return new Rl({check:"length_equals",...z(t),length:e})}function Mf(e,t){return new Ul({check:"string_format",format:"regex",...z(t),pattern:e})}function kf(e){return new Hl({check:"string_format",format:"lowercase",...z(e)})}function Sf(e){return new ql({check:"string_format",format:"uppercase",...z(e)})}function xf(e,t){return new Gl({check:"string_format",format:"includes",...z(t),includes:e})}function Of(e,t){return new Jl({check:"string_format",format:"starts_with",...z(t),prefix:e})}function Df(e,t){return new Kl({check:"string_format",format:"ends_with",...z(t),suffix:e})}function st(e){return new Xl({check:"overwrite",tx:e})}function Ef(e){return st(t=>t.normalize(e))}function zf(){return st(e=>e.trim())}function Cf(){return st(e=>e.toLowerCase())}function Tf(){return st(e=>e.toUpperCase())}function Nf(){return st(e=>Ku(e))}function Ff(e,t,n){return new e({type:"array",element:t,...z(n)})}function If(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function $f(e){const t=Pf(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(gt(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(gt(o))}},e(n.value,n)));return t}function Pf(e,t){const n=new ke({check:"custom",...z(t)});return n._zod.check=e,n}function ts(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??dt,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function X(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const i=e._zod.toJSONSchema?.();if(i)a.schema=i;else{const f={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,f);else{const l=a.schema,h=t.processors[o.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);h(e,t,l,f)}const u=e._zod.parent;u&&(a.ref||(a.ref=u),X(u,t,f),t.seen.get(u).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&te(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function ns(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const a of e.seen.entries()){const i=e.metadataRegistry.get(a[0])?.id;if(i){const c=r.get(i);if(c&&c!==a[0])throw new Error(`Duplicate schema id "${i}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(i,a[0])}}const o=a=>{const i=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const u=e.external.registry.get(a[0])?.id,l=e.external.uri??(m=>m);if(u)return{ref:l(u)};const h=a[1].defId??a[1].schema.id??`schema${e.counter++}`;return a[1].defId=h,{defId:h,ref:`${l("__shared")}#/${i}/${h}`}}if(a[1]===n)return{ref:"#"};const d=`#/${i}/`,f=a[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},s=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:d}=o(a);i.def={...i.schema},d&&(i.defId=d);const f=i.schema;for(const u in f)delete f[u];f.$ref=c};if(e.cycles==="throw")for(const a of e.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of e.seen.entries()){const i=a[1];if(t===a[0]){s(a);continue}if(e.external){const d=e.external.registry.get(a[0])?.id;if(t!==a[0]&&d){s(a);continue}}if(e.metadataRegistry.get(a[0])?.id){s(a);continue}if(i.cycle){s(a);continue}if(i.count>1&&e.reused==="ref"){s(a);continue}}}function rs(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=a=>{const i=e.seen.get(a);if(i.ref===null)return;const c=i.def??i.schema,d={...c},f=i.ref;if(i.ref=null,f){r(f);const l=e.seen.get(f),h=l.schema;if(h.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(h)):Object.assign(c,h),Object.assign(c,d),a._zod.parent===f)for(const b in c)b==="$ref"||b==="allOf"||b in d||delete c[b];if(h.$ref&&l.def)for(const b in c)b==="$ref"||b==="allOf"||b in l.def&&JSON.stringify(c[b])===JSON.stringify(l.def[b])&&delete c[b]}const u=a._zod.parent;if(u&&u!==f){r(u);const l=e.seen.get(u);if(l?.schema.$ref&&(c.$ref=l.schema.$ref,l.def))for(const h in c)h==="$ref"||h==="allOf"||h in l.def&&JSON.stringify(c[h])===JSON.stringify(l.def[h])&&delete c[h]}e.override({zodSchema:a,jsonSchema:c,path:i.path??[]})};for(const a of[...e.seen.entries()].reverse())r(a[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const a=e.external.registry.get(t)?.id;if(!a)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(a)}Object.assign(o,n.def??n.schema);const s=e.external?.defs??{};for(const a of e.seen.entries()){const i=a[1];i.def&&i.defId&&(s[i.defId]=i.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?o.$defs=s:o.definitions=s);try{const a=JSON.parse(JSON.stringify(o));return Object.defineProperty(a,"~standard",{value:{...t["~standard"],jsonSchema:{input:Lt(t,"input",e.processors),output:Lt(t,"output",e.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function te(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return te(r.element,n);if(r.type==="set")return te(r.valueType,n);if(r.type==="lazy")return te(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return te(r.innerType,n);if(r.type==="intersection")return te(r.left,n)||te(r.right,n);if(r.type==="record"||r.type==="map")return te(r.keyType,n)||te(r.valueType,n);if(r.type==="pipe")return te(r.in,n)||te(r.out,n);if(r.type==="object"){for(const o in r.shape)if(te(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(te(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(te(o,n))return!0;return!!(r.rest&&te(r.rest,n))}return!1}const jf=(e,t={})=>n=>{const r=ts({...n,processors:t});return X(e,r),ns(r,e),rs(r,e)},Lt=(e,t,n={})=>r=>{const{libraryOptions:o,target:s}=r??{},a=ts({...o??{},target:s,io:t,processors:n});return X(e,a),ns(a,e),rs(a,e)},Af={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Wf=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:s,maximum:a,format:i,patterns:c,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(o.minLength=s),typeof a=="number"&&(o.maxLength=a),i&&(o.format=Af[i]??i,o.format===""&&delete o.format,i==="time"&&delete o.format),d&&(o.contentEncoding=d),c&&c.size>0){const f=[...c];f.length===1?o.pattern=f[0].source:f.length>1&&(o.allOf=[...f.map(u=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:u.source}))])}},Vf=(e,t,n,r)=>{n.not={}},Zf=(e,t,n,r)=>{},Yf=(e,t,n,r)=>{const o=e._zod.def,s=Wo(o.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},Lf=(e,t,n,r)=>{const o=e._zod.def,s=[];for(const a of o.values)if(a===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(a))}else s.push(a);if(s.length!==0)if(s.length===1){const a=s[0];n.type=a===null?"null":typeof a,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[a]:n.const=a}else s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),s.every(a=>typeof a=="boolean")&&(n.type="boolean"),s.every(a=>a===null)&&(n.type="null"),n.enum=s},Bf=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Rf=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Uf=(e,t,n,r)=>{const o=n,s=e._zod.def,{minimum:a,maximum:i}=e._zod.bag;typeof a=="number"&&(o.minItems=a),typeof i=="number"&&(o.maxItems=i),o.type="array",o.items=X(s.element,t,{...r,path:[...r.path,"items"]})},Hf=(e,t,n,r)=>{const o=n,s=e._zod.def;o.type="object",o.properties={};const a=s.shape;for(const d in a)o.properties[d]=X(a[d],t,{...r,path:[...r.path,"properties",d]});const i=new Set(Object.keys(a)),c=new Set([...i].filter(d=>{const f=s.shape[d]._zod;return t.io==="input"?f.optin===void 0:f.optout===void 0}));c.size>0&&(o.required=Array.from(c)),s.catchall?._zod.def.type==="never"?o.additionalProperties=!1:s.catchall?s.catchall&&(o.additionalProperties=X(s.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},qf=(e,t,n,r)=>{const o=e._zod.def,s=o.inclusive===!1,a=o.options.map((i,c)=>X(i,t,{...r,path:[...r.path,s?"oneOf":"anyOf",c]}));s?n.oneOf=a:n.anyOf=a},Gf=(e,t,n,r)=>{const o=e._zod.def,s=X(o.left,t,{...r,path:[...r.path,"allOf",0]}),a=X(o.right,t,{...r,path:[...r.path,"allOf",1]}),i=d=>"allOf"in d&&Object.keys(d).length===1,c=[...i(s)?s.allOf:[s],...i(a)?a.allOf:[a]];n.allOf=c},Jf=(e,t,n,r)=>{const o=e._zod.def,s=X(o.innerType,t,r),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=o.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Kf=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},Xf=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},Qf=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},eh=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType;let a;try{a=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},th=(e,t,n,r)=>{const o=e._zod.def,s=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;X(s,t,r);const a=t.seen.get(e);a.ref=s},nh=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType,n.readOnly=!0},os=(e,t,n,r)=>{const o=e._zod.def;X(o.innerType,t,r);const s=t.seen.get(e);s.ref=o.innerType},rh=y("ZodISODateTime",(e,t)=>{fd.init(e,t),U.init(e,t)});function oh(e){return gf(rh,e)}const sh=y("ZodISODate",(e,t)=>{hd.init(e,t),U.init(e,t)});function ah(e){return yf(sh,e)}const ih=y("ZodISOTime",(e,t)=>{md.init(e,t),U.init(e,t)});function ch(e){return vf(ih,e)}const uh=y("ZodISODuration",(e,t)=>{pd.init(e,t),U.init(e,t)});function lh(e){return bf(uh,e)}const dh=(e,t)=>{Bo.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>ul(e,n)},flatten:{value:n=>cl(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,xn,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,xn,2)}},isEmpty:{get(){return e.issues.length===0}}})},fe=y("ZodError",dh,{Parent:Error}),fh=qn(fe),hh=Gn(fe),mh=Ht(fe),ph=qt(fe),gh=fl(fe),yh=hl(fe),vh=ml(fe),bh=pl(fe),wh=gl(fe),_h=yl(fe),Mh=vl(fe),kh=bl(fe),G=y("ZodType",(e,t)=>(q.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Lt(e,"input"),output:Lt(e,"output")}}),e.toJSONSchema=jf(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Ne(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Fe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>fh(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>mh(e,n,r),e.parseAsync=async(n,r)=>hh(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>ph(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>gh(e,n,r),e.decode=(n,r)=>yh(e,n,r),e.encodeAsync=async(n,r)=>vh(e,n,r),e.decodeAsync=async(n,r)=>bh(e,n,r),e.safeEncode=(n,r)=>wh(e,n,r),e.safeDecode=(n,r)=>_h(e,n,r),e.safeEncodeAsync=async(n,r)=>Mh(e,n,r),e.safeDecodeAsync=async(n,r)=>kh(e,n,r),e.refine=(n,r)=>e.check(ym(n,r)),e.superRefine=n=>e.check(vm(n)),e.overwrite=n=>e.check(st(n)),e.optional=()=>Br(e),e.exactOptional=()=>om(e),e.nullable=()=>Rr(e),e.nullish=()=>Br(Rr(e)),e.nonoptional=n=>lm(e,n),e.array=()=>Uh(e),e.or=n=>as([e,n]),e.and=n=>Kh(e,n),e.transform=n=>Ur(e,nm(n)),e.default=n=>im(e,n),e.prefault=n=>um(e,n),e.catch=n=>fm(e,n),e.pipe=n=>Ur(e,n),e.readonly=()=>pm(e),e.describe=n=>{const r=e.clone();return dt.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return dt.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return dt.get(e);const r=e.clone();return dt.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),ss=y("_ZodString",(e,t)=>{Jn.init(e,t),G.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Wf(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Mf(...r)),e.includes=(...r)=>e.check(xf(...r)),e.startsWith=(...r)=>e.check(Of(...r)),e.endsWith=(...r)=>e.check(Df(...r)),e.min=(...r)=>e.check(Yt(...r)),e.max=(...r)=>e.check(Qo(...r)),e.length=(...r)=>e.check(es(...r)),e.nonempty=(...r)=>e.check(Yt(1,...r)),e.lowercase=r=>e.check(kf(r)),e.uppercase=r=>e.check(Sf(r)),e.trim=()=>e.check(zf()),e.normalize=(...r)=>e.check(Ef(...r)),e.toLowerCase=()=>e.check(Cf()),e.toUpperCase=()=>e.check(Tf()),e.slugify=()=>e.check(Nf())}),Sh=y("ZodString",(e,t)=>{Jn.init(e,t),ss.init(e,t),e.email=n=>e.check(qd(xh,n)),e.url=n=>e.check(Qd(Oh,n)),e.jwt=n=>e.check(pf(Zh,n)),e.emoji=n=>e.check(ef(Dh,n)),e.guid=n=>e.check(Zr(Yr,n)),e.uuid=n=>e.check(Gd(Nt,n)),e.uuidv4=n=>e.check(Jd(Nt,n)),e.uuidv6=n=>e.check(Kd(Nt,n)),e.uuidv7=n=>e.check(Xd(Nt,n)),e.nanoid=n=>e.check(tf(Eh,n)),e.guid=n=>e.check(Zr(Yr,n)),e.cuid=n=>e.check(nf(zh,n)),e.cuid2=n=>e.check(rf(Ch,n)),e.ulid=n=>e.check(of(Th,n)),e.base64=n=>e.check(ff(Ah,n)),e.base64url=n=>e.check(hf(Wh,n)),e.xid=n=>e.check(sf(Nh,n)),e.ksuid=n=>e.check(af(Fh,n)),e.ipv4=n=>e.check(cf(Ih,n)),e.ipv6=n=>e.check(uf($h,n)),e.cidrv4=n=>e.check(lf(Ph,n)),e.cidrv6=n=>e.check(df(jh,n)),e.e164=n=>e.check(mf(Vh,n)),e.datetime=n=>e.check(oh(n)),e.date=n=>e.check(ah(n)),e.time=n=>e.check(ch(n)),e.duration=n=>e.check(lh(n))});function ie(e){return Hd(Sh,e)}const U=y("ZodStringFormat",(e,t)=>{L.init(e,t),ss.init(e,t)}),xh=y("ZodEmail",(e,t)=>{rd.init(e,t),U.init(e,t)}),Yr=y("ZodGUID",(e,t)=>{td.init(e,t),U.init(e,t)}),Nt=y("ZodUUID",(e,t)=>{nd.init(e,t),U.init(e,t)}),Oh=y("ZodURL",(e,t)=>{od.init(e,t),U.init(e,t)}),Dh=y("ZodEmoji",(e,t)=>{sd.init(e,t),U.init(e,t)}),Eh=y("ZodNanoID",(e,t)=>{ad.init(e,t),U.init(e,t)}),zh=y("ZodCUID",(e,t)=>{id.init(e,t),U.init(e,t)}),Ch=y("ZodCUID2",(e,t)=>{cd.init(e,t),U.init(e,t)}),Th=y("ZodULID",(e,t)=>{ud.init(e,t),U.init(e,t)}),Nh=y("ZodXID",(e,t)=>{ld.init(e,t),U.init(e,t)}),Fh=y("ZodKSUID",(e,t)=>{dd.init(e,t),U.init(e,t)}),Ih=y("ZodIPv4",(e,t)=>{gd.init(e,t),U.init(e,t)}),$h=y("ZodIPv6",(e,t)=>{yd.init(e,t),U.init(e,t)}),Ph=y("ZodCIDRv4",(e,t)=>{vd.init(e,t),U.init(e,t)}),jh=y("ZodCIDRv6",(e,t)=>{bd.init(e,t),U.init(e,t)}),Ah=y("ZodBase64",(e,t)=>{wd.init(e,t),U.init(e,t)}),Wh=y("ZodBase64URL",(e,t)=>{Md.init(e,t),U.init(e,t)}),Vh=y("ZodE164",(e,t)=>{kd.init(e,t),U.init(e,t)}),Zh=y("ZodJWT",(e,t)=>{xd.init(e,t),U.init(e,t)}),Yh=y("ZodUnknown",(e,t)=>{Od.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Zf()});function Lr(){return wf(Yh)}const Lh=y("ZodNever",(e,t)=>{Dd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Vf(e,n,r)});function Bh(e){return _f(Lh,e)}const Rh=y("ZodArray",(e,t)=>{Ed.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Uf(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Yt(n,r)),e.nonempty=n=>e.check(Yt(1,n)),e.max=(n,r)=>e.check(Qo(n,r)),e.length=(n,r)=>e.check(es(n,r)),e.unwrap=()=>e.element});function Uh(e,t){return Ff(Rh,e,t)}const Hh=y("ZodObject",(e,t)=>{Cd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Hf(e,n,r,o),V(e,"shape",()=>t.shape),e.keyof=()=>Xh(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Lr()}),e.loose=()=>e.clone({...e._zod.def,catchall:Lr()}),e.strict=()=>e.clone({...e._zod.def,catchall:Bh()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>rl(e,n),e.safeExtend=n=>ol(e,n),e.merge=n=>sl(e,n),e.pick=n=>tl(e,n),e.omit=n=>nl(e,n),e.partial=(...n)=>al(is,e,n[0]),e.required=(...n)=>il(cs,e,n[0])});function qh(e,t){const n={type:"object",shape:e??{},...z(t)};return new Hh(n)}const Gh=y("ZodUnion",(e,t)=>{Td.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>qf(e,n,r,o),e.options=t.options});function as(e,t){return new Gh({type:"union",options:e,...z(t)})}const Jh=y("ZodIntersection",(e,t)=>{Nd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Gf(e,n,r,o)});function Kh(e,t){return new Jh({type:"intersection",left:e,right:t})}const Dn=y("ZodEnum",(e,t)=>{Fd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(r,o,s)=>Yf(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const s={};for(const a of r)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Dn({...t,checks:[],...z(o),entries:s})},e.exclude=(r,o)=>{const s={...t.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Dn({...t,checks:[],...z(o),entries:s})}});function Xh(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Dn({type:"enum",entries:n,...z(t)})}const Qh=y("ZodLiteral",(e,t)=>{Id.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Lf(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function em(e,t){return new Qh({type:"literal",values:Array.isArray(e)?e:[e],...z(t)})}const tm=y("ZodTransform",(e,t)=>{$d.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Rf(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new jo(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(gt(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(gt(a))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function nm(e){return new tm({type:"transform",transform:e})}const is=y("ZodOptional",(e,t)=>{Xo.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>os(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Br(e){return new is({type:"optional",innerType:e})}const rm=y("ZodExactOptional",(e,t)=>{Pd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>os(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function om(e){return new rm({type:"optional",innerType:e})}const sm=y("ZodNullable",(e,t)=>{jd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Jf(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Rr(e){return new sm({type:"nullable",innerType:e})}const am=y("ZodDefault",(e,t)=>{Ad.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Xf(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function im(e,t){return new am({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Zo(t)}})}const cm=y("ZodPrefault",(e,t)=>{Wd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Qf(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function um(e,t){return new cm({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Zo(t)}})}const cs=y("ZodNonOptional",(e,t)=>{Vd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Kf(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function lm(e,t){return new cs({type:"nonoptional",innerType:e,...z(t)})}const dm=y("ZodCatch",(e,t)=>{Zd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>eh(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function fm(e,t){return new dm({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const hm=y("ZodPipe",(e,t)=>{Yd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>th(e,n,r,o),e.in=t.in,e.out=t.out});function Ur(e,t){return new hm({type:"pipe",in:e,out:t})}const mm=y("ZodReadonly",(e,t)=>{Ld.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>nh(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function pm(e){return new mm({type:"readonly",innerType:e})}const gm=y("ZodCustom",(e,t)=>{Bd.init(e,t),G.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Bf(e,n)});function ym(e,t={}){return If(gm,e,t)}function vm(e){return $f(e)}function bm(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let En=1;class wm{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,s=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:En++,a=this.toasts.find(c=>c.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:i,title:r}):c):this.addToast({title:r,...o,dismissible:i,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,a;const i=o.then(async d=>{if(a=["resolve",d],w.isValidElement(d))s=!1,this.create({id:r,type:"default",message:d});else if(Mm(d)&&!d.ok){s=!1;const u=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,m=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(d instanceof Error){s=!1;const u=typeof n.error=="function"?await n.error(d):n.error,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:l,...m})}else if(n.success!==void 0){s=!1;const u=typeof n.success=="function"?await n.success(d):n.success,l=typeof n.description=="function"?await n.description(d):n.description,m=typeof u=="object"&&!w.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:l,...m})}}).catch(async d=>{if(a=["reject",d],n.error!==void 0){s=!1;const f=typeof n.error=="function"?await n.error(d):n.error,u=typeof n.description=="function"?await n.description(d):n.description,h=typeof f=="object"&&!w.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:u,...h})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,f)=>i.then(()=>a[0]==="reject"?f(a[1]):d(a[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=n?.id||En++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const le=new wm,_m=(e,t)=>{const n=t?.id||En++;return le.addToast({title:e,...t,id:n}),n},Mm=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",km=_m,Sm=()=>le.toasts,xm=()=>le.getActiveToasts(),Om=Object.assign(km,{success:le.success,info:le.info,warning:le.warning,error:le.error,custom:le.custom,message:le.message,promise:le.promise,dismiss:le.dismiss,loading:le.loading},{getHistory:Sm,getToasts:xm});bm("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Dm=new Set(aa(100,5).map(e=>e.value)),Em=qh({firstName:ie(),lastName:ie(),phone:ie().refine(e=>e===""||ar(e),"מספר טלפון לא תקין"),homePhone:ie().refine(e=>e===""||ar(e),"מספר טלפון לא תקין"),email:as([em(""),ie().email("כתובת אימייל לא תקינה")]),city:ie(),address:ie(),shiurYear:ie().refine(e=>e===""||Dm.has(e),"יש לבחור שנה עברית תקינה מהרשימה"),teudatZehut:ie().refine(e=>e===""||ia(e),"תעודת זהות לא תקינה"),birthDate:ie(),notes:ie(),studentCode:ie()}).refine(e=>Object.values(e).filter(n=>typeof n=="string"&&n.trim()!=="").length>0,{message:"יש להזין לפחות נתון אחד",path:["root"]});function zm({defaultValues:e,onSubmit:t,isEditMode:n}){const r=Kr(),{isSuperAdmin:o}=Xr(),[s,a]=x.useState(!!(e.teudatZehut||e.birthDate||e.notes||e.studentCode)),[i,c]=x.useState(""),d=Ju({defaultValues:e,validatorAdapter:Ae,validators:{onChange:Em},onSubmit:async({value:u})=>{c("");try{await t(u)}catch(l){console.error(l);const h=l?.response?.data?.error?.message||(l instanceof Error?l.message:"אירעה שגיאה בשמירת הנתונים");c(h),Om.error(h)}}}),f=o;return p.jsxs("div",{className:"bg-card border rounded-lg p-6 shadow-sm",children:[p.jsx("p",{className:"text-muted-foreground mb-6",children:"שדות אינם חובה, אך נדרש למלא לפחות אחד מהם לשמירה."}),p.jsxs("form",{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),d.handleSubmit()},className:"grid gap-6",children:[(i||d.state.errors.length>0)&&p.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:[p.jsx(Gr,{size:18}),p.jsx("span",{children:i||"יש להזין לפחות נתון אחד או לתקן את השגיאות"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(d.Field,{name:"firstName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם פרטי"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsx(d.Field,{name:"lastName",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"שם משפחה"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(d.Field,{name:"phone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"פלאפון"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsx(d.Field,{name:"homePhone",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"טלפון (בית)"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value),dir:"ltr"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})})]}),p.jsx(d.Field,{name:"email",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"אימייל"}),p.jsx(ye,{id:u.name,name:u.name,type:"email",value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(d.Field,{name:"city",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"עיר"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsx(d.Field,{name:"address",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"כתובת"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value),placeholder:"רחוב ומס' בית"}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})})]}),p.jsx(d.Field,{name:"shiurYear",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"מחזור (שנה עברית)"}),p.jsx(sa,{value:u.state.value,onChange:l=>u.handleChange(l)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsxs("div",{className:"border rounded-md p-4 bg-muted/50",children:[p.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-medium hover:underline",onClick:()=>a(!s),children:["פרטים נוספים",s?p.jsx(js,{size:16}):p.jsx(zn,{size:16})]}),s&&p.jsxs("div",{className:"mt-4 grid gap-4 animate-in slide-in-from-top-2 fade-in duration-200",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsx(d.Field,{name:"teudatZehut",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תעודת זהות"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),p.jsx(d.Field,{name:"birthDate",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"תאריך לידה"}),p.jsx(Eu,{value:u.state.value,onChange:l=>u.handleChange(l)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})})]}),p.jsx(d.Field,{name:"notes",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,children:"הערות"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})}),f&&p.jsx(d.Field,{name:"studentCode",children:u=>p.jsxs("div",{className:"grid gap-2",children:[p.jsx(ae,{htmlFor:u.name,className:"text-destructive font-semibold",children:"קוד תלמיד (מנהל)"}),p.jsx(ye,{id:u.name,name:u.name,value:u.state.value,onBlur:u.handleBlur,onChange:l=>u.handleChange(l.target.value)}),u.state.meta.errors&&u.state.meta.errors.length>0&&p.jsx("p",{className:"text-xs text-destructive",children:u.state.meta.errors.map(l=>typeof l=="string"?l:l?.message||"שגיאה").join(", ")})]})})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[p.jsx(tt,{type:"button",variant:"outline",onClick:()=>r("/graduates"),disabled:d.state.isSubmitting,children:"ביטול"}),p.jsx(d.Subscribe,{selector:u=>[u.canSubmit,u.isSubmitting],children:([u,l])=>p.jsxs(tt,{type:"submit",disabled:!u||l,children:[l&&p.jsx(Jr,{className:"ml-2 h-4 w-4 animate-spin"}),n?"שמור שינויים":"שמור בוגר"]})})]})]})]})}function Ym(){const{id:e}=Ws(),t=Kr(),{isSuperAdmin:n,isShiurManager:r,user:o}=Xr(),[s,a]=x.useState(!!e),[i,c]=x.useState(""),[d,f]=x.useState({firstName:"",lastName:"",phone:"",homePhone:"",email:"",city:"",address:"",shiurYear:"",teudatZehut:"",birthDate:"",notes:"",studentCode:""});Vs(e?"עריכת בוגר":"רישום בוגר"),x.useEffect(()=>{e?sn.getGraduateById(e).then(l=>{f({firstName:l.first_name||"",lastName:l.last_name||"",phone:l.phone||"",homePhone:l.home_phone||"",email:l.email||"",city:l.city||"",address:l.address||"",shiurYear:l.shiur_year?.toString()||"",teudatZehut:l.teudat_zehut||"",birthDate:l.birth_date||"",notes:l.notes||"",studentCode:l.student_code||""})}).catch(l=>{console.error(l),c("לא ניתן לטעון את פרטי הבוגר")}).finally(()=>{a(!1)}):r&&o?.shiurs?.length===1&&f(l=>({...l,shiurYear:o.shiurs?.[0]||""}))},[e,r,o]);const u=async l=>{if(r&&l.shiurYear&&!o?.shiurs?.includes(l.shiurYear))throw new Error("אין לך הרשאה לשייך בוגר למחזור שאינו בניהולך");const h={first_name:l.firstName,last_name:l.lastName,phone:pn(l.phone),home_phone:pn(l.homePhone),email:l.email,city:l.city,address:l.address,shiur_year:l.shiurYear||void 0,teudat_zehut:l.teudatZehut,birth_date:l.birthDate,notes:l.notes,student_code:n?l.studentCode:void 0};e?await sn.updateGraduate(e,h):await sn.createGraduate(h),t("/graduates")};return s?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx(Jr,{className:"h-8 w-8 animate-spin text-primary"})}):p.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>t("/graduates"),children:p.jsx(As,{className:"h-5 w-5"})}),p.jsx("h1",{className:"text-2xl font-bold",children:e?"עריכת פרטי בוגר":"רישום בוגר חדש"})]}),i?p.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:[p.jsx(Gr,{size:18}),p.jsx("span",{children:i})]}):p.jsx(zm,{defaultValues:d,onSubmit:u,isEditMode:!!e})]})}export{Ym as default};
