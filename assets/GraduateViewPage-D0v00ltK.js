import{j as e,o as j,H as f,r as N,C as i,L as g,B as d,M as v,N as b,O as w}from"./ui-BdsuqOTa.js";import{i as y,u as I,r as a}from"./vendor-CxWUHsYF.js";import{g as _}from"./graduatesService-Col7aa1F.js";import{a as P,B as n}from"./index-D_mPSwq-.js";import{P as C}from"./ProfileCompletion-JuFokNhf.js";import"./tooltip-H8Iafm6f.js";import"./index-C2MNuPaw.js";function M(){const{id:t}=y(),r=I(),{can:l}=P(),[s,m]=a.useState(null),[o,x]=a.useState(!0),[c,h]=a.useState("");if(a.useEffect(()=>{t&&_.getGraduateById(t).then(m).catch(p=>{console.error(p),h("לא ניתן לטעון את פרטי הבוגר")}).finally(()=>x(!1))},[t]),o)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-primary"})});if(c||!s)return e.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4 text-center",children:[e.jsx("p",{className:"text-destructive font-medium mb-4",children:c||"בוגר לא נמצא"}),e.jsx(n,{onClick:()=>r("/graduates"),children:"חזרה לרשימה"})]});const u=l("update","graduates",s);return e.jsxs("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>r("/graduates"),children:e.jsx(f,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[s.first_name," ",s.last_name]}),s.student_code&&e.jsxs("p",{className:"text-muted-foreground text-sm",children:["קוד תלמיד: ",s.student_code]})]})]}),e.jsx("div",{children:u&&e.jsxs(n,{variant:"outline",onClick:()=>r(`/graduates/${s.id}/edit`),children:[e.jsx(N,{className:"h-4 w-4 ml-2"}),"עריכה"]})})]}),e.jsxs("div",{className:"bg-card border rounded-lg p-6 shadow-sm space-y-8",children:[e.jsx("div",{className:"pb-6 border-b",children:e.jsx(C,{graduate:s})}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"פרטי קשר"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"נייד:"}),e.jsx("a",{href:`tel:${s.phone}`,className:"hover:underline",dir:"ltr",children:s.phone||"-"})]}),s.home_phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"בית:"}),e.jsx("a",{href:`tel:${s.home_phone}`,className:"hover:underline",dir:"ltr",children:s.home_phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"אימייל:"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:underline",children:s.email||"-"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"כתובת ומגורים"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"עיר:"}),e.jsx("span",{children:s.city||"-"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-muted-foreground mt-1 opacity-0"}),e.jsx("span",{className:"font-medium",children:"כתובת:"}),e.jsx("span",{children:s.address||"-"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"פרטים אישיים"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"מחזור:"}),e.jsx("span",{children:s.shiur_year||"ללא מחזור"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"ת.ז:"}),e.jsx("span",{children:s.teudat_zehut||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"תאריך לידה:"}),e.jsx("span",{children:s.birth_date||"-"})]})]})]}),s.notes&&e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"הערות"}),e.jsx("p",{className:"whitespace-pre-wrap text-sm bg-muted/30 p-4 rounded-md",children:s.notes})]})]})]})]})}export{M as default};
